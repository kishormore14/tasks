"use strict";(self.webpackChunktask_app=self.webpackChunktask_app||[]).push([[792],{757:()=>{function ge(n){return"function"==typeof n}function yh(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const vh=yh(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ha(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class wt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ge(i))try{i()}catch(o){e=o instanceof vh?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{EM(o)}catch(s){e=e??[],s instanceof vh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)EM(e);else{if(e instanceof wt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ha(t,e)}remove(e){const{_finalizers:t}=this;t&&ha(t,e),e instanceof wt&&e._removeParent(this)}}wt.EMPTY=(()=>{const n=new wt;return n.closed=!0,n})();const wM=wt.EMPTY;function CM(n){return n instanceof wt||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function EM(n){ge(n)?n():n.unsubscribe()}const Xo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bh={setTimeout(n,e,...t){const{delegate:i}=bh;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=bh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function DM(n){bh.setTimeout(()=>{const{onUnhandledError:e}=Xo;if(!e)throw n;e(n)})}function cl(){}const Dz=b_("C",void 0,void 0);function b_(n,e,t){return{kind:n,value:e,error:t}}let Zo=null;function xh(n){if(Xo.useDeprecatedSynchronousErrorHandling){const e=!Zo;if(e&&(Zo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Zo;if(Zo=null,t)throw i}}else n()}class x_ extends wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,CM(e)&&e.add(this)):this.destination=Rz}static create(e,t,i){return new ll(e,t,i)}next(e){this.isStopped?C_(function Tz(n){return b_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?C_(function Iz(n){return b_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?C_(Dz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Mz=Function.prototype.bind;function w_(n,e){return Mz.call(n,e)}class Sz{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){wh(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){wh(i)}else wh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){wh(t)}}}class ll extends x_{constructor(e,t,i){let r;if(super(),ge(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Xo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&w_(e.next,o),error:e.error&&w_(e.error,o),complete:e.complete&&w_(e.complete,o)}):r=e}this.destination=new Sz(r)}}function wh(n){Xo.useDeprecatedSynchronousErrorHandling?function kz(n){Xo.useDeprecatedSynchronousErrorHandling&&Zo&&(Zo.errorThrown=!0,Zo.error=n)}(n):DM(n)}function C_(n,e){const{onStoppedNotification:t}=Xo;t&&bh.setTimeout(()=>t(n,e))}const Rz={closed:!0,next:cl,error:function Az(n){throw n},complete:cl},E_="function"==typeof Symbol&&Symbol.observable||"@@observable";function fa(n){return n}let Ve=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Pz(n){return n&&n instanceof x_||function Oz(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}(n)&&CM(n)}(t)?t:new ll(t,i,r);return xh(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=TM(i))((r,o)=>{const s=new ll({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[E_](){return this}pipe(...t){return function IM(n){return 0===n.length?fa:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=TM(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function TM(n){var e;return null!==(e=n??Xo.Promise)&&void 0!==e?e:Promise}const Nz=yh(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class n extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new kM(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Nz}next(t){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?wM:(this.currentObservers=null,o.push(t),new wt(()=>{this.currentObservers=null,ha(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ve;return t.source=this,t}}return n.create=(e,t)=>new kM(e,t),n})();class kM extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:wM}}function MM(n){return ge(n?.lift)}function At(n){return e=>{if(MM(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(n,e,t,i,r){return new Fz(n,e,t,i,r)}class Fz extends x_{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function We(n,e){return At((t,i)=>{let r=0;t.subscribe(Ct(i,o=>{i.next(n.call(e,o,r++))}))})}function Ch(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function to(n){return this instanceof to?(this.v=n,this):new to(n)}function OM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function k_(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const S_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function PM(n){return ge(n?.then)}function NM(n){return ge(n[E_])}function FM(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function LM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const VM=function c$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function BM(n){return ge(n?.[VM])}function jM(n){return function RM(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(f){return function(p){return Promise.resolve(p).then(f,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(f,p){i[f]&&(r[f]=function(m){return new Promise(function(_,v){o.push([f,m,_,v])>1||c(f,m)})},p&&(r[f]=p(r[f])))}function c(f,p){try{!function l(f){f.value instanceof to?Promise.resolve(f.value.v).then(d,u):h(o[0][2],f)}(i[f](p))}catch(m){h(o[0][3],m)}}function d(f){c("next",f)}function u(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield to(t.read());if(r)return yield to(void 0);yield yield to(i)}}finally{t.releaseLock()}})}function UM(n){return ge(n?.getReader)}function Xt(n){if(n instanceof Ve)return n;if(null!=n){if(NM(n))return function l$(n){return new Ve(e=>{const t=n[E_]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(S_(n))return function d$(n){return new Ve(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(PM(n))return function u$(n){return new Ve(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,DM)})}(n);if(FM(n))return HM(n);if(BM(n))return function h$(n){return new Ve(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(UM(n))return function f$(n){return HM(jM(n))}(n)}throw LM(n)}function HM(n){return new Ve(e=>{(function p$(n,e){var t,i,r,o;return function SM(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(u){s(u)}}function c(d){try{l(i.throw(d))}catch(u){s(u)}}function l(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=OM(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function br(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function pa(n,e,t=1/0){return ge(e)?pa((i,r)=>We((o,s)=>e(i,o,r,s))(Xt(n(i,r))),t):("number"==typeof e&&(t=e),At((i,r)=>function m$(n,e,t,i,r,o,s,a){const c=[];let l=0,d=0,u=!1;const h=()=>{u&&!c.length&&!l&&e.complete()},f=m=>l<i?p(m):c.push(m),p=m=>{o&&e.next(m),l++;let _=!1;Xt(t(m,d++)).subscribe(Ct(e,v=>{r?.(v),o?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<i;){const v=c.shift();s?br(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Ct(e,f,()=>{u=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function zM(n=1/0){return pa(fa,n)}const A_=new Ve(n=>n.complete());function $M(n){return n&&ge(n.schedule)}function R_(n){return n[n.length-1]}function GM(n){return ge(R_(n))?n.pop():void 0}function dl(n){return $M(R_(n))?n.pop():void 0}function Eh(n,e=0){return At((t,i)=>{t.subscribe(Ct(i,r=>br(i,n,()=>i.next(r),e),()=>br(i,n,()=>i.complete(),e),r=>br(i,n,()=>i.error(r),e)))})}function Dh(n,e=0){return At((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function qM(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ve(t=>{br(t,e,()=>{const i=n[Symbol.asyncIterator]();br(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ma(n,e){return e?function C$(n,e){if(null!=n){if(NM(n))return function y$(n,e){return Xt(n).pipe(Dh(e),Eh(e))}(n,e);if(S_(n))return function b$(n,e){return new Ve(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(PM(n))return function v$(n,e){return Xt(n).pipe(Dh(e),Eh(e))}(n,e);if(FM(n))return qM(n,e);if(BM(n))return function x$(n,e){return new Ve(t=>{let i;return br(t,e,()=>{i=n[VM](),br(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>ge(i?.return)&&i.return()})}(n,e);if(UM(n))return function w$(n,e){return qM(jM(n),e)}(n,e)}throw LM(n)}(n,e):Xt(n)}function Ih(...n){const e=dl(n),t=function _$(n,e){return"number"==typeof R_(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Xt(i[0]):zM(t)(ma(i,e)):A_}class E$ extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Ei(...n){return ma(n,dl(n))}function O_(n={}){const{connector:e=(()=>new et),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,u=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,d=u=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return At((m,_)=>{l++,!u&&!d&&h();const v=c=c??e();_.add(()=>{l--,0===l&&!u&&!d&&(a=P_(p,r))}),v.subscribe(_),!s&&l>0&&(s=new ll({next:y=>v.next(y),error:y=>{u=!0,h(),a=P_(f,t,y),v.error(y)},complete:()=>{d=!0,h(),a=P_(f,i),v.complete()}}),Xt(m).subscribe(s))})(o)}}function P_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new ll({next:()=>{i.unsubscribe(),n()}});return Xt(e(...t)).subscribe(i)}function ul(n,e){return At((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(Ct(i,c=>{r?.unsubscribe();let l=0;const d=o++;Xt(n(c,d)).subscribe(r=Ct(i,u=>i.next(e?e(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function I$(n,e){return n===e}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function Th(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Rt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Rt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function N_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const T$=Pe({__forward_ref__:Pe});function Re(n){return n.__forward_ref__=Re,n.toString=function(){return Rt(this())},n}function J(n){return F_(n)?n():n}function F_(n){return"function"==typeof n&&n.hasOwnProperty(T$)&&n.__forward_ref__===Re}function L_(n){return n&&!!n.\u0275providers}class E extends Error{constructor(e,t){super(function kh(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function V_(n,e){throw new E(-201,!1)}function li(n,e){null==n&&function X(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mh(n){return KM(n,Ah)||KM(n,YM)}function KM(n,e){return n.hasOwnProperty(e)?n[e]:null}function Sh(n){return n&&(n.hasOwnProperty(B_)||n.hasOwnProperty(P$))?n[B_]:null}const Ah=Pe({\u0275prov:Pe}),B_=Pe({\u0275inj:Pe}),YM=Pe({ngInjectableDef:Pe}),P$=Pe({ngInjectorDef:Pe});var _e=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(_e||{});let j_;function Ln(n){const e=j_;return j_=n,e}function XM(n,e,t){const i=Mh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&_e.Optional?null:void 0!==e?e:void V_(Rt(n))}const He=globalThis;class A{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hl={},G_="__NG_DI_FLAG__",Rh="ngTempTokenPath",L$=/\n/gm,JM="__source";let ga;function no(n){const e=ga;return ga=n,e}function j$(n,e=_e.Default){if(void 0===ga)throw new E(-203,!1);return null===ga?XM(n,void 0,e):ga.get(n,e&_e.Optional?null:void 0,e)}function D(n,e=_e.Default){return(function QM(){return j_}()||j$)(J(n),e)}function pe(n,e=_e.Default){return D(n,Oh(e))}function Oh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function q_(n){const e=[];for(let t=0;t<n.length;t++){const i=J(n[t]);if(Array.isArray(i)){if(0===i.length)throw new E(900,!1);let r,o=_e.Default;for(let s=0;s<i.length;s++){const a=i[s],c=U$(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(D(r,o))}else e.push(D(i))}return e}function fl(n,e){return n[G_]=e,n.prototype[G_]=e,n}function U$(n){return n[G_]}function xr(n){return{toString:n}.toString()}var Ph=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ph||{}),di=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(di||{});const Ui={},Me=[],Nh=Pe({\u0275cmp:Pe}),W_=Pe({\u0275dir:Pe}),K_=Pe({\u0275pipe:Pe}),tS=Pe({\u0275mod:Pe}),wr=Pe({\u0275fac:Pe}),pl=Pe({__NG_ELEMENT_ID__:Pe}),nS=Pe({__NG_ENV_ID__:Pe});function iS(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Y_(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];oS(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function rS(n){return 3===n||4===n||6===n}function oS(n){return 64===n.charCodeAt(0)}function ml(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||sS(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function sS(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const aS="ng-template";function $$(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==iS(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function cS(n){return 4===n.type&&n.value!==aS}function G$(n,e,t){return e===(4!==n.type||t?n.value:aS)}function q$(n,e,t){let i=4;const r=n.attrs||[],o=function Y$(n){for(let e=0;e<n.length;e++)if(rS(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!G$(n,c,t)||""===c&&1===e.length){if(Di(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!$$(n.attrs,l,t)){if(Di(i))return!1;s=!0}continue}const u=W$(8&i?"class":c,r,cS(n),t);if(-1===u){if(Di(i))return!1;s=!0;continue}if(""!==l){let h;h=u>o?"":r[u+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==iS(f,l,0)||2&i&&l!==h){if(Di(i))return!1;s=!0}}}}else{if(!s&&!Di(i)&&!Di(c))return!1;if(s&&Di(c))continue;s=!1,i=c|1&i}}return Di(i)||s}function Di(n){return 0==(1&n)}function W$(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Q$(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function lS(n,e,t=!1){for(let i=0;i<e.length;i++)if(q$(n,e[i],t))return!0;return!1}function dS(n,e){return n?":not("+e.trim()+")":e}function Z$(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Di(s)&&(e+=dS(o,r),r=""),i=s,o=o||!Di(i);t++}return""!==r&&(e+=dS(o,r)),e}function io(n){return xr(()=>{const e=hS(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ph.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||di.Emulated,styles:n.styles||Me,_:null,schemas:n.schemas||null,tView:null,id:""};fS(t);const i=n.dependencies;return t.directiveDefs=Fh(i,!1),t.pipeDefs=Fh(i,!0),t.id=function a6(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function n6(n){return be(n)||Zt(n)}function r6(n){return null!==n}function ye(n){return xr(()=>({type:n.type,bootstrap:n.bootstrap||Me,declarations:n.declarations||Me,imports:n.imports||Me,exports:n.exports||Me,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function uS(n,e){if(null==n)return Ui;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function $(n){return xr(()=>{const e=hS(n);return fS(e),e})}function Vn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function be(n){return n[Nh]||null}function Zt(n){return n[W_]||null}function En(n){return n[K_]||null}function hS(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ui,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Me,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uS(n.inputs,e),outputs:uS(n.outputs)}}function fS(n){n.features?.forEach(e=>e(n))}function Fh(n,e){if(!n)return null;const t=e?En:n6;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(r6)}const ot=0,V=1,ce=2,Ze=3,Ii=4,_l=5,fn=6,_a=7,pt=8,ro=9,ya=10,re=11,yl=12,pS=13,va=14,mt=15,vl=16,ba=17,Hi=18,bl=19,mS=20,oo=21,Cr=22,xl=23,wl=24,ue=25,Q_=1,gS=2,zi=7,xa=9,Jt=11;function Bn(n){return Array.isArray(n)&&"object"==typeof n[Q_]}function Dn(n){return Array.isArray(n)&&!0===n[Q_]}function X_(n){return 0!=(4&n.flags)}function es(n){return n.componentOffset>-1}function Vh(n){return 1==(1&n.flags)}function Ti(n){return!!n.template}function Z_(n){return 0!=(512&n[ce])}function ts(n,e){return n.hasOwnProperty(wr)?n[wr]:null}let en=null,Bh=!1;function ui(n){const e=en;return en=n,e}const vS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xS(n){if(!El(n)||n.dirty){if(!n.producerMustRecompute(n)&&!ES(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function CS(n){n.dirty=!0,function wS(n){if(void 0===n.liveConsumerNode)return;const e=Bh;Bh=!0;try{for(const t of n.liveConsumerNode)t.dirty||CS(t)}finally{Bh=e}}(n),n.consumerMarkedDirty?.(n)}function ey(n){return n&&(n.nextProducerIndex=0),ui(n)}function ty(n,e){if(ui(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(El(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)jh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ES(n){wa(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(xS(t),i!==t.version))return!0}return!1}function DS(n){if(wa(n),El(n))for(let e=0;e<n.producerNode.length;e++)jh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function jh(n,e){if(function TS(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),wa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)jh(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];wa(r),r.producerIndexOfThis[i]=e}}function El(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let kS=null;const RS=()=>{},b6=(()=>({...vS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:RS}))();class x6{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function $i(){return OS}function OS(n){return n.type.prototype.ngOnChanges&&(n.setInput=C6),w6}function w6(){const n=NS(this),e=n?.current;if(e){const t=n.previous;if(t===Ui)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function C6(n,e,t,i){const r=this.declaredInputs[t],o=NS(n)||function E6(n,e){return n[PS]=e}(n,{previous:Ui,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new x6(c&&c.currentValue,e,a===Ui),n[i]=e}$i.ngInherit=!0;const PS="__ngSimpleChanges__";function NS(n){return n[PS]||null}const Gi=function(n,e,t){};function ze(n){for(;Array.isArray(n);)n=n[ot];return n}function Uh(n,e){return ze(e[n])}function jn(n,e){return ze(e[n.index])}function VS(n,e){return n.data[e]}function Ca(n,e){return n[e]}function Qn(n,e){const t=e[n];return Bn(t)?t:t[ot]}function ao(n,e){return null==e?null:n[e]}function BS(n){n[ba]=0}function S6(n){1024&n[ce]||(n[ce]|=1024,US(n,1))}function jS(n){1024&n[ce]&&(n[ce]&=-1025,US(n,-1))}function US(n,e){let t=n[Ze];if(null===t)return;t[_l]+=e;let i=t;for(t=t[Ze];null!==t&&(1===e&&1===i[_l]||-1===e&&0===i[_l]);)t[_l]+=e,i=t,t=t[Ze]}const Z={lFrame:ZS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $S(){return Z.bindingsEnabled}function T(){return Z.lFrame.lView}function xe(){return Z.lFrame.tView}function we(n){return Z.lFrame.contextLView=n,n[pt]}function Ce(n){return Z.lFrame.contextLView=null,n}function tn(){let n=GS();for(;null!==n&&64===n.type;)n=n.parent;return n}function GS(){return Z.lFrame.currentTNode}function qi(n,e){const t=Z.lFrame;t.currentTNode=n,t.isParent=e}function sy(){return Z.lFrame.isParent}function In(){const n=Z.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Da(){return Z.lFrame.bindingIndex++}function H6(n,e){const t=Z.lFrame;t.bindingIndex=t.bindingRootIndex=n,cy(e)}function cy(n){Z.lFrame.currentDirectiveIndex=n}function YS(){return Z.lFrame.currentQueryIndex}function dy(n){Z.lFrame.currentQueryIndex=n}function $6(n){const e=n[V];return 2===e.type?e.declTNode:1===e.type?n[fn]:null}function QS(n,e,t){if(t&_e.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&_e.Host||(r=$6(o),null===r||(o=o[va],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Z.lFrame=XS();return i.currentTNode=e,i.lView=n,!0}function uy(n){const e=XS(),t=n[V];Z.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function XS(){const n=Z.lFrame,e=null===n?null:n.child;return null===e?ZS(n):e}function ZS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function JS(){const n=Z.lFrame;return Z.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const eA=JS;function hy(){const n=JS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Tn(){return Z.lFrame.selectedIndex}function ns(n){Z.lFrame.selectedIndex=n}function tt(){const n=Z.lFrame;return VS(n.tView,n.selectedIndex)}let rA=!0;function Hh(){return rA}function co(n){rA=n}function zh(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function $h(n,e,t){oA(n,e,3,t)}function Gh(n,e,t,i){(3&n[ce])===t&&oA(n,e,t,i)}function fy(n,e){let t=n[ce];(3&t)===e&&(t&=8191,t+=1,n[ce]=t)}function oA(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[ba]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[ba]+=65536),(a<o||-1==o)&&(Q6(n,t,e,c),n[ba]=(4294901760&n[ba])+c+2),c++}function sA(n,e){Gi(4,n,e);const t=ui(null);try{e.call(n)}finally{ui(t),Gi(5,n,e)}}function Q6(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[ce]>>13<n[ba]>>16&&(3&n[ce])===e&&(n[ce]+=8192,sA(a,o)):sA(a,o)}const Ia=-1;class Il{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function my(n){return n!==Ia}function Tl(n){return 32767&n}function kl(n,e){let t=function e8(n){return n>>16}(n),i=e;for(;t>0;)i=i[va],t--;return i}let gy=!0;function qh(n){const e=gy;return gy=n,e}const aA=255,cA=5;let t8=0;const Wi={};function Wh(n,e){const t=lA(n,e);if(-1!==t)return t;const i=e[V];i.firstCreatePass&&(n.injectorIndex=e.length,_y(i.data,n),_y(e,null),_y(i.blueprint,null));const r=Kh(n,e),o=n.injectorIndex;if(my(r)){const s=Tl(r),a=kl(r,e),c=a[V].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function _y(n,e){n.push(0,0,0,0,0,0,0,0,e)}function lA(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Kh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=gA(r),null===i)return Ia;if(t++,r=r[va],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ia}function yy(n,e,t){!function n8(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(pl)&&(i=t[pl]),null==i&&(i=t[pl]=t8++);const r=i&aA;e.data[n+(r>>cA)]|=1<<r}(n,e,t)}function dA(n,e,t){if(t&_e.Optional||void 0!==n)return n;V_()}function uA(n,e,t,i){if(t&_e.Optional&&void 0===i&&(i=null),!(t&(_e.Self|_e.Host))){const r=n[ro],o=Ln(void 0);try{return r?r.get(e,i,t&_e.Optional):XM(e,i,t&_e.Optional)}finally{Ln(o)}}return dA(i,0,t)}function hA(n,e,t,i=_e.Default,r){if(null!==n){if(2048&e[ce]&&!(i&_e.Self)){const s=function c8(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[ce]&&!(512&s[ce]);){const a=fA(o,s,t,i|_e.Self,Wi);if(a!==Wi)return a;let c=o.parent;if(!c){const l=s[mS];if(l){const d=l.get(t,Wi,i);if(d!==Wi)return d}c=gA(s),s=s[va]}o=c}return r}(n,e,t,i,Wi);if(s!==Wi)return s}const o=fA(n,e,t,i,Wi);if(o!==Wi)return o}return uA(e,t,i,r)}function fA(n,e,t,i,r){const o=function o8(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(pl)?n[pl]:void 0;return"number"==typeof e?e>=0?e&aA:a8:e}(t);if("function"==typeof o){if(!QS(e,n,i))return i&_e.Host?dA(r,0,i):uA(e,t,i,r);try{let s;if(s=o(i),null!=s||i&_e.Optional)return s;V_()}finally{eA()}}else if("number"==typeof o){let s=null,a=lA(n,e),c=Ia,l=i&_e.Host?e[mt][fn]:null;for((-1===a||i&_e.SkipSelf)&&(c=-1===a?Kh(n,e):e[a+8],c!==Ia&&mA(i,!1)?(s=e[V],a=Tl(c),e=kl(c,e)):a=-1);-1!==a;){const d=e[V];if(pA(o,a,d.data)){const u=r8(a,e,t,s,i,l);if(u!==Wi)return u}c=e[a+8],c!==Ia&&mA(i,e[V].data[a+8]===l)&&pA(o,a,e)?(s=d,a=Tl(c),e=kl(c,e)):a=-1}}return r}function r8(n,e,t,i,r,o){const s=e[V],a=s.data[n+8],d=Yh(a,s,t,null==i?es(a)&&gy:i!=s&&0!=(3&a.type),r&_e.Host&&o===a);return null!==d?is(e,s,d,a):Wi}function Yh(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,h=r?a+d:n.directiveEnd;for(let f=i?a:a+d;f<h;f++){const p=s[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(r){const f=s[c];if(f&&Ti(f)&&f.type===t)return c}return null}function is(n,e,t,i){let r=n[t];const o=e.data;if(function X6(n){return n instanceof Il}(r)){const s=r;s.resolving&&function k$(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Oe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(o[t]));const a=qh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ln(s.injectImpl):null;QS(n,i,_e.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Y6(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=OS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Ln(l),qh(a),s.resolving=!1,eA()}}return r}function pA(n,e,t){return!!(t[e+(n>>cA)]&1<<n)}function mA(n,e){return!(n&_e.Self||n&_e.Host&&e)}class kn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return hA(this._tNode,this._lView,e,Oh(i),t)}}function a8(){return new kn(tn(),T())}function nn(n){return xr(()=>{const e=n.prototype.constructor,t=e[wr]||vy(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[wr]||vy(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function vy(n){return F_(n)?()=>{const e=vy(J(n));return e&&e()}:ts(n)}function gA(n){const e=n[V],t=e.type;return 2===t?e.declTNode:1===t?n[fn]:null}const ka="__parameters__";function Sa(n,e,t){return xr(()=>{const i=function by(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const u=c.hasOwnProperty(ka)?c[ka]:Object.defineProperty(c,ka,{value:[]})[ka];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ra(n,e){n.forEach(t=>Array.isArray(t)?Ra(t,e):e(t))}function yA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Xn(n,e,t){let i=Oa(n,e);return i>=0?n[1|i]=t:(i=~i,function m8(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function xy(n,e){const t=Oa(n,e);if(t>=0)return n[1|t]}function Oa(n,e){return function vA(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Pt=fl(Sa("Optional"),8),rs=fl(Sa("SkipSelf"),4);function rf(n){return 128==(128&n.flags)}var lo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(lo||{});const Iy=new Map;let B8=0;const ky="__ngContext__";function pn(n,e){Bn(e)?(n[ky]=e[bl],function U8(n){Iy.set(n[bl],n)}(e)):n[ky]=e}let My;function Sy(n,e){return My(n,e)}function Pl(n){const e=n[Ze];return Dn(e)?e[Ze]:e}function BA(n){return UA(n[yl])}function jA(n){return UA(n[Ii])}function UA(n){for(;null!==n&&!Dn(n);)n=n[Ii];return n}function Fa(n,e,t,i,r){if(null!=i){let o,s=!1;Dn(i)?o=i:Bn(i)&&(s=!0,i=i[ot]);const a=ze(i);0===n&&null!==t?null==r?GA(e,t,a):os(e,t,a,r||null,!0):1===n&&null!==t?os(e,t,a,r||null,!0):2===n?function hf(n,e,t){const i=df(n,e);i&&function sG(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function lG(n,e,t,i,r){const o=t[zi];o!==ze(t)&&Fa(e,n,i,o,r);for(let a=Jt;a<t.length;a++){const c=t[a];Fl(c[V],c,n,e,i,o)}}(e,n,o,t,r)}}function cf(n,e,t){return n.createElement(e,t)}function zA(n,e){const t=n[xa],i=t.indexOf(e);jS(e),t.splice(i,1)}function lf(n,e){if(n.length<=Jt)return;const t=Jt+e,i=n[t];if(i){const r=i[vl];null!==r&&r!==n&&zA(r,i),e>0&&(n[t-1][Ii]=i[Ii]);const o=Xh(n,Jt+e);!function Z8(n,e){Fl(n,e,e[re],2,null,null),e[ot]=null,e[fn]=null}(i[V],i);const s=o[Hi];null!==s&&s.detachView(o[V]),i[Ze]=null,i[Ii]=null,i[ce]&=-129}return i}function Ry(n,e){if(!(256&e[ce])){const t=e[re];e[xl]&&DS(e[xl]),e[wl]&&DS(e[wl]),t.destroyNode&&Fl(n,e,t,3,null,null),function tG(n){let e=n[yl];if(!e)return Oy(n[V],n);for(;e;){let t=null;if(Bn(e))t=e[yl];else{const i=e[Jt];i&&(t=i)}if(!t){for(;e&&!e[Ii]&&e!==n;)Bn(e)&&Oy(e[V],e),e=e[Ze];null===e&&(e=n),Bn(e)&&Oy(e[V],e),t=e&&e[Ii]}e=t}}(e)}}function Oy(n,e){if(!(256&e[ce])){e[ce]&=-129,e[ce]|=256,function oG(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Il)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Gi(4,a,c);try{c.call(a)}finally{Gi(5,a,c)}}else{Gi(4,r,o);try{o.call(r)}finally{Gi(5,r,o)}}}}}(n,e),function rG(n,e){const t=n.cleanup,i=e[_a];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[_a]=null);const r=e[oo];if(null!==r){e[oo]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[V].type&&e[re].destroy();const t=e[vl];if(null!==t&&Dn(e[Ze])){t!==e[Ze]&&zA(t,e);const i=e[Hi];null!==i&&i.detachView(n)}!function H8(n){Iy.delete(n[bl])}(e)}}function Py(n,e,t){return function $A(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[ot];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===di.None||o===di.Emulated)return null}return jn(i,t)}}(n,e.parent,t)}function os(n,e,t,i,r){n.insertBefore(e,t,i,r)}function GA(n,e,t){n.appendChild(e,t)}function qA(n,e,t,i,r){null!==i?os(n,e,t,i,r):GA(n,e,t)}function df(n,e){return n.parentNode(e)}let Ny,By,YA=function KA(n,e,t){return 40&n.type?jn(n,t):null};function uf(n,e,t,i){const r=Py(n,i,e),o=e[re],a=function WA(n,e,t){return YA(n,e,t)}(i.parent||e[fn],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)qA(o,r,t[c],a,!1);else qA(o,r,t,a,!1);void 0!==Ny&&Ny(o,i,e,t,r)}function Nl(n,e){if(null!==e){const t=e.type;if(3&t)return jn(e,n);if(4&t)return Fy(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Nl(n,i);{const r=n[e.index];return Dn(r)?Fy(-1,r):ze(r)}}if(32&t)return Sy(e,n)()||ze(n[e.index]);{const i=XA(n,e);return null!==i?Array.isArray(i)?i[0]:Nl(Pl(n[mt]),i):Nl(n,e.next)}}return null}function XA(n,e){return null!==e?n[mt][fn].projection[e.projection]:null}function Fy(n,e){const t=Jt+n+1;if(t<e.length){const i=e[t],r=i[V].firstChild;if(null!==r)return Nl(i,r)}return e[zi]}function Ly(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&pn(ze(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)Ly(n,e,t.child,i,r,o,!1),Fa(e,n,r,a,o);else if(32&c){const l=Sy(t,i);let d;for(;d=l();)Fa(e,n,r,d,o);Fa(e,n,r,a,o)}else 16&c?JA(n,e,i,t,r,o):Fa(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Fl(n,e,t,i,r,o){Ly(t,i,n.firstChild,e,r,o,!1)}function JA(n,e,t,i,r,o){const s=t[mt],c=s[fn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Fa(e,n,r,c[l],o);else{let l=c;const d=s[Ze];rf(i)&&(l.flags|=128),Ly(n,e,l,d,r,o,!0)}}function e1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function t1(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Y_(n,e,i),null!==r&&e1(n,e,r),null!==o&&function uG(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}class ss{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const _f=new A("ENVIRONMENT_INITIALIZER"),m1=new A("INJECTOR",-1),g1=new A("INJECTOR_DEF_TYPES");class $y{get(e,t=hl){if(t===hl){const i=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw i.name="NullInjectorError",i}return t}}function zG(...n){return{\u0275providers:_1(0,n),\u0275fromNgModule:!0}}function _1(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Ra(e,s=>{const a=s;yf(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&y1(r,o),t}function y1(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];qy(r,o=>{e(o,i)})}}function yf(n,e,t,i){if(!(n=J(n)))return!1;let r=null,o=Sh(n);const s=!o&&be(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Sh(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)yf(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Ra(o.imports,d=>{yf(d,e,t,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&y1(l,e)}if(!a){const l=ts(r)||(()=>new r);e({provide:r,useFactory:l,deps:Me},r),e({provide:g1,useValue:r,multi:!0},r),e({provide:_f,useValue:()=>D(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;qy(c,d=>{e(d,l)})}}}return r!==n&&void 0!==n.providers}function qy(n,e){for(let t of n)L_(t)&&(t=t.\u0275providers),Array.isArray(t)?qy(t,e):e(t)}const $G=Pe({provide:String,useValue:Pe});function Wy(n){return null!==n&&"object"==typeof n&&$G in n}function as(n){return"function"==typeof n}const Ky=new A("Set Injector scope."),vf={},qG={};let Yy;function bf(){return void 0===Yy&&(Yy=new $y),Yy}class Tr{}class Ba extends Tr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xy(e,s=>this.processProvider(s)),this.records.set(m1,ja(void 0,this)),r.has("environment")&&this.records.set(Tr,ja(void 0,this));const o=this.records.get(Ky);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(g1.multi,Me,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=no(this),i=Ln(void 0);try{return e()}finally{no(t),Ln(i)}}get(e,t=hl,i=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nS))return e[nS](this);i=Oh(i);const o=no(this),s=Ln(void 0);try{if(!(i&_e.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function XG(n){return"function"==typeof n||"object"==typeof n&&n instanceof A}(e)&&Mh(e);c=l&&this.injectableDefInScope(l)?ja(Qy(e),vf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&_e.Self?bf():this.parent).get(e,t=i&_e.Optional&&t===hl?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Rh]=a[Rh]||[]).unshift(Rt(e)),o)throw a;return function H$(n,e,t,i){const r=n[Rh];throw e[JM]&&r.unshift(e[JM]),n.message=function z$(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Rt(e);if(Array.isArray(e))r=e.map(Rt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Rt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(L$,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Rh]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ln(s),no(o)}}resolveInjectorInitializers(){const e=no(this),t=Ln(void 0);try{const r=this.get(_f.multi,Me,_e.Self);for(const o of r)o()}finally{no(e),Ln(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Rt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){let t=as(e=J(e))?e:J(e&&e.provide);const i=function KG(n){return Wy(n)?ja(void 0,n.useValue):ja(x1(n),vf)}(e);if(as(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=ja(void 0,vf,!0),r.factory=()=>q_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===vf&&(t.value=qG,t.value=t.factory()),"object"==typeof t.value&&t.value&&function QG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=J(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Qy(n){const e=Mh(n),t=null!==e?e.factory:ts(n);if(null!==t)return t;if(n instanceof A)throw new E(204,!1);if(n instanceof Function)return function WG(n){const e=n.length;if(e>0)throw function Al(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new E(204,!1);const t=function O$(n){return n&&(n[Ah]||n[YM])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new E(204,!1)}function x1(n,e,t){let i;if(as(n)){const r=J(n);return ts(r)||Qy(r)}if(Wy(n))i=()=>J(n.useValue);else if(function b1(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...q_(n.deps||[]));else if(function v1(n){return!(!n||!n.useExisting)}(n))i=()=>D(J(n.useExisting));else{const r=J(n&&(n.useClass||n.provide));if(!function YG(n){return!!n.deps}(n))return ts(r)||Qy(r);i=()=>new r(...q_(n.deps))}return i}function ja(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Xy(n,e){for(const t of n)Array.isArray(t)?Xy(t,e):t&&L_(t)?Xy(t.\u0275providers,e):e(t)}const xf=new A("AppId",{providedIn:"root",factory:()=>ZG}),ZG="ng",w1=new A("Platform Initializer"),ki=new A("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bl=new A("AnimationModuleType"),Zy=new A("CSP nonce",{providedIn:"root",factory:()=>function Va(){if(void 0!==By)return By;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let C1=(n,e,t)=>null;function sv(n,e,t=!1){return C1(n,e,t)}class l9{}class I1{}class u9{resolveComponentFactory(e){throw function d9(n){const e=Error(`No component factory found for ${Rt(n)}.`);return e.ngComponent=n,e}(e)}}let Hl=(()=>{class n{static{this.NULL=new u9}}return n})();function h9(){return za(tn(),T())}function za(n,e){return new Bt(jn(n,e))}let Bt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=h9}}return n})();function f9(n){return n instanceof Bt?n.nativeElement:n}class zl{}let cs=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function p9(){const n=T(),t=Qn(tn().index,n);return(Bn(t)?t:n)[re]}()}}return n})(),m9=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>null})}}return n})();class ls{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const k1=new ls("16.2.12"),lv={};function R1(n,e=null,t=null,i){const r=O1(n,e,t,i);return r.resolveInjectorInitializers(),r}function O1(n,e=null,t=null,i,r=new Set){const o=[t||Me,zG(n)];return i=i||("object"==typeof n?void 0:Rt(n)),new Ba(o,e||bf(),i||null,r)}let on=(()=>{class n{static{this.THROW_IF_NOT_FOUND=hl}static{this.NULL=new $y}static create(t,i){if(Array.isArray(t))return R1({name:""},i,t,"");{const r=t.name??"";return R1({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=U({token:n,providedIn:"any",factory:()=>D(m1)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function uv(n){return n.ngOriginalError}class Mi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&uv(e);for(;t&&uv(t);)t=uv(t);return t||null}}function hv(n){return e=>{setTimeout(n,void 0,e)}}const st=class C9 extends et{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=hv(o),r&&(r=hv(r)),s&&(s=hv(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof wt&&e.add(a),a}};function N1(...n){}class he{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new st(!1),this.onMicrotaskEmpty=new st(!1),this.onStable=new st(!1),this.onError=new st(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function E9(){const n="function"==typeof He.requestAnimationFrame;let e=He[n?"requestAnimationFrame":"setTimeout"],t=He[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function T9(n){const e=()=>{!function I9(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(He,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,pv(n),n.isCheckStableRunning=!0,fv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),pv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function M9(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return F1(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),L1(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return F1(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),L1(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,pv(n),fv(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!he.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(he.isInAngularZone())throw new E(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,D9,N1,N1);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const D9={};function fv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function F1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function L1(n){n._nesting--,fv(n)}class k9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new st,this.onMicrotaskEmpty=new st,this.onStable=new st,this.onError=new st}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const V1=new A("",{providedIn:"root",factory:B1});function B1(){const n=pe(he);let e=!0;return Ih(new Ve(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Ve(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{he.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(O_()))}let mv=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})();function $l(n){for(;n;){n[ce]|=64;const e=Pl(n);if(Z_(n)&&!e)return n;n=e}return null}const $1=new A("",{providedIn:"root",factory:()=>!1});let Mf=null;function K1(n,e){return n[e]??X1()}function Y1(n,e){const t=X1();t.producerNode?.length&&(n[e]=Mf,t.lView=n,Mf=Q1())}const B9={...vS,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{$l(n.lView)},lView:null};function Q1(){return Object.create(B9)}function X1(){return Mf??=Q1(),Mf}const se={};function P(n){Z1(xe(),T(),Tn()+n,!1)}function Z1(n,e,t,i){if(!i)if(3==(3&e[ce])){const o=n.preOrderCheckHooks;null!==o&&$h(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Gh(e,o,0,t)}ns(t)}function k(n,e=_e.Default){const t=T();return null===t?D(n,e):hA(tn(),t,J(n),e)}function Sf(n,e,t,i,r,o,s,a,c,l,d){const u=e.blueprint.slice();return u[ot]=r,u[ce]=140|i,(null!==l||n&&2048&n[ce])&&(u[ce]|=2048),BS(u),u[Ze]=u[va]=n,u[pt]=t,u[ya]=s||n&&n[ya],u[re]=a||n&&n[re],u[ro]=c||n&&n[ro]||null,u[fn]=o,u[bl]=function j8(){return B8++}(),u[Cr]=d,u[mS]=l,u[mt]=2==e.type?n[mt]:u,u}function qa(n,e,t,i,r){let o=n.data[e];if(null===o)o=function _v(n,e,t,i,r){const o=GS(),s=sy(),c=n.data[e]=function W9(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return function Ea(){return null!==Z.skipHydrationRootTNode}()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function U6(){return Z.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Dl(){const n=Z.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return qi(o,!0),o}function Gl(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function J1(n,e,t,i,r){const o=K1(e,xl),s=Tn(),a=2&i;try{ns(-1),a&&e.length>ue&&Z1(n,e,ue,!1),Gi(a?2:0,r);const l=a?o:null,d=ey(l);try{null!==l&&(l.dirty=!1),t(i,r)}finally{ty(l,d)}}finally{a&&null===e[xl]&&Y1(e,xl),ns(s),Gi(a?3:1,r)}}function yv(n,e,t){if(X_(e)){const i=ui(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{ui(i)}}}function vv(n,e,t){$S()&&(function eq(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;es(t)&&function aq(n,e,t){const i=jn(e,n),r=eR(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Af(n,Sf(n,r,null,s,i,e,null,n[ya].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Wh(t,e),pn(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=is(e,n,a,t);pn(l,e),null!==s&&cq(0,a-r,l,c,0,s),Ti(c)&&(Qn(t.index,e)[pt]=is(e,n,a,t))}}(n,e,t,jn(t,e)),64==(64&t.flags)&&oR(n,e,t))}function bv(n,e,t=jn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function eR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=xv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function xv(n,e,t,i,r,o,s,a,c,l,d){const u=ue+i,h=u+r,f=function U9(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:se);return t}(u,h),p="function"==typeof l?l():l;return f[V]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:d}}let tR=n=>null;function nR(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?iR(t,e,r,o):i.hasOwnProperty(r)&&iR(t,e,i[r],o)}return t}function iR(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function wv(n,e,t,i){if($S()){const r=null===i?null:{"":-1},o=function nq(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(lS(e,s.selectors,!1))if(i||(i=[]),Ti(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Cv(n,e,a.length)}else i.unshift(s),Cv(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&rR(n,e,t,s,r,a),r&&function iq(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new E(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ml(t.mergedAttrs,t.attrs)}function rR(n,e,t,i,r,o){for(let l=0;l<i.length;l++)yy(Wh(t,e),n,i[l].type);!function oq(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Gl(n,e,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];t.mergedAttrs=ml(t.mergedAttrs,d.hostAttrs),sq(n,t,e,c,d),rq(c,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function K9(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let d=e.directiveStart;d<r;d++){const u=o[d],h=t?t.get(u):null,p=h?h.outputs:null;c=nR(u.inputs,d,c,h?h.inputs:null),l=nR(u.outputs,d,l,p);const m=null===c||null===s||cS(e)?null:lq(c,d,s);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function oR(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function z6(){return Z.lFrame.currentDirectiveIndex}();try{ns(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];cy(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&tq(c,l)}}finally{ns(-1),cy(s)}}function tq(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Cv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function rq(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ti(e)&&(t[""]=n)}}function sq(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ts(r.type)),s=new Il(o,Ti(r),k);n.blueprint[i]=s,t[i]=s,function Z9(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function J9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Gl(n,t,r.hostVars,se),r)}function Yi(n,e,t,i,r,o){const s=jn(n,e);!function Ev(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?ie(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[re],s,o,n.value,t,i,r)}function cq(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)sR(i,t,s[a++],s[a++],s[a++])}function sR(n,e,t,i,r){const o=ui(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{ui(o)}}function lq(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function aR(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function cR(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];dy(t[i]),s.contentQueries(2,e[o],o)}}}function Af(n,e){return n[yl]?n[pS][Ii]=e:n[yl]=e,n[pS]=e,e}function Dv(n,e,t){dy(0);const i=ui(null);try{e(n,t)}finally{ui(i)}}function lR(n){return n[_a]||(n[_a]=[])}function dR(n){return n.cleanup||(n.cleanup=[])}function hR(n,e){const t=n[ro],i=t?t.get(Mi,null):null;i&&i.handleError(e)}function Iv(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];sR(n.data[s],e[s],i,a,r)}}function dq(n,e){const t=Qn(e,n),i=t[V];!function uq(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[ot];null!==r&&null===t[Cr]&&(t[Cr]=sv(r,t[ro])),Tv(i,t,t[pt])}function Tv(n,e,t){uy(e);try{const i=n.viewQuery;null!==i&&Dv(1,i,t);const r=n.template;null!==r&&J1(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&cR(n,e),n.staticViewQueries&&Dv(2,n.viewQuery,t);const o=n.components;null!==o&&function hq(n,e){for(let t=0;t<e.length;t++)dq(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ce]&=-5,hy()}}let fR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function v6(n,e,t){const i=Object.create(b6);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>CS(i),run:()=>{if(i.dirty=!1,i.hasRun&&!ES(i))return;i.hasRun=!0;const s=ey(i);try{i.cleanupFn(),i.cleanupFn=RS,i.fn(r)}finally{ty(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Rf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=N_(r,a):2==o&&(i=N_(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function ql(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(ze(o)),Dn(o)&&pR(o,i);const s=t.type;if(8&s)ql(n,e,t.child,i);else if(32&s){const a=Sy(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=XA(e,t);if(Array.isArray(a))i.push(...a);else{const c=Pl(e[mt]);ql(c[V],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function pR(n,e){for(let t=Jt;t<n.length;t++){const i=n[t],r=i[V].firstChild;null!==r&&ql(i[V],i,r,e)}n[zi]!==n[ot]&&e.push(n[zi])}function Of(n,e,t,i=!0){const r=e[ya],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{mR(n,e,n.template,t)}catch(c){throw i&&hR(e,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function mR(n,e,t,i){const r=e[ce];if(256!=(256&r)){e[ya].effectManager?.flush(),uy(e);try{BS(e),function WS(n){return Z.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&J1(n,e,t,2,i);const s=3==(3&r);if(s){const l=n.preOrderCheckHooks;null!==l&&$h(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Gh(e,l,0,null),fy(e,0)}if(function mq(n){for(let e=BA(n);null!==e;e=jA(e)){if(!e[gS])continue;const t=e[xa];for(let i=0;i<t.length;i++){S6(t[i])}}}(e),gR(e,2),null!==n.contentQueries&&cR(n,e),s){const l=n.contentCheckHooks;null!==l&&$h(e,l)}else{const l=n.contentHooks;null!==l&&Gh(e,l,1),fy(e,1)}!function j9(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=K1(e,wl);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)ns(~o);else{const s=o,a=t[++r],c=t[++r];H6(a,s),i.dirty=!1;const l=ey(i);try{c(2,e[s])}finally{ty(i,l)}}}}finally{null===e[wl]&&Y1(e,wl),ns(-1)}}(n,e);const a=n.components;null!==a&&yR(e,a,0);const c=n.viewQuery;if(null!==c&&Dv(2,c,i),s){const l=n.viewCheckHooks;null!==l&&$h(e,l)}else{const l=n.viewHooks;null!==l&&Gh(e,l,2),fy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ce]&=-73,jS(e)}finally{hy()}}}function gR(n,e){for(let t=BA(n);null!==t;t=jA(t))for(let i=Jt;i<t.length;i++)_R(t[i],e)}function gq(n,e,t){_R(Qn(e,n),t)}function _R(n,e){if(!function k6(n){return 128==(128&n[ce])}(n))return;const t=n[V],i=n[ce];if(80&i&&0===e||1024&i||2===e)mR(t,n,t.template,n[pt]);else if(n[_l]>0){gR(n,1);const r=t.components;null!==r&&yR(n,r,1)}}function yR(n,e,t){for(let i=0;i<e.length;i++)gq(n,e[i],t)}class Wl{get rootNodes(){const e=this._lView,t=e[V];return ql(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return 256==(256&this._lView[ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ze];if(Dn(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(lf(e,i),Xh(t,i))}this._attachedToViewContainer=!1}Ry(this._lView[V],this._lView)}onDestroy(e){!function HS(n,e){if(256==(256&n[ce]))throw new E(911,!1);null===n[oo]&&(n[oo]=[]),n[oo].push(e)}(this._lView,e)}markForCheck(){$l(this._cdRefInjectingView||this._lView)}detach(){this._lView[ce]&=-129}reattach(){this._lView[ce]|=128}detectChanges(){Of(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eG(n,e){Fl(n,e,e[re],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e}}class _q extends Wl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Of(e[V],e,e[pt],!1)}checkNoChanges(){}get context(){return null}}class vR extends Hl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=be(e);return new Kl(t,this.ngModule)}}function bR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class vq{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Oh(i);const r=this.injector.get(e,lv,i);return r!==lv||t===lv?r:this.parentInjector.get(e,t,i)}}class Kl extends I1{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=bR(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return bR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function J$(n){return n.map(Z$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Tr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new vq(e,o):e,a=s.get(zl,null);if(null===a)throw new E(407,!1);const u={rendererFactory:a,sanitizer:s.get(m9,null),effectManager:s.get(fR,null),afterRenderEventManager:s.get(mv,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function H9(n,e,t,i){const o=i.get($1,!1)||t===di.ShadowDom,s=n.selectRootElement(e,o);return function z9(n){tR(n)}(s),s}(h,i,this.componentDef.encapsulation,s):cf(h,f,function yq(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=sv(p,s,!0));const C=xv(0,null,null,1,0,null,null,null,null,null,null),R=Sf(null,C,null,v,null,null,u,h,s,null,y);let j,W;uy(R);try{const ae=this.componentDef;let Ue,St=null;ae.findHostDirectiveDefs?(Ue=[],St=new Map,ae.findHostDirectiveDefs(ae,Ue,St),Ue.push(ae)):Ue=[ae];const ai=function xq(n,e){const t=n[V],i=ue;return n[i]=e,qa(t,i,2,"#host",null)}(R,p),y_=function wq(n,e,t,i,r,o,s){const a=r[V];!function Cq(n,e,t,i){for(const r of n)e.mergedAttrs=ml(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Rf(e,e.mergedAttrs,!0),null!==t&&t1(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=sv(e,r[ro]));const l=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const u=Sf(r,eR(t),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Cv(a,n,i.length-1),Af(r,u),r[n.index]=u}(ai,p,ae,Ue,R,u,h);W=VS(C,ue),p&&function Dq(n,e,t,i){if(i)Y_(n,t,["ng-version",k1.full]);else{const{attrs:r,classes:o}=function e6(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Di(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Y_(n,t,r),o&&o.length>0&&e1(n,t,o.join(" "))}}(h,ae,p,i),void 0!==t&&function Iq(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(W,this.ngContentSelectors,t),j=function Eq(n,e,t,i,r,o){const s=tn(),a=r[V],c=jn(s,r);rR(a,r,s,t,null,i);for(let d=0;d<t.length;d++)pn(is(r,a,s.directiveStart+d,s),r);oR(a,r,s),c&&pn(c,r);const l=is(r,a,s.directiveStart+s.componentOffset,s);if(n[pt]=r[pt]=l,null!==o)for(const d of o)d(l,e);return yv(a,s,n),l}(y_,ae,Ue,St,R,[Tq]),Tv(C,R,null)}finally{hy()}return new bq(this.componentType,j,za(W,R),R,W)}}class bq extends l9{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new _q(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Iv(o[V],o,r,e,t),this.previousInputValues.set(e,t),$l(Qn(this._tNode.index,o))}}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Tq(){const n=tn();zh(T()[V],n)}function Te(n){let e=function xR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Ti(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Pf(n.inputs),s.inputTransforms=Pf(n.inputTransforms),s.declaredInputs=Pf(n.declaredInputs),s.outputs=Pf(n.outputs);const a=r.hostBindings;a&&Aq(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&Mq(n,c),l&&Sq(n,l),Th(n.inputs,r.inputs),Th(n.declaredInputs,r.declaredInputs),Th(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Th(s.inputTransforms,r.inputTransforms)),Ti(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Te&&(t=!1)}}e=Object.getPrototypeOf(e)}!function kq(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ml(r.hostAttrs,t=ml(t,r.hostAttrs))}}(i)}function Pf(n){return n===Ui?{}:n===Me?[]:n}function Mq(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Sq(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Aq(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Nf(n){return!!kv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function kv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qi(n,e,t){return n[e]=t}function mn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ds(n,e,t,i){const r=mn(n,e,t);return mn(n,e+1,i)||r}function pi(n,e,t,i){const r=T();return mn(r,Da(),e)&&(xe(),Yi(tt(),r,n,e,t,i)),pi}function at(n,e,t,i,r,o,s,a){const c=T(),l=xe(),d=n+ue,u=l.firstCreatePass?function i7(n,e,t,i,r,o,s,a,c){const l=e.consts,d=qa(e,n,4,s||null,ao(l,a));wv(e,t,d,ao(l,c)),zh(e,d);const u=d.tView=xv(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,d),u.queries=e.queries.embeddedTView(d)),d}(d,l,c,e,t,i,r,o,s):l.data[d];qi(u,!1);const h=LR(l,c,u,n);Hh()&&uf(l,c,h,u),pn(h,c),Af(c,c[d]=aR(h,c,h,u)),Vh(u)&&vv(l,c,u),null!=s&&bv(c,u,a)}let LR=function VR(n,e,t,i){return co(!0),e[re].createComment("")};function ee(n,e,t){const i=T();return mn(i,Da(),e)&&function Jn(n,e,t,i,r,o,s,a){const c=jn(e,t);let d,l=e.inputs;!a&&null!=l&&(d=l[i])?(Iv(n,t,d,i,r),es(e)&&function Q9(n,e){const t=Qn(e,n);16&t[ce]||(t[ce]|=64)}(t,e.index)):3&e.type&&(i=function Y9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}(xe(),tt(),i,n,e,i[re],t,!1),ee}function Nv(n,e,t,i,r){const s=r?"class":"style";Iv(n,t,e.inputs[s],s,i)}function w(n,e,t,i){const r=T(),o=xe(),s=ue+n,a=r[re],c=o.firstCreatePass?function a7(n,e,t,i,r,o){const s=e.consts,c=qa(e,n,2,i,ao(s,r));return wv(e,t,c,ao(s,o)),null!==c.attrs&&Rf(c,c.attrs,!1),null!==c.mergedAttrs&&Rf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=BR(o,r,c,a,e,n);r[s]=l;const d=Vh(c);return qi(c,!0),t1(a,l,c),32!=(32&c.flags)&&Hh()&&uf(o,r,l,c),0===function R6(){return Z.lFrame.elementDepthCount}()&&pn(l,r),function O6(){Z.lFrame.elementDepthCount++}(),d&&(vv(o,r,c),yv(o,c,r)),null!==i&&bv(r,c),w}function I(){let n=tn();sy()?function ay(){Z.lFrame.isParent=!1}():(n=n.parent,qi(n,!1));const e=n;(function N6(n){return Z.skipHydrationRootTNode===n})(e)&&function B6(){Z.skipHydrationRootTNode=null}(),function P6(){Z.lFrame.elementDepthCount--}();const t=xe();return t.firstCreatePass&&(zh(t,n),X_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Z6(n){return 0!=(8&n.flags)}(e)&&Nv(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function J6(n){return 0!=(16&n.flags)}(e)&&Nv(t,e,T(),e.stylesWithoutHost,!1),I}function te(n,e,t,i){return w(n,e,t,i),I(),te}let BR=(n,e,t,i,r,o)=>(co(!0),cf(i,r,function iA(){return Z.lFrame.currentNamespace}()));function Xi(){return T()}function jf(n){return!!n&&"function"==typeof n.then}function HR(n){return!!n&&"function"==typeof n.subscribe}function K(n,e,t,i){const r=T(),o=xe(),s=tn();return function $R(n,e,t,i,r,o,s){const a=Vh(i),l=n.firstCreatePass&&dR(n),d=e[pt],u=lR(e);let h=!0;if(3&i.type||s){const m=jn(i,e),_=s?s(m):m,v=u.length,y=s?R=>s(ze(R[i.index])):i.index;let C=null;if(!s&&a&&(C=function f7(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[_a],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1;else{o=qR(i,e,d,o,!1);const R=t.listen(_,r,o);u.push(o,R),l&&l.push(r,y,v,v+1)}}else o=qR(i,e,d,o,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let _=0;_<m;_+=2){const j=e[p[_]][p[_+1]].subscribe(o),W=u.length;u.push(o,j),l&&l.push(r,i.index,W,-(W+1))}}}(o,r,r[re],s,n,e,i),K}function GR(n,e,t,i){try{return Gi(6,e,t),!1!==t(i)}catch(r){return hR(n,r),!1}finally{Gi(7,e,t)}}function qR(n,e,t,i,r){return function o(s){if(s===Function)return i;$l(n.componentOffset>-1?Qn(n.index,e):e);let c=GR(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=GR(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function le(n=1){return function G6(n){return(Z.lFrame.contextLView=function q6(n,e){for(;n>0;)e=e[va],n--;return e}(n,Z.lFrame.contextLView))[pt]}(n)}function Uf(n,e){return n<<17|e<<2}function uo(n){return n>>17&32767}function Bv(n){return 2|n}function us(n){return(131068&n)>>2}function jv(n,e){return-131069&n|e<<2}function Uv(n){return 1|n}function nO(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?uo(o):us(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];b7(n[a],e)&&(c=!0,n[a+1]=i?Uv(d):Bv(d)),a=i?uo(d):us(d)}c&&(n[t+1]=i?Bv(o):Uv(o))}function b7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Oa(n,e)>=0}function ed(n,e,t){return Si(n,e,t,!1),ed}function ct(n,e){return Si(n,e,null,!0),ct}function Si(n,e,t,i){const r=T(),o=xe(),s=function Dr(n){const e=Z.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function dO(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Tn()],s=function lO(n,e){return e>=n.expandoStartIndex}(n,t);(function pO(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function M7(n,e,t,i){const r=function ly(n){const e=Z.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=td(t=Hv(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Hv(r,n,e,t,i),null===o){let c=function S7(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==us(i))return n[uo(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Hv(null,n,e,c[1],i),c=td(c,e.attrs,i),function A7(n,e,t,i){n[uo(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function R7(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=td(i,n[o].hostAttrs,t);return td(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function y7(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=uo(s),c=us(s);n[i]=t;let d,l=!1;if(Array.isArray(t)?(d=t[1],(null===d||Oa(t,d)>0)&&(l=!0)):d=t,r)if(0!==c){const h=uo(n[a+1]);n[i+1]=Uf(h,a),0!==h&&(n[h+1]=jv(n[h+1],i)),n[a+1]=function g7(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Uf(a,0),0!==a&&(n[a+1]=jv(n[a+1],i)),a=i;else n[i+1]=Uf(c,0),0===a?a=i:n[c+1]=jv(n[c+1],i),c=i;l&&(n[i+1]=Bv(n[i+1])),nO(n,d,i,!0),nO(n,d,i,!1),function v7(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Oa(o,e)>=0&&(t[i+1]=Uv(t[i+1]))}(e,d,n,i,o),s=Uf(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==se&&mn(r,s,e)&&function hO(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],d=function _7(n){return 1==(1&n)}(l)?fO(c,e,t,r,us(l),s):void 0;Hf(d)||(Hf(o)||function m7(n){return 2==(2&n)}(l)&&(o=fO(c,null,t,r,a,s)),function dG(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:lo.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=lo.Important),n.setStyle(t,i,r,o))}}(i,s,Uh(Tn(),t),r,o))}(o,o.data[Tn()],r,r[re],n,r[s+1]=function F7(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Rt(function Zn(n){return n instanceof ss?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),i,s)}function Hv(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=td(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function td(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Xn(n,s,!!t||e[++o]))}return void 0===n?null:n}function fO(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=null===d;let h=t[r+1];h===se&&(h=u?Me:void 0);let f=u?xy(h,i):d===i?h:void 0;if(l&&!Hf(f)&&(f=xy(c,i)),Hf(f)&&(a=f,s))return a;const p=n[r+1];r=s?uo(p):us(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=xy(c,i))}return a}function Hf(n){return void 0!==n}function H(n,e=""){const t=T(),i=xe(),r=n+ue,o=i.firstCreatePass?qa(i,r,1,e,null):i.data[r],s=mO(i,t,o,e,n);t[r]=s,Hh()&&uf(i,t,s,o),qi(o,!1)}let mO=(n,e,t,i,r)=>(co(!0),function af(n,e){return n.createText(e)}(e[re],i));function jt(n){return ei("",n,""),jt}function ei(n,e,t){const i=T(),r=function Ka(n,e,t,i){return mn(n,Da(),t)?e+ie(t)+i:se}(i,n,e,t);return r!==se&&function Mr(n,e,t){const i=Uh(e,n);!function HA(n,e,t){n.setValue(e,t)}(n[re],i,t)}(i,Tn(),r),ei}const hs=void 0;var rW=["en",[["a","p"],["AM","PM"],hs],[["AM","PM"],hs,hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hs,"{1} 'at' {0}",hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iW(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let ic={};function Mn(n){const e=function oW(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=NO(e);if(t)return t;const i=e.split("-")[0];if(t=NO(i),t)return t;if("en"===i)return rW;throw new E(701,!1)}function NO(n){return n in ic||(ic[n]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[n]),ic[n]}var $e=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}($e||{});const rc="en-US";let FO=rc;function Gv(n,e,t,i,r){if(n=J(n),Array.isArray(n))for(let o=0;o<n.length;o++)Gv(n[o],e,t,i,r);else{const o=xe(),s=T(),a=tn();let c=as(n)?n:J(n.provide);const l=x1(n),d=1048575&a.providerIndexes,u=a.directiveStart,h=a.providerIndexes>>20;if(as(n)||!n.multi){const f=new Il(l,r,k),p=Wv(c,e,r?d:d+h,u);-1===p?(yy(Wh(a,s),o,c),qv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=Wv(c,e,d+h,u),p=Wv(c,e,d,d+h),_=p>=0&&t[p];if(r&&!_||!r&&!(f>=0&&t[f])){yy(Wh(a,s),o,c);const v=function iK(n,e,t,i,r){const o=new Il(n,t,k);return o.multi=[],o.index=e,o.componentProviders=0,aP(o,r,i&&!t),o}(r?nK:tK,t.length,r,i,l);!r&&_&&(t[p].providerFactory=v),qv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)}else qv(o,n,f>-1?f:p,aP(t[r?p:f],l,!r&&i));!r&&i&&_&&t[p].componentProviders++}}}function qv(n,e,t,i){const r=as(e),o=function GG(n){return!!n.useClass}(e);if(r||o){const c=(o?J(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function aP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Wv(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function tK(n,e,t,i){return Kv(this.multi,[])}function nK(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=is(t,t[V],this.providerFactory.index,i);o=a.slice(0,s),Kv(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Kv(r,o);return o}function Kv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Be(n,e=[]){return t=>{t.providersResolver=(i,r)=>function eK(n,e,t){const i=xe();if(i.firstCreatePass){const r=Ti(n);Gv(t,i.data,i.blueprint,r,!0),Gv(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class fs{}class rK{}class Yv extends fs{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vR(this);const r=function Yn(n,e){const t=n[tS]||null;if(!t&&!0===e)throw new Error(`Type ${Rt(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function kr(n){return n instanceof Function?n():n}(r.bootstrap),this._r3Injector=O1(e,t,[{provide:fs,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver},...i],Rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Qv extends rK{constructor(e){super(),this.moduleType=e}create(e){return new Yv(this.moduleType,e,[])}}function Zv(n,e,t,i,r,o){return function _P(n,e,t,i,r,o,s,a){const c=e+t;return function Ff(n,e,t,i,r){const o=ds(n,e,t,i);return mn(n,e+2,r)||o}(n,c,r,o,s)?Qi(n,c+3,a?i.call(a,r,o,s):i(r,o,s)):ad(n,c+3)}(T(),In(),n,e,t,i,r,o)}function ad(n,e){const t=n[e];return t===se?void 0:t}function Jv(n,e){const t=xe();let i;const r=n+ue;t.firstCreatePass?(i=function TK(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=ts(i.type)),a=Ln(k);try{const c=qh(!1),l=o();return qh(c),function s7(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,T(),r,l),l}finally{Ln(a)}}function eb(n,e,t,i){const r=n+ue,o=T(),s=Ca(o,r);return function cd(n,e){return n[V].data[e].pure}(o,r)?function gP(n,e,t,i,r,o,s){const a=e+t;return ds(n,a,r,o)?Qi(n,a+2,s?i.call(s,r,o):i(r,o)):ad(n,a+2)}(o,In(),e,s.transform,t,i,s):s.transform(t,i)}function RK(){return this._results[Symbol.iterator]()}class ld{get changes(){return this._changes||(this._changes=new st)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ld.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=RK)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function hi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function f8(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function PK(n,e,t,i=!0){const r=e[V];if(function nG(n,e,t,i){const r=Jt+i,o=t.length;i>0&&(t[r-1][Ii]=e),i<o-Jt?(e[Ii]=t[r],yA(t,Jt+i,e)):(t.push(e),e[Ii]=null),e[Ze]=t;const s=e[vl];null!==s&&t!==s&&function iG(n,e){const t=n[xa];e[mt]!==e[Ze][Ze][mt]&&(n[gS]=!0),null===t?n[xa]=[e]:t.push(e)}(s,e);const a=e[Hi];null!==a&&a.insertView(n),e[ce]|=128}(r,e,n,t),i){const o=Fy(t,n),s=e[re],a=df(s,n[zi]);null!==a&&function J8(n,e,t,i,r,o){i[ot]=r,i[fn]=e,Fl(n,i,t,1,r,o)}(r,n[fn],s,e,a,o)}}let Ar=(()=>{class n{static{this.__NG_ELEMENT_ID__=LK}}return n})();const NK=Ar,FK=class extends NK{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function OK(n,e,t,i){const r=e.tView,a=Sf(n,r,t,4096&n[ce]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[vl]=n[e.index];const l=n[Hi];return null!==l&&(a[Hi]=l.createEmbeddedView(r)),Tv(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Wl(r)}};function LK(){return Kf(tn(),T())}function Kf(n,e){return 4&n.type?new FK(e,n,za(n,e)):null}let er=(()=>{class n{static{this.__NG_ELEMENT_ID__=zK}}return n})();function zK(){return IP(tn(),T())}const $K=er,EP=class extends $K{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return za(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kh(this._hostTNode,this._hostLView);if(my(e)){const t=kl(e,this._hostLView),i=Tl(e);return new kn(t[V].data[i+8],t)}return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=DP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function Sl(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const m=t||{};a=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const c=s?e:new Kl(be(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const _=(s?l:this.parentInjector).get(Tr,null);_&&(o=_)}be(c.componentType??{});const f=c.create(l,r,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function M6(n){return Dn(n[Ze])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=r[Ze],d=new EP(l,l[fn],l[Ze]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return PK(a,r,s,!i),e.attachToViewContainerRef(),yA(tb(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=DP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=lf(this._lContainer,t);i&&(Xh(tb(this._lContainer),t),Ry(i[V],i))}detach(e){const t=this._adjustIndex(e,-1),i=lf(this._lContainer,t);return i&&null!=Xh(tb(this._lContainer),t)?new Wl(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function DP(n){return n[8]}function tb(n){return n[8]||(n[8]=[])}function IP(n,e){let t;const i=e[n.index];return Dn(i)?t=i:(t=aR(i,e,null,n),e[n.index]=t,Af(e,t)),TP(t,e,n,i),new EP(t,n,e)}let TP=function kP(n,e,t,i){if(n[zi])return;let r;r=8&t.type?ze(i):function GK(n,e){const t=n[re],i=t.createComment(""),r=jn(e,n);return os(t,df(t,r),i,function aG(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[zi]=r};class nb{constructor(e){this.queryList=e,this.matches=null}clone(){return new nb(this.queryList)}setDirty(){this.queryList.setDirty()}}class ib{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new ib(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==OP(e,t).matches&&this.queries[t].setDirty()}}class MP{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class rb{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new rb(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ob{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ob(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,KK(t,o)),this.matchTNodeWithReadOption(e,t,Yh(t,e,o,!1,!1))}else i===Ar?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yh(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Bt||r===er||r===Ar&&4&t.type)this.addMatch(t.index,-2);else{const o=Yh(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function KK(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function QK(n,e,t,i){return-1===t?function YK(n,e){return 11&n.type?za(n,e):4&n.type?Kf(n,e):null}(e,n):-2===t?function XK(n,e,t){return t===Bt?za(e,n):t===Ar?Kf(e,n):t===er?IP(e,n):void 0}(n,e,i):is(n,n[V],t,e)}function SP(n,e,t,i){const r=e[Hi].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:QK(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function sb(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=SP(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=e[-c];for(let u=Jt;u<d.length;u++){const h=d[u];h[vl]===h[Ze]&&sb(h[V],h,l,i)}if(null!==d[xa]){const u=d[xa];for(let h=0;h<u.length;h++){const f=u[h];sb(f[V],f,l,i)}}}}}return i}function dd(n){const e=T(),t=xe(),i=YS();dy(i+1);const r=OP(t,i);if(n.dirty&&function T6(n){return 4==(4&n[ce])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?sb(t,e,i,[]):SP(t,e,r,i);n.reset(o,f9),n.notifyOnChanges()}return!0}return!1}function ud(n,e,t){const i=xe();i.firstCreatePass&&(function RP(n,e,t){null===n.queries&&(n.queries=new rb),n.queries.track(new ob(e,t))}(i,new MP(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function AP(n,e,t){const i=new ld(4==(4&t));(function q9(n,e,t,i){const r=lR(e);r.push(t),n.firstCreatePass&&dR(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Hi]&&(e[Hi]=new ib),e[Hi].queries.push(new nb(i))}(i,T(),e)}function OP(n,e){return n.queries.getByIndex(e)}const XP=new A("Application Initializer");let ub=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=pe(XP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(jf(o))t.push(o);else if(HR(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const tr=new A("LocaleId",{providedIn:"root",factory:()=>pe(tr,_e.Optional|_e.SkipSelf)||function CY(){return typeof $localize<"u"&&$localize.locale||rc}()});let IY=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new E$(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const tN=new A(""),Zf=new A("");let gb,pb=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gb||(function YY(n){gb=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(D(he),D(mb),D(Zf))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),mb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return gb?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ho=null;const nN=new A("AllowMultipleToken"),_b=new A("PlatformDestroyListeners"),iN=new A("appBootstrapListener");function sN(n,e,t=[]){const i=`Platform: ${e}`,r=new A(i);return(o=[])=>{let s=yb();if(!s||s.injector.get(nN,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function ZY(n){if(ho&&!ho.get(nN,!1))throw new E(400,!1);(function rN(){!function p6(n){kS=n}(()=>{throw new E(600,!1)})})(),ho=n;const e=n.get(cN);(function oN(n){n.get(w1,null)?.forEach(t=>t())})(n)}(function aN(n=[],e){return on.create({name:e,providers:[{provide:Ky,useValue:"platform"},{provide:_b,useValue:new Set([()=>ho=null])},...n]})}(a,i))}return function eQ(n){const e=yb();if(!e)throw new E(401,!1);return e}()}}function yb(){return ho?.get(cN)??null}let cN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function tQ(n="zone.js",e){return"noop"===n?new k9:"zone.js"===n?new he(e):n}(i?.ngZone,function lN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function sK(n,e,t){return new Yv(n,e,t)}(t.moduleType,this.injector,function pN(n){return[{provide:he,useFactory:n},{provide:_f,multi:!0,useFactory:()=>{const e=pe(iQ,{optional:!0});return()=>e.initialize()}},{provide:fN,useFactory:nQ},{provide:V1,useFactory:B1}]}(()=>r)),s=o.injector.get(Mi,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Jf(this._modules,o),a.unsubscribe()})}),function dN(n,e,t){try{const i=t();return jf(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(ub);return a.runInitializers(),a.donePromise.then(()=>(function LO(n){li(n,"Expected localeId to be defined"),"string"==typeof n&&(FO=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(tr,rc)||rc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=uN({},i);return function QY(n,e,t){const i=new Qv(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(fo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new E(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(_b,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(D(on))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function uN(n,e){return Array.isArray(e)?e.reduce(uN,n):{...n,...e}}let fo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pe(fN),this.zoneIsStable=pe(V1),this.componentTypes=[],this.components=[],this.isStable=pe(IY).hasPendingTasks.pipe(ul(t=>t?Ei(!1):this.zoneIsStable),function D$(n,e=fa){return n=n??I$,At((t,i)=>{let r,o=!0;t.subscribe(Ct(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}(),O_()),this._injector=pe(Tr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof I1;if(!this._injector.get(ub).done)throw!r&&function gl(n){const e=be(n)||Zt(n)||En(n);return null!==e&&e.standalone}(t),new E(405,!1);let s;s=r?t:this._injector.get(Hl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function XY(n){return n.isBoundToModule}(s)?void 0:this._injector.get(fs),l=s.create(on.NULL,[],i||s.selector,a),d=l.location.nativeElement,u=l.injector.get(tN,null);return u?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Jf(this.components,l),u?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Jf(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(iN,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Jf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Jf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const fN=new A("",{providedIn:"root",factory:()=>pe(Mi).handleError.bind(void 0)});function nQ(){const n=pe(he),e=pe(Mi);return t=>n.runOutsideAngular(()=>e.handleError(t))}let iQ=(()=>{class n{constructor(){this.zone=pe(he),this.applicationRef=pe(fo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let vb=(()=>{class n{static{this.__NG_ELEMENT_ID__=oQ}}return n})();function oQ(n){return function sQ(n,e,t){if(es(n)&&!t){const i=Qn(n.index,e);return new Wl(i,i)}return 47&n.type?new Wl(e[mt],e):null}(tn(),T(),16==(16&n))}class vN{constructor(){}supports(e){return Nf(e)}create(e){return new uQ(e)}}const dQ=(n,e)=>e;class uQ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dQ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<xN(i,r,o)?t:i,a=xN(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;d<=p&&p<l&&(o[h]=f+1)}o[s.previousIndex]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Nf(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function Bq(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new hQ(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new bN),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class hQ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class bN{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new fQ,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xN(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class wN{constructor(){}supports(e){return e instanceof Map||kv(e)}create(){return new pQ}}class pQ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||kv(e)))throw new E(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new mQ(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class mQ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CN(){return new np([new vN])}let np=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:CN})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||CN()),deps:[[n,new rs,new Pt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new E(901,!1)}}return n})();function EN(){return new md([new wN])}let md=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:EN})}constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||EN()),deps:[[n,new rs,new Pt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new E(901,!1)}}return n})();const yQ=sN(null,"core",[]);let vQ=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(D(fo))}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({})}}return n})();function Db(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Ib=null;function po(){return Ib}class RQ{}const Ne=new A("DocumentToken");let ON=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return pe(OQ)},providedIn:"platform"})}}return n})(),OQ=(()=>{class n extends ON{constructor(){super(),this._doc=pe(Ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return po().getBaseHref(this._doc)}onPopState(t){const i=po().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=po().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function PN(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function NN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ms(n){return n&&"?"!==n[0]?"?"+n:n}let Tb=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:function(){return pe(NQ)},providedIn:"root"})}}return n})();const PQ=new A("appBaseHref");let NQ=(()=>{class n extends Tb{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??pe(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return PN(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ms(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ms(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ms(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(D(ON),D(PQ,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FN=(()=>{class n{constructor(t){this._subject=new st,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function VQ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(NN(LN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ms(i))}normalize(t){return n.stripTrailingSlash(function LQ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,LN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ms(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ms(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ms}static{this.joinWithSlash=PN}static{this.stripTrailingSlash=NN}static{this.\u0275fac=function(i){return new(i||n)(D(Tb))}}static{this.\u0275prov=U({token:n,factory:function(){return function FQ(){return new FN(D(Tb))}()},providedIn:"root"})}}return n})();function LN(n){return n.replace(/\/index.html$/,"")}var An=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(An||{}),je=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(je||{}),ti=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ti||{}),gt=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(gt||{});function op(n,e){return gi(Mn(n)[$e.DateFormat],e)}function sp(n,e){return gi(Mn(n)[$e.TimeFormat],e)}function ap(n,e){return gi(Mn(n)[$e.DateTimeFormat],e)}function mi(n,e){const t=Mn(n),i=t[$e.NumberSymbols][e];if(typeof i>"u"){if(e===gt.CurrencyDecimal)return t[$e.NumberSymbols][gt.Decimal];if(e===gt.CurrencyGroup)return t[$e.NumberSymbols][gt.Group]}return i}function BN(n){if(!n[$e.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[$e.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function gi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Mb(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ZQ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gd={},JQ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Rr||{}),Se=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Se||{}),Ae=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ae||{});function eX(n,e,t,i){let r=function lX(n){if(HN(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return cp(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(ZQ))return function dX(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,c,l),e}(i)}const e=new Date(n);if(!HN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Or(t,e)||e;let a,s=[];for(;e;){if(a=JQ.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;e=d}}let c=r.getTimezoneOffset();i&&(c=UN(i,c),r=function cX(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function aX(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(UN(e,r)-r))}(r,i,!0));let l="";return s.forEach(d=>{const u=function sX(n){if(Ab[n])return Ab[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ge(Ae.Eras,je.Abbreviated);break;case"GGGG":e=Ge(Ae.Eras,je.Wide);break;case"GGGGG":e=Ge(Ae.Eras,je.Narrow);break;case"y":e=Et(Se.FullYear,1,0,!1,!0);break;case"yy":e=Et(Se.FullYear,2,0,!0,!0);break;case"yyy":e=Et(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=Et(Se.FullYear,4,0,!1,!0);break;case"Y":e=hp(1);break;case"YY":e=hp(2,!0);break;case"YYY":e=hp(3);break;case"YYYY":e=hp(4);break;case"M":case"L":e=Et(Se.Month,1,1);break;case"MM":case"LL":e=Et(Se.Month,2,1);break;case"MMM":e=Ge(Ae.Months,je.Abbreviated);break;case"MMMM":e=Ge(Ae.Months,je.Wide);break;case"MMMMM":e=Ge(Ae.Months,je.Narrow);break;case"LLL":e=Ge(Ae.Months,je.Abbreviated,An.Standalone);break;case"LLLL":e=Ge(Ae.Months,je.Wide,An.Standalone);break;case"LLLLL":e=Ge(Ae.Months,je.Narrow,An.Standalone);break;case"w":e=Sb(1);break;case"ww":e=Sb(2);break;case"W":e=Sb(1,!0);break;case"d":e=Et(Se.Date,1);break;case"dd":e=Et(Se.Date,2);break;case"c":case"cc":e=Et(Se.Day,1);break;case"ccc":e=Ge(Ae.Days,je.Abbreviated,An.Standalone);break;case"cccc":e=Ge(Ae.Days,je.Wide,An.Standalone);break;case"ccccc":e=Ge(Ae.Days,je.Narrow,An.Standalone);break;case"cccccc":e=Ge(Ae.Days,je.Short,An.Standalone);break;case"E":case"EE":case"EEE":e=Ge(Ae.Days,je.Abbreviated);break;case"EEEE":e=Ge(Ae.Days,je.Wide);break;case"EEEEE":e=Ge(Ae.Days,je.Narrow);break;case"EEEEEE":e=Ge(Ae.Days,je.Short);break;case"a":case"aa":case"aaa":e=Ge(Ae.DayPeriods,je.Abbreviated);break;case"aaaa":e=Ge(Ae.DayPeriods,je.Wide);break;case"aaaaa":e=Ge(Ae.DayPeriods,je.Narrow);break;case"b":case"bb":case"bbb":e=Ge(Ae.DayPeriods,je.Abbreviated,An.Standalone,!0);break;case"bbbb":e=Ge(Ae.DayPeriods,je.Wide,An.Standalone,!0);break;case"bbbbb":e=Ge(Ae.DayPeriods,je.Narrow,An.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(Ae.DayPeriods,je.Abbreviated,An.Format,!0);break;case"BBBB":e=Ge(Ae.DayPeriods,je.Wide,An.Format,!0);break;case"BBBBB":e=Ge(Ae.DayPeriods,je.Narrow,An.Format,!0);break;case"h":e=Et(Se.Hours,1,-12);break;case"hh":e=Et(Se.Hours,2,-12);break;case"H":e=Et(Se.Hours,1);break;case"HH":e=Et(Se.Hours,2);break;case"m":e=Et(Se.Minutes,1);break;case"mm":e=Et(Se.Minutes,2);break;case"s":e=Et(Se.Seconds,1);break;case"ss":e=Et(Se.Seconds,2);break;case"S":e=Et(Se.FractionalSeconds,1);break;case"SS":e=Et(Se.FractionalSeconds,2);break;case"SSS":e=Et(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=dp(Rr.Short);break;case"ZZZZZ":e=dp(Rr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=dp(Rr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=dp(Rr.Long);break;default:return null}return Ab[n]=e,e}(d);l+=u?u(r,t,c):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function cp(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Or(n,e){const t=function jQ(n){return Mn(n)[$e.LocaleId]}(n);if(gd[t]=gd[t]||{},gd[t][e])return gd[t][e];let i="";switch(e){case"shortDate":i=op(n,ti.Short);break;case"mediumDate":i=op(n,ti.Medium);break;case"longDate":i=op(n,ti.Long);break;case"fullDate":i=op(n,ti.Full);break;case"shortTime":i=sp(n,ti.Short);break;case"mediumTime":i=sp(n,ti.Medium);break;case"longTime":i=sp(n,ti.Long);break;case"fullTime":i=sp(n,ti.Full);break;case"short":const r=Or(n,"shortTime"),o=Or(n,"shortDate");i=lp(ap(n,ti.Short),[r,o]);break;case"medium":const s=Or(n,"mediumTime"),a=Or(n,"mediumDate");i=lp(ap(n,ti.Medium),[s,a]);break;case"long":const c=Or(n,"longTime"),l=Or(n,"longDate");i=lp(ap(n,ti.Long),[c,l]);break;case"full":const d=Or(n,"fullTime"),u=Or(n,"fullDate");i=lp(ap(n,ti.Full),[d,u])}return i&&(gd[t][e]=i),i}function lp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Ri(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function Et(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function nX(n,e){switch(n){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===Se.Hours)0===a&&-12===t&&(a=12);else if(n===Se.FractionalSeconds)return function tX(n,e){return Ri(n,3).substring(0,e)}(a,e);const c=mi(s,gt.MinusSign);return Ri(a,e,c,i,r)}}function Ge(n,e,t=An.Format,i=!1){return function(r,o){return function iX(n,e,t,i,r,o){switch(t){case Ae.Months:return function zQ(n,e,t){const i=Mn(n),o=gi([i[$e.MonthsFormat],i[$e.MonthsStandalone]],e);return gi(o,t)}(e,r,i)[n.getMonth()];case Ae.Days:return function HQ(n,e,t){const i=Mn(n),o=gi([i[$e.DaysFormat],i[$e.DaysStandalone]],e);return gi(o,t)}(e,r,i)[n.getDay()];case Ae.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const l=function WQ(n){const e=Mn(n);return BN(e),(e[$e.ExtraData][2]||[]).map(i=>"string"==typeof i?Mb(i):[Mb(i[0]),Mb(i[1])])}(e),d=function KQ(n,e,t){const i=Mn(n);BN(i);const o=gi([i[$e.ExtraData][0],i[$e.ExtraData][1]],e)||[];return gi(o,t)||[]}(e,r,i),u=l.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,m=s>=f.hours&&a>=f.minutes,_=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(m&&_)return!0}else if(m||_)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function UQ(n,e,t){const i=Mn(n),o=gi([i[$e.DayPeriodsFormat],i[$e.DayPeriodsStandalone]],e);return gi(o,t)}(e,r,i)[s<12?0:1];case Ae.Eras:return function $Q(n,e){return gi(Mn(n)[$e.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function dp(n){return function(e,t,i){const r=-1*i,o=mi(t,gt.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Rr.Short:return(r>=0?"+":"")+Ri(s,2,o)+Ri(Math.abs(r%60),2,o);case Rr.ShortGMT:return"GMT"+(r>=0?"+":"")+Ri(s,1,o);case Rr.Long:return"GMT"+(r>=0?"+":"")+Ri(s,2,o)+":"+Ri(Math.abs(r%60),2,o);case Rr.Extended:return 0===i?"Z":(r>=0?"+":"")+Ri(s,2,o)+":"+Ri(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const rX=0,up=4;function jN(n){return cp(n.getFullYear(),n.getMonth(),n.getDate()+(up-n.getDay()))}function Sb(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=jN(t),s=function oX(n){const e=cp(n,rX,1).getDay();return cp(n,0,1+(e<=up?up:up+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ri(r,n,mi(i,gt.MinusSign))}}function hp(n,e=!1){return function(t,i){return Ri(jN(t).getFullYear(),n,mi(i,gt.MinusSign),e)}}const Ab={};function UN(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function HN(n){return n instanceof Date&&!isNaN(n.valueOf())}const Lb=/\s+/,qN=[];let WN=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=qN,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Lb):qN}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Lb):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Lb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(k(np),k(md),k(Bt),k(cs))}}static{this.\u0275dir=$({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class EX{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vb=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new EX(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),YN(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{YN(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(k(er),k(Ar),k(np))}}static{this.\u0275dir=$({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function YN(n,e){n.context.$implicit=e.item}let Bb=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new DX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){QN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){QN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(k(er),k(Ar))}}static{this.\u0275dir=$({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class DX{constructor(){this.$implicit=null,this.ngIf=null}}function QN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Rt(e)}'.`)}class jb{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let pp=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=$({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),XN=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new jb(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||n)(k(er),k(Ar),k(pp,9))}}static{this.\u0275dir=$({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})();const LX=new A("DATE_PIPE_DEFAULT_TIMEZONE"),VX=new A("DATE_PIPE_DEFAULT_OPTIONS");let JN=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return eX(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Oi(n,e){return new E(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||n)(k(tr,16),k(LX,24),k(VX,24))}}static{this.\u0275pipe=Vn({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),mp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({})}}return n})();const tF="browser";function zb(n){return n===tF}function nF(n){return"server"===n}class xZ extends RQ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qb extends xZ{static makeCurrent(){!function AQ(n){Ib||(Ib=n)}(new qb)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wZ(){return vd=vd||document.querySelector("base"),vd?vd.getAttribute("href"):null}();return null==t?null:function CZ(n){yp=yp||document.createElement("a"),yp.setAttribute("href",n);const e=yp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function wX(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let yp,vd=null,DZ=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const Wb=new A("EventManagerPlugins");let aF=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(D(Wb),D(he))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();class cF{constructor(e){this._doc=e}}const Kb="ng-app-id";let lF=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nF(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Kb}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Kb),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Kb,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(D(Ne),D(xf),D(Zy,8),D(ki))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const Yb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qb=/%COMP%/g,MZ=new A("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function uF(n,e){return e.map(t=>t.replace(Qb,n))}let Xb=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=nF(a),this.defaultRenderer=new Zb(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===di.ShadowDom&&(i={...i,encapsulation:di.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof fF?r.applyToHost(t):r instanceof Jb&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case di.Emulated:o=new fF(c,l,i,this.appId,d,s,a,u);break;case di.ShadowDom:return new OZ(c,l,t,i,s,a,this.nonce,u);default:o=new Jb(c,l,i,d,s,a,u)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(D(aF),D(lF),D(xf),D(MZ),D(Ne),D(ki),D(he),D(Zy))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();class Zb{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Yb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hF(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(hF(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new E(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Yb[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Yb[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(lo.DashCase|lo.Important)?e.style.setProperty(t,i,r&lo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&lo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=po().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function hF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class OZ extends Zb{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=uF(r.id,r.styles);for(const d of l){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jb extends Zb{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?uF(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fF extends Jb{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function SZ(n){return"_ngcontent-%COMP%".replace(Qb,n)}(l),this.hostAttr=function AZ(n){return"_nghost-%COMP%".replace(Qb,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let PZ=(()=>{class n extends cF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(D(Ne))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const pF=["alt","control","meta","shift"],NZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FZ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let LZ=(()=>{class n extends cF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>po().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),pF.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=NZ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pF.forEach(s=>{s!==r&&(0,FZ[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(D(Ne))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const gF=[{provide:ki,useValue:tF},{provide:w1,useValue:function VZ(){qb.makeCurrent()},multi:!0},{provide:Ne,useFactory:function jZ(){return function mG(n){By=n}(document),document},deps:[]}],UZ=sN(yQ,"browser",gF),HZ=new A(""),_F=[{provide:Zf,useClass:class EZ{addToWindow(e){He.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new E(5103,!1);return o},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(i=>{const r=He.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?po().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:tN,useClass:pb,deps:[he,mb,Zf]},{provide:pb,useClass:pb,deps:[he,mb,Zf]}],yF=[{provide:Ky,useValue:"root"},{provide:Mi,useFactory:function BZ(){return new Mi},deps:[]},{provide:Wb,useClass:PZ,multi:!0,deps:[Ne,he,ki]},{provide:Wb,useClass:LZ,multi:!0,deps:[Ne]},Xb,lF,aF,{provide:zl,useExisting:Xb},{provide:class ZX{},useClass:DZ,deps:[]},[]];let vF=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:xf,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(D(HZ,12))}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({providers:[...yF,..._F],imports:[mp,vQ]})}}return n})();typeof window<"u"&&window;class EF{}class YZ{}const Pr="*";function cc(n,e){return{type:7,name:n,definitions:e,options:{}}}function nr(n,e=null){return{type:4,styles:e,timings:n}}function DF(n,e=null){return{type:2,steps:n,options:e}}function Ft(n){return{type:6,styles:n,offset:null}}function bd(n,e,t){return{type:0,name:n,styles:e,options:t}}function ir(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class xd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class TF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function kF(n){return new E(3e3,!1)}function go(n){switch(n.length){case 0:return new xd;case 1:return n[0];default:return new TF(n)}}function MF(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=t.get(f);break;case Pr:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}u.set(p,m)}),d||o.push(u),a=u,s=l}),r.length)throw function yJ(n){return new E(3502,!1)}();return o}function r0(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&o0(t,"start",n)));break;case"done":n.onDone(()=>i(t&&o0(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&o0(t,"destroy",n)))}}function o0(n,e,t){const o=s0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function s0(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ni(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function SF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const SJ=(()=>typeof document>"u"?null:document.documentElement)();function a0(n){const e=n.parentNode||n.host||null;return e===SJ?null:e}let gs=null,AF=!1;function RF(n,e){for(;e;){if(e===n)return!0;e=a0(e)}return!1}function OF(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let PF=(()=>{class n{validateStyleProperty(t){return function RJ(n){gs||(gs=function OJ(){return typeof document<"u"?document.body:null}()||{},AF=!!gs.style&&"WebkitAppearance"in gs.style);let e=!0;return gs.style&&!function AJ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gs.style,!e&&AF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gs.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return RF(t,i)}getParentElement(t){return a0(t)}query(t,i,r){return OF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new xd(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),c0=(()=>{class n{static{this.NOOP=new PF}}return n})();const PJ=1e3,l0="ng-enter",vp="ng-leave",bp="ng-trigger",xp=".ng-trigger",FF="ng-animating",d0=".ng-animating";function Nr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:u0(parseFloat(e[1]),e[2])}function u0(n,e){return"s"===e?n*PJ:n}function wp(n,e,t){return n.hasOwnProperty("duration")?n:function FJ(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(kF()),{duration:0,delay:0,easing:""};r=u0(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=u0(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function QZ(){return new E(3100,!1)}()),a=!0),o<0&&(e.push(function XZ(){return new E(3101,!1)}()),a=!0),a&&e.splice(c,0,kF())}return{duration:r,delay:o,easing:s}}(n,e,t)}function wd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function LF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function _o(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function rr(n,e,t){e.forEach((i,r)=>{const o=f0(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function _s(n,e){e.forEach((t,i)=>{const r=f0(i);n.style[r]=""})}function Cd(n){return Array.isArray(n)?1==n.length?n[0]:DF(n):n}const h0=new RegExp("{{\\s*(.+?)\\s*}}","g");function BF(n){let e=[];if("string"==typeof n){let t;for(;t=h0.exec(n);)e.push(t[1]);h0.lastIndex=0}return e}function Ed(n,e,t){const i=n.toString(),r=i.replace(h0,(o,s)=>{let a=e[s];return null==a&&(t.push(function JZ(n){return new E(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Cp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const BJ=/-+([a-z0-9])/g;function f0(n){return n.replace(BJ,(...e)=>e[1].toUpperCase())}function ii(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function eJ(n){return new E(3004,!1)}()}}function jF(n,e){return window.getComputedStyle(n)[e]}const Ep="*";function HJ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function zJ(n,e,t){if(":"==n[0]){const c=function $J(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function pJ(n){return new E(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function fJ(n){return new E(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(UF(r,s));"<"==o[0]&&!(r==Ep&&s==Ep)&&e.push(UF(s,r))}(i,t,e)):t.push(n),t}const Dp=new Set(["true","1"]),Ip=new Set(["false","0"]);function UF(n,e){const t=Dp.has(n)||Ip.has(n),i=Dp.has(e)||Ip.has(e);return(r,o)=>{let s=n==Ep||n==r,a=e==Ep||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Dp.has(n):Ip.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Dp.has(e):Ip.has(e)),s&&a}}const GJ=new RegExp("s*:selfs*,?","g");function p0(n,e,t,i){return new qJ(n).build(e,t,i)}class qJ{constructor(e){this._driver=e}build(e,t,i){const r=new YJ(t);return this._resetContextStyleTimingState(r),ii(this,Cd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function nJ(){return new E(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function iJ(){return new E(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{BF(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(Cp(o.values()),t.errors.push(function rJ(n,e){return new E(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ii(this,Cd(e.animation),t);return{type:1,matchers:HJ(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ys(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ii(this,i,t)),options:ys(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=ii(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:ys(e.options)}}visitAnimate(e,t){const i=function XJ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return m0(wp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=m0(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=wp(t,e);return m0(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Ft({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=Ft(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Pr?i.push(a):t.errors.push(new E(3002,!1)):i.push(LF(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c);let u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(function sJ(n,e,t,i,r){return new E(3010,!1)}()),u=!1),o=d.startTime),u&&l.set(c,{startTime:o,endTime:r}),t.options&&function VJ(n,e,t){const i=e.params||{},r=BF(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function ZZ(n){return new E(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function aJ(){return new E(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=e.steps.map(v=>{const y=this._makeStyleAst(v,t);let C=null!=y.offset?y.offset:function QJ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),R=0;return null!=C&&(o++,R=y.offset=C),c=c||R<0||R>1,a=a||R<l,l=R,s.push(R),y});c&&t.errors.push(function cJ(){return new E(3012,!1)}()),a&&t.errors.push(function lJ(){return new E(3200,!1)}());const u=e.steps.length;let h=0;o>0&&o<u?t.errors.push(function dJ(){return new E(3202,!1)}()):0==o&&(h=1/(u-1));const f=u-1,p=t.currentTime,m=t.currentAnimateTimings,_=m.duration;return d.forEach((v,y)=>{const C=h>0?y==f?1:h*y:s[y],R=C*_;t.currentTime=p+m.delay+R,m.duration=R,this._validateStyleAst(v,t),v.offset=C,i.styles.push(v)}),i}visitReference(e,t){return{type:8,animation:ii(this,Cd(e.animation),t),options:ys(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ys(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ys(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function WJ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(GJ,"")),n=n.replace(/@\*/g,xp).replace(/@\w+/g,t=>xp+"-"+t.slice(1)).replace(/:animating/g,d0),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ni(t.collectedStyles,t.currentQuerySelector,new Map);const a=ii(this,Cd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ys(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function uJ(){return new E(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:wp(e.timings,t.errors,!0);return{type:12,animation:ii(this,Cd(e.animation),t),timings:i,options:null}}}class YJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ys(n){return n?(n=wd(n)).params&&(n.params=function KJ(n){return n?wd(n):null}(n.params)):n={},n}function m0(n,e,t){return{duration:n,delay:e,easing:t}}function g0(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Tp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const eee=new RegExp(":enter","g"),nee=new RegExp(":leave","g");function _0(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new iee).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class iee{buildKeyframes(e,t,i,r,o,s,a,c,l,d=[]){l=l||new Tp;const u=new y0(e,t,l,r,o,d,[]);u.options=c;const h=c.delay?Nr(c.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([s],null,u.errors,c),ii(this,i,u);const f=u.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const _=f[m];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,u.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[g0(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Nr(Ed(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Nr(i.duration):null,a=null!=i.delay?Nr(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ii(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kp);const s=Nr(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>ii(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Nr(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),ii(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return wp(t.params?Ed(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Nr(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kp);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;const u=t.createSubContext(e.options,l);o&&u.delayNextStep(o),l===t.element&&(c=u.currentTimeline),ii(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const u=d.currentTime;ii(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const kp={};class y0{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Mp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Nr(i.duration)),null!=i.delay&&(r.delay=Nr(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ed(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new y0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=kp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new ree(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(eee,"."+this._enterClassName)).replace(nee,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function hJ(n){return new E(3014,!1)}()),a}}class Mp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Mp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Pr),this._currentKeyframe.set(t,Pr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function oee(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Pr)}else _o(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=Ed(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Pr),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=_o(a,new Map,this._backFill);l.forEach((d,u)=>{"!"===d?e.add(u):d===Pr&&t.add(u)}),i||l.set("offset",c/this.duration),r.push(l)});const o=e.size?Cp(e.values()):[],s=t.size?Cp(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return g0(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class ree extends Mp{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=_o(e[0]);c.set("offset",0),o.push(c);const l=_o(e[0]);l.set("offset",$F(a)),o.push(l);const d=e.length-1;for(let u=1;u<=d;u++){let h=_o(e[u]);const f=h.get("offset");h.set("offset",$F((t+f*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return g0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function $F(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class v0{}const see=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aee extends v0{normalizePropertyName(e,t){return f0(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(see.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function tJ(n,e){return new E(3005,!1)}())}return s+o}}function GF(n,e,t,i,r,o,s,a,c,l,d,u,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:h}}const b0={};class qF{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function cee(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,d){const u=[],h=this.ast.options&&this.ast.options.params||b0,p=this.buildStyles(i,a&&a.params||b0,u),m=c&&c.params||b0,_=this.buildStyles(r,m,u),v=new Set,y=new Map,C=new Map,R="void"===r,j={params:lee(m,h),delay:this.ast.options?.delay},W=d?[]:_0(e,t,this.ast.animation,o,s,p,_,j,l,u);let ae=0;if(W.forEach(St=>{ae=Math.max(St.duration+St.delay,ae)}),u.length)return GF(t,this._triggerName,i,r,R,p,_,[],[],y,C,ae,u);W.forEach(St=>{const ai=St.element,y_=ni(y,ai,new Set);St.preStyleProps.forEach(da=>y_.add(da));const _h=ni(C,ai,new Set);St.postStyleProps.forEach(da=>_h.add(da)),ai!==t&&v.add(ai)});const Ue=Cp(v.values());return GF(t,this._triggerName,i,r,R,p,_,W,Ue,y,C,ae)}}function lee(n,e){const t=wd(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class dee{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=wd(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ed(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class hee{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new dee(r.style,r.options&&r.options.params||{},i))}),WF(this.states,"true","1"),WF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new qF(e,r,this.states))}),this.fallbackTransition=function fee(n,e,t){return new qF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function WF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const pee=new Tp;class mee{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=p0(this._driver,t,i,[]);if(i.length)throw function vJ(n){return new E(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=MF(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=_0(this._driver,t,o,l0,vp,new Map,new Map,i,pee,r),s.forEach(d=>{const u=ni(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(function bJ(){return new E(3300,!1)}()),s=[]),r.length)throw function xJ(n){return new E(3504,!1)}();a.forEach((d,u)=>{d.forEach((h,f)=>{d.set(f,this._driver.computeStyle(u,f,Pr))})});const l=go(s.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function wJ(n){return new E(3301,!1)}();return t}listen(e,t,i,r){const o=s0(t,"","","");return r0(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const KF="ng-animate-queued",x0="ng-animate-disabled",bee=[],YF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pi="__ng_removed";class w0{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Dee(n){return n??null}(i?e.value:e),i){const o=wd(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Dd="void",C0=new w0(Dd);class wee{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,_i(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function CJ(n,e){return new E(3302,!1)}();if(null==i||0==i.length)throw function EJ(n){return new E(3303,!1)}();if(!function Iee(n){return"start"==n||"done"==n}(i))throw function DJ(n,e){return new E(3400,!1)}();const o=ni(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=ni(this._engine.statesByElement,e,new Map);return a.has(t)||(_i(e,bp),_i(e,bp+"-"+t),a.set(t,C0)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function IJ(n){return new E(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new E0(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(_i(e,bp),_i(e,bp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new w0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=C0),l.value!==Dd&&c.value===l.value){if(!function Mee(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const m=[],_=o.matchStyles(c.value,c.params,m),v=o.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{_s(e,_),rr(e,v)})}return}const h=ni(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:p}),p||(_i(e,KF),s.onStart(()=>{lc(e,KF)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(s);v>=0&&_.splice(v,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,xp,!0);i.forEach(r=>{if(r[Pi])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(e,l,Dd,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&go(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||C0,d=new w0(Dd),u=new E0(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Pi];(!o||o===YF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){_i(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=s0(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,r0(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Cee{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new wee(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Sp(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Sp(t))return;const o=t[Pi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_i(e,x0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lc(e,x0))}removeNode(e,t,i){if(Sp(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Pi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Sp(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,xp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,d0,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return go(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Pi];if(t&&t.setForRemoval){if(e[Pi]=YF,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(x0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)_i(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?go(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function TJ(n){return new E(3402,!1)}()}_flushAnimations(e,t){const i=new Tp,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(z=>{d.add(z);const Y=this.driver.query(z,".ng-animate-queued",!0);for(let Q=0;Q<Y.length;Q++)d.add(Y[Q])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=ZF(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((z,Y)=>{const Q=l0+m++;p.set(Y,Q),z.forEach(ke=>_i(ke,Q))});const _=[],v=new Set,y=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const Y=this.collectedLeaveElements[z],Q=Y[Pi];Q&&Q.setForRemoval&&(_.push(Y),v.add(Y),Q.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(ke=>v.add(ke)):y.add(Y))}const C=new Map,R=ZF(h,Array.from(v));R.forEach((z,Y)=>{const Q=vp+m++;C.set(Y,Q),z.forEach(ke=>_i(ke,Q))}),e.push(()=>{f.forEach((z,Y)=>{const Q=p.get(Y);z.forEach(ke=>lc(ke,Q))}),R.forEach((z,Y)=>{const Q=C.get(Y);z.forEach(ke=>lc(ke,Q))}),_.forEach(z=>{this.processLeaveNode(z)})});const j=[],W=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(t).forEach(Q=>{const ke=Q.player,Qt=Q.element;if(j.push(ke),this.collectedEnterElements.length){const Cn=Qt[Pi];if(Cn&&Cn.setForMove){if(Cn.previousTriggersValues&&Cn.previousTriggersValues.has(Q.triggerName)){const ua=Cn.previousTriggersValues.get(Q.triggerName),Ci=this.statesByElement.get(Q.element);if(Ci&&Ci.has(Q.triggerName)){const v_=Ci.get(Q.triggerName);v_.value=ua,Ci.set(Q.triggerName,v_)}}return void ke.destroy()}}const vr=!u||!this.driver.containsElement(u,Qt),ci=C.get(Qt),Qo=p.get(Qt),rt=this._buildInstruction(Q,i,Qo,ci,vr);if(rt.errors&&rt.errors.length)return void W.push(rt);if(vr)return ke.onStart(()=>_s(Qt,rt.fromStyles)),ke.onDestroy(()=>rr(Qt,rt.toStyles)),void r.push(ke);if(Q.isFallbackTransition)return ke.onStart(()=>_s(Qt,rt.fromStyles)),ke.onDestroy(()=>rr(Qt,rt.toStyles)),void r.push(ke);const Ez=[];rt.timelines.forEach(Cn=>{Cn.stretchStartingKeyframe=!0,this.disabledNodes.has(Cn.element)||Ez.push(Cn)}),rt.timelines=Ez,i.append(Qt,rt.timelines),s.push({instruction:rt,player:ke,element:Qt}),rt.queriedElements.forEach(Cn=>ni(a,Cn,[]).push(ke)),rt.preStyleProps.forEach((Cn,ua)=>{if(Cn.size){let Ci=c.get(ua);Ci||c.set(ua,Ci=new Set),Cn.forEach((v_,xM)=>Ci.add(xM))}}),rt.postStyleProps.forEach((Cn,ua)=>{let Ci=l.get(ua);Ci||l.set(ua,Ci=new Set),Cn.forEach((v_,xM)=>Ci.add(xM))})});if(W.length){const z=[];W.forEach(Y=>{z.push(function kJ(n,e){return new E(3505,!1)}())}),j.forEach(Y=>Y.destroy()),this.reportError(z)}const ae=new Map,Ue=new Map;s.forEach(z=>{const Y=z.element;i.has(Y)&&(Ue.set(Y,Y),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,ae))}),r.forEach(z=>{const Y=z.element;this._getPreviousPlayers(Y,!1,z.namespaceId,z.triggerName,null).forEach(ke=>{ni(ae,Y,[]).push(ke),ke.destroy()})});const St=_.filter(z=>eL(z,c,l)),ai=new Map;XF(ai,this.driver,y,l,Pr).forEach(z=>{eL(z,c,l)&&St.push(z)});const _h=new Map;f.forEach((z,Y)=>{XF(_h,this.driver,new Set(z),c,"!")}),St.forEach(z=>{const Y=ai.get(z),Q=_h.get(z);ai.set(z,new Map([...Y?.entries()??[],...Q?.entries()??[]]))});const da=[],wz=[],Cz={};s.forEach(z=>{const{element:Y,player:Q,instruction:ke}=z;if(i.has(Y)){if(d.has(Y))return Q.onDestroy(()=>rr(Y,ke.toStyles)),Q.disabled=!0,Q.overrideTotalTime(ke.totalTime),void r.push(Q);let Qt=Cz;if(Ue.size>1){let ci=Y;const Qo=[];for(;ci=ci.parentNode;){const rt=Ue.get(ci);if(rt){Qt=rt;break}Qo.push(ci)}Qo.forEach(rt=>Ue.set(rt,Qt))}const vr=this._buildAnimation(Q.namespaceId,ke,ae,o,_h,ai);if(Q.setRealPlayer(vr),Qt===Cz)da.push(Q);else{const ci=this.playersByElement.get(Qt);ci&&ci.length&&(Q.parentPlayer=go(ci)),r.push(Q)}}else _s(Y,ke.fromStyles),Q.onDestroy(()=>rr(Y,ke.toStyles)),wz.push(Q),d.has(Y)&&r.push(Q)}),wz.forEach(z=>{const Y=o.get(z.element);if(Y&&Y.length){const Q=go(Y);z.setRealPlayer(Q)}}),r.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<_.length;z++){const Y=_[z],Q=Y[Pi];if(lc(Y,vp),Q&&Q.hasAnimation)continue;let ke=[];if(a.size){let vr=a.get(Y);vr&&vr.length&&ke.push(...vr);let ci=this.driver.query(Y,d0,!0);for(let Qo=0;Qo<ci.length;Qo++){let rt=a.get(ci[Qo]);rt&&rt.length&&ke.push(...rt)}}const Qt=ke.filter(vr=>!vr.destroyed);Qt.length?Tee(this,Y,Qt):this.processLeaveNode(Y)}return _.length=0,da.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const Y=this.players.indexOf(z);this.players.splice(Y,1)}),z.play()}),da}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==Dd;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,d=l!==o,u=ni(i,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),u.push(f)})}_s(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],d=new Set,u=new Set,h=t.timelines.map(p=>{const m=p.element;d.add(m);const _=m[Pi];if(_&&_.removedBeforeQueried)return new xd(p.duration,p.delay);const v=m!==c,y=function kee(n){const e=[];return JF(n,e),e}((i.get(m)||bee).map(ae=>ae.getRealPlayer())).filter(ae=>!!ae.element&&ae.element===m),C=o.get(m),R=s.get(m),j=MF(this._normalizer,p.keyframes,C,R),W=this._buildPlayer(p,j,y);if(p.subTimeline&&r&&u.add(m),v){const ae=new E0(e,a,m);ae.setRealPlayer(W),l.push(ae)}return W});l.forEach(p=>{ni(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Eee(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),d.forEach(p=>_i(p,FF));const f=go(h);return f.onDestroy(()=>{d.forEach(p=>lc(p,FF)),rr(c,t.toStyles)}),u.forEach(p=>{ni(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new xd(e.duration,e.delay)}}class E0{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new xd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>r0(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ni(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Sp(n){return n&&1===n.nodeType}function QF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function XF(n,e,t,i,r){const o=[];t.forEach(c=>o.push(QF(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(u=>{const h=e.computeStyle(l,u,r);d.set(u,h),(!h||0==h.length)&&(l[Pi]=xee,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>QF(c,o[a++])),s}function ZF(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function _i(n,e){n.classList?.add(e)}function lc(n,e){n.classList?.remove(e)}function Tee(n,e,t){go(t).onDone(()=>n.processLeaveNode(e))}function JF(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof TF?JF(i.players,e):e.push(i)}}function eL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Ap{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Cee(e,t,i),this._timelineEngine=new mee(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=p0(this._driver,o,c,[]);if(c.length)throw function _J(n,e){return new E(3404,!1)}();a=function uee(n,e,t){return new hee(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=SF(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=SF(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Aee=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&rr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rr(this._element,this._initialStyles),this._endStyles&&(rr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_s(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_s(this._element,this._endStyles),this._endStyles=null),rr(this._element,this._initialStyles),this._state=3)}}return n})();function D0(n){let e=null;return n.forEach((t,i)=>{(function Ree(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class tL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:jF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Oee{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return RF(e,t)}getParentElement(e){return a0(e)}query(e,t,i){return OF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(f=>f instanceof tL);(function jJ(n,e){return 0===n||0===e})(i,r)&&d.forEach(f=>{f.currentSnapshot.forEach((p,m)=>l.set(m,p))});let u=function LJ(n){return n.length?n[0]instanceof Map?n:n.map(e=>LF(e)):[]}(t).map(f=>_o(f));u=function UJ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,jF(n,a)))}}return e}(e,u,l);const h=function See(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=D0(e[0]),e.length>1&&(i=D0(e[e.length-1]))):e instanceof Map&&(t=D0(e)),t||i?new Aee(n,t,i):null}(e,u);return new tL(e,u,c,h)}}let Pee=(()=>{class n extends EF{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:di.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?DF(t):t;return nL(this._renderer,null,i,"register",[r]),new Nee(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(D(zl),D(Ne))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();class Nee extends YZ{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Fee(this._id,e,t||{},this._renderer)}}class Fee{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return nL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const iL="@.disabled";let Lee=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new rL("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,t,d.name,d)};return i.data.animation.forEach(c),new Vee(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(D(zl),D(Ap),D(he))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();class rL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==iL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Vee extends rL{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Bee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function jee(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Uee=(()=>{class n extends Ap{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(D(Ne),D(c0),D(v0),D(fo))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const oL=[{provide:EF,useClass:Pee},{provide:v0,useFactory:function Hee(){return new aee}},{provide:Ap,useClass:Uee},{provide:zl,useFactory:function zee(n,e,t){return new Lee(n,e,t)},deps:[Xb,Ap,he]}],I0=[{provide:c0,useFactory:()=>new Oee},{provide:Bl,useValue:"BrowserAnimations"},...oL],sL=[{provide:c0,useClass:PF},{provide:Bl,useValue:"NoopAnimations"},...oL];let $ee=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?sL:I0}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({providers:I0,imports:[vF]})}}return n})();const{isArray:Gee}=Array,{getPrototypeOf:qee,prototype:Wee,keys:Kee}=Object;function aL(n){if(1===n.length){const e=n[0];if(Gee(e))return{args:e,keys:null};if(function Yee(n){return n&&"object"==typeof n&&qee(n)===Wee}(e)){const t=Kee(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Qee}=Array;function T0(n){return We(e=>function Xee(n,e){return Qee(e)?n(...e):n(e)}(n,e))}function cL(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let dL=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(k(cs),k(Bt))}}static{this.\u0275dir=$({type:n})}}return n})(),vs=(()=>{class n extends dL{static{this.\u0275fac=function(){let t;return function(r){return(t||(t=nn(n)))(r||n)}}()}static{this.\u0275dir=$({type:n,features:[Te]})}}return n})();const yi=new A("NgValueAccessor"),Zee={provide:yi,useExisting:Re(()=>k0),multi:!0};let k0=(()=>{class n extends vs{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(r){return(t||(t=nn(n)))(r||n)}}()}static{this.\u0275dir=$({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&K("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Be([Zee]),Te]})}}return n})();const Jee={provide:yi,useExisting:Re(()=>Op),multi:!0},tte=new A("CompositionEventMode");let Op=(()=>{class n extends dL{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ete(){const n=po()?po().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(k(cs),k(Bt),k(tte,8))}}static{this.\u0275dir=$({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&K("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Be([Jee]),Te]})}}return n})();const Ut=new A("NgValidators"),vo=new A("NgAsyncValidators");function pL(n){return function yo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Pp(n){return null}function bL(n){return null!=n}function xL(n){return jf(n)?ma(n):n}function wL(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function CL(n,e){return e.map(t=>t(n))}function EL(n){return n.map(e=>function rte(n){return!n.validate}(e)?e:t=>e.validate(t))}function M0(n){return null!=n?function DL(n){if(!n)return null;const e=n.filter(bL);return 0==e.length?null:function(t){return wL(CL(t,e))}}(EL(n)):null}function IL(n){if(!n)return null;const e=n.filter(bL);return 0==e.length?null:function(t){return function lL(...n){const e=GM(n),{args:t,keys:i}=aL(n),r=new Ve(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let u=!1;Xt(t[d]).subscribe(Ct(o,h=>{u||(u=!0,l--),a[d]=h},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(i?cL(i,a):a),o.complete())}))}});return e?r.pipe(T0(e)):r}(CL(t,e).map(xL)).pipe(We(wL))}}function S0(n){return null!=n?IL(EL(n)):null}function TL(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function A0(n){return n?Array.isArray(n)?n:[n]:[]}function Np(n,e){return Array.isArray(n)?n.includes(e):n===e}function SL(n,e){const t=A0(e);return A0(n).forEach(r=>{Np(t,r)||t.push(r)}),t}function AL(n,e){return A0(e).filter(t=>!Np(n,t))}class RL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=S0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Rn extends RL{get formDirective(){return null}get path(){return null}}class bo extends RL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let PL=(()=>{class n extends OL{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(k(bo,2))}}static{this.\u0275dir=$({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ct("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Te]})}}return n})(),NL=(()=>{class n extends OL{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(k(Rn,10))}}static{this.\u0275dir=$({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&ct("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Te]})}}return n})();const Id="VALID",Lp="INVALID",dc="PENDING",Td="DISABLED";function P0(n){return(Vp(n)?n.validators:n)||null}function N0(n,e){return(Vp(e)?e.asyncValidators:n)||null}function Vp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class F0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Id}get invalid(){return this.status===Lp}get pending(){return this.status==dc}get disabled(){return this.status===Td}get enabled(){return this.status!==Td}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AL(e,this._rawAsyncValidators))}hasValidator(e){return Np(this._rawValidators,e)}hasAsyncValidator(e){return Np(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=dc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Td,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Id,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Id||this.status===dc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Td:Id}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=dc,this._hasOwnPendingAsyncValidator=!0;const t=xL(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?Td:this.errors?Lp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dc)?dc:this._anyControlsHaveStatus(Lp)?Lp:Id}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function cte(n){return Array.isArray(n)?M0(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lte(n){return Array.isArray(n)?S0(n):n||null}(this._rawAsyncValidators)}}class L0 extends F0{constructor(e,t,i){super(P0(t),N0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function VL(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new E(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function LL(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new E(1e3,"");if(!i[t])throw new E(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const bs=new A("CallSetDisabledState",{providedIn:"root",factory:()=>kd}),kd="always";function Md(n,e,t=kd){V0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function hte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BL(n,e)})}(n,e),function pte(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function fte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ute(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Up(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function V0(n,e){const t=function kL(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(TL(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function ML(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(TL(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Up(e._rawValidators,r),Up(e._rawAsyncValidators,r)}function BL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const vte={provide:Rn,useExisting:Re(()=>zp)},Sd=(()=>Promise.resolve())();let zp=(()=>{class n extends Rn{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new st,this.form=new L0({},M0(t),S0(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sd.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Md(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Sd.then(()=>{const i=this._findContainer(t.path),r=new L0({});(function jL(n,e){V0(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Sd.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function UL(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(k(Ut,10),k(vo,10),k(bs,8))}}static{this.\u0275dir=$({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&K("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([vte]),Te]})}}return n})();function HL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function zL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $L=class extends F0{constructor(e=null,t,i){super(P0(t),N0(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=zL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){zL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},wte={provide:bo,useExisting:Re(()=>H0)},WL=(()=>Promise.resolve())();let H0=(()=>{class n extends bo{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new $L,this._registered=!1,this.name="",this.update=new st,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function U0(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Op?t=o:function _te(n){return Object.getPrototypeOf(n.constructor)===vs}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function j0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Md(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){WL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Db(i);WL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Bp(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(k(Rn,9),k(Ut,10),k(vo,10),k(yi,10),k(vb,8),k(bs,8))}}static{this.\u0275dir=$({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Be([wte]),Te,$i]})}}return n})(),KL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=$({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),QL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({})}}return n})();const z0=new A("NgModelWithFormControlWarning");let xs=(()=>{class n{constructor(){this._validator=Pp}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Pp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=$({type:n,features:[$i]})}}return n})();const jte={provide:Ut,useExisting:Re(()=>$p),multi:!0};let $p=(()=>{class n extends xs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Db,this.createValidator=t=>pL}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(r){return(t||(t=nn(n)))(r||n)}}()}static{this.\u0275dir=$({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&pi("required",r._enabled?"":null)},inputs:{required:"required"},features:[Be([jte]),Te]})}}return n})(),f2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[QL]})}}return n})(),Wte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bs,useValue:t.callSetDisabledState??kd}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[f2]})}}return n})(),Kte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:z0,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:bs,useValue:t.callSetDisabledState??kd}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[f2]})}}return n})();function p2(n){return new Ve(e=>{Xt(n()).subscribe(e)})}const Yte=["addListener","removeListener"],Qte=["addEventListener","removeEventListener"],Xte=["on","off"];function Ad(n,e,t,i){if(ge(t)&&(i=t,t=void 0),i)return Ad(n,e,t).pipe(T0(i));const[r,o]=function ene(n){return ge(n.addEventListener)&&ge(n.removeEventListener)}(n)?Qte.map(s=>a=>n[s](e,a,t)):function Zte(n){return ge(n.addListener)&&ge(n.removeListener)}(n)?Yte.map(g2(n,e)):function Jte(n){return ge(n.on)&&ge(n.off)}(n)?Xte.map(g2(n,e)):[];if(!r&&S_(n))return pa(s=>Ad(s,e,t))(Xt(n));if(!r)throw new TypeError("Invalid event target");return new Ve(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function g2(n,e){return t=>i=>n[t](e,i)}function Rd(...n){return function tne(){return zM(1)}()(ma(n,dl(n)))}const xo=new Ve(cl);function Ni(n,e){return At((t,i)=>{let r=0;t.subscribe(Ct(i,o=>n.call(e,o,r++)&&i.next(o)))})}class ine extends Ve{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,MM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wt;const t=this.getSubject();e.add(this.source.subscribe(Ct(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wt.EMPTY)}return e}refCount(){return function nne(){return At((n,e)=>{let t=null;n._refCount++;const i=Ct(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}()(this)}}const one={connector:()=>new et};function _2(n,e=one){const{connector:t}=e;return At((i,r)=>{const o=t();Xt(n(function rne(n){return new Ve(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function Fi(n){return n<=0?()=>A_:At((e,t)=>{let i=0;e.subscribe(Ct(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function uc(n,e,t){const i=ge(n)||e||t?{next:n,error:e,complete:t}:n;return i?At((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Ct(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):fa}class cne extends wt{constructor(e,t){super()}schedule(e,t=0){return this}}const Gp={setInterval(n,e,...t){const{delegate:i}=Gp;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Gp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class qp extends cne{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Gp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Gp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ha(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const y2={now:()=>(y2.delegate||Date).now(),delegate:void 0};class Od{constructor(e,t=Od.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Od.now=y2.now;class Wp extends Od{constructor(e,t=Od.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Pd=new Wp(qp),lne=Pd;function v2(n,e){return e?t=>Rd(e.pipe(Fi(1),function dne(){return At((n,e)=>{n.subscribe(Ct(e,cl))})}()),t.pipe(v2(n))):pa((t,i)=>Xt(n(t,i)).pipe(Fi(1),function une(n){return We(()=>n)}(t)))}function b2(n=0,e,t=lne){let i=-1;return null!=e&&($M(e)?t=e:i=e),new Ve(r=>{let o=function hne(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const Nd="Service workers are disabled or not supported by this browser";class Kp{constructor(e){if(this.serviceWorker=e,e){const i=Ad(e,"controllerchange").pipe(We(()=>e.controller)),o=Rd(p2(()=>Ei(e.controller)),i);this.worker=o.pipe(Ni(d=>!!d)),this.registration=this.worker.pipe(ul(()=>e.getRegistration()));const l=Ad(e,"message").pipe(We(d=>d.data)).pipe(Ni(d=>d&&d.type)).pipe(function ane(n){return n?e=>_2(n)(e):e=>function sne(n,e){const t=ge(n)?n:()=>n;return ge(e)?_2(e,{connector:t}):i=>new ine(i,t)}(new et)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function pne(n){return p2(()=>function m2(n,e){const t=ge(n)?n:()=>n,i=r=>r.error(t());return new Ve(e?r=>e.schedule(i,0,r):i)}(new Error(n)))}(Nd)}postMessage(e,t){return this.worker.pipe(Fi(1),uc(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Ni(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Fi(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ni(t=>t.nonce===e),Fi(1),We(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Q0=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new et,!t.isEnabled)return this.messages=xo,this.notificationClicks=xo,void(this.subscription=xo);this.messages=this.sw.eventsOfType("PUSH").pipe(We(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(We(r=>r.data)),this.pushManager=this.sw.registration.pipe(We(r=>r.pushManager));const i=this.pushManager.pipe(ul(r=>r.getSubscription()));this.subscription=Ih(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Nd));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(ul(s=>s.subscribe(i)),Fi(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Fi(1),ul(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Nd))}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(i){return new(i||n)(D(Kp))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),x2=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=xo,this.available=xo,this.activated=xo,void(this.unrecoverable=xo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Ni(i=>"VERSION_READY"===i.type),We(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Nd));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Nd));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(i){return new(i||n)(D(Kp))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const w2=new A("NGSW_REGISTER_SCRIPT");function mne(n,e,t,i){return()=>{if(!zb(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=Ei(null);break;case"registerWithDelay":r=C2(+a[0]||0);break;case"registerWhenStable":r=a[0]?Ih(E2(n),C2(+a[0])):E2(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(he).runOutsideAngular(()=>r.pipe(Fi(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function C2(n){return Ei(null).pipe(function fne(n,e=Pd){const t=b2(n,e);return v2(()=>t)}(n))}function E2(n){return n.get(fo).isStable.pipe(Ni(t=>t))}function gne(n,e){return new Kp(zb(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class X0{}function _ne(n,e={}){return function Gy(n){return{\u0275providers:n}}([Q0,x2,{provide:w2,useValue:n},{provide:X0,useValue:e},{provide:Kp,useFactory:gne,deps:[X0,ki]},{provide:XP,useFactory:mne,deps:[on,w2,X0,ki],multi:!0}])}let yne=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[_ne(t,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({providers:[Q0,x2]})}}return n})();function D2(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){D2(o,i,r,s,a,"next",c)}function a(c){D2(o,i,r,s,a,"throw",c)}s(void 0)})}}const I2=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},J0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(I2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const l=r<n.length?t[n.charAt(r)]:64;++r;const u=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==u)throw new wne;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==u&&i.push(l<<6&192|u))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yp=function(n){return function(n){const e=I2(n);return J0.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Qp=function(n){try{return J0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Xp=()=>{try{return function Dne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Qp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},k2=()=>{var n;return null===(n=Xp())||void 0===n?void 0:n.config};class Zp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function gn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ex(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function wo(){try{return"object"==typeof indexedDB}catch{return!1}}function Fd(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function tx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,or.prototype.create)}}class or{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function Vne(n,e){return n.replace(Bne,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new vi(r,`${this.serviceName}: ${s} (${r}).`,i)}}const Bne=/\{\$([^}]+)}/g;function nx(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(S2(o)&&S2(s)){if(!nx(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function S2(n){return null!==n&&"object"==typeof n}function ix(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class Une{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function Hne(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=rx),void 0===r.error&&(r.error=rx),void 0===r.complete&&(r.complete=rx);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rx(){}const zne=1e3,$ne=2,Gne=144e5,qne=.5;function sx(n,e=zne,t=$ne){const i=e*Math.pow(t,n),r=Math.round(qne*i*(Math.random()-.5)*2);return Math.min(Gne,i+r)}function Dt(n){return n&&n._delegate?n._delegate:n}class _n{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ws="[DEFAULT]";class Kne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Zp;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qne(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ws?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Kne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ax=[];var Ee=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ee||{});const A2={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Zne=Ee.INFO,Jne={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},eie=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=Jne[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class hc{constructor(e){this.name=e,this._logLevel=Zne,this._logHandler=eie,this._userLogHandler=null,ax.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?A2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const tie=(n,e)=>e.some(t=>n instanceof t);let R2,O2;const P2=new WeakMap,cx=new WeakMap,N2=new WeakMap,lx=new WeakMap,dx=new WeakMap;let ux={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return cx.get(n);if("objectStoreNames"===e)return n.objectStoreNames||N2.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Co(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function cie(n){return"function"==typeof n?function aie(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function iie(){return O2||(O2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(hx(this),e),Co(P2.get(this))}:function(...e){return Co(n.apply(hx(this),e))}:function(e,...t){const i=n.call(hx(this),e,...t);return N2.set(i,e.sort?e.sort():[e]),Co(i)}}(n):(n instanceof IDBTransaction&&function oie(n){if(cx.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});cx.set(n,e)}(n),tie(n,function nie(){return R2||(R2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ux):n)}function Co(n){if(n instanceof IDBRequest)return function rie(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Co(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&P2.set(t,n)}).catch(()=>{}),dx.set(e,n),e}(n);if(lx.has(n))return lx.get(n);const e=cie(n);return e!==n&&(lx.set(n,e),dx.set(e,n)),e}const hx=n=>dx.get(n),die=["get","getKey","getAll","getAllKeys","count"],uie=["put","add","delete","clear"],fx=new Map;function F2(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(fx.get(e))return fx.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=uie.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!die.includes(t))return;const o=function(){var s=g(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return fx.set(e,o),o}!function sie(n){ux=n(ux)}(n=>({...n,get:(e,t,i)=>F2(e,t)||n.get(e,t,i),has:(e,t)=>!!F2(e,t)||n.has(e,t)}));class hie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function fie(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const px="@firebase/app",Cs=new hc("@firebase/app"),em="[DEFAULT]",Bie={[px]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Es=new Map,tm=new Map;function jie(n,e){try{n.container.addComponent(e)}catch(t){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function On(n){const e=n.name;if(tm.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,n);for(const t of Es.values())jie(t,n);return!0}function nm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Fr=new or("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hie{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const Ld="9.23.0";function V2(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw Fr.create("bad-app-name",{appName:String(r)});if(t||(t=k2()),!t)throw Fr.create("no-options");const o=Es.get(r);if(o){if(nx(t,o.options)&&nx(i,o.config))return o;throw Fr.create("duplicate-app",{appName:r})}const s=new Xne(r);for(const c of tm.values())s.addComponent(c);const a=new Hie(t,i,s);return Es.set(r,a),a}function B2(n=em){const e=Es.get(n);if(!e&&n===em&&k2())return V2();if(!e)throw Fr.create("no-app",{appName:n});return e}function j2(){return Array.from(Es.values())}function _t(n,e,t){var i;let r=null!==(i=Bie[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Cs.warn(a.join(" "))}On(new _n(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zie="firebase-heartbeat-database",$ie=1,Vd="firebase-heartbeat-store";let gx=null;function U2(){return gx||(gx=function lie(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Co(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Co(s.result),c.oldVersion,c.newVersion,Co(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(zie,$ie,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Vd)}}).catch(n=>{throw Fr.create("idb-open",{originalErrorMessage:n.message})})),gx}function _x(){return(_x=g(function*(n){try{return yield(yield U2()).transaction(Vd).objectStore(Vd).get(z2(n))}catch(e){if(e instanceof vi)Cs.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(t.message)}}})).apply(this,arguments)}function H2(n,e){return yx.apply(this,arguments)}function yx(){return(yx=g(function*(n,e){try{const i=(yield U2()).transaction(Vd,"readwrite");yield i.objectStore(Vd).put(e,z2(n)),yield i.done}catch(t){if(t instanceof vi)Cs.warn(t.message);else{const i=Fr.create("idb-set",{originalErrorMessage:t?.message});Cs.warn(i.message)}}})).apply(this,arguments)}function z2(n){return`${n.name}!${n.options.appId}`}class Kie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qie(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return g(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=$2(),{heartbeatsToSend:i,unsentEntries:r}=function Yie(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),G2(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),G2(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Yp(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function $2(){return(new Date).toISOString().substring(0,10)}class Qie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!wo()&&Fd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Gie(n){return _x.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return H2(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return H2(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function G2(n){return Yp(JSON.stringify({version:2,heartbeats:n})).length}!function Xie(n){On(new _n("platform-logger",e=>new hie(e),"PRIVATE")),On(new _n("heartbeat",e=>new Kie(e),"PRIVATE")),_t(px,"0.9.13",n),_t(px,"0.9.13","esm2017"),_t("fire-js","")}(""),_t("firebase","9.23.0","app");const ere=(n,e)=>e.some(t=>n instanceof t);let q2,W2;const K2=new WeakMap,vx=new WeakMap,Y2=new WeakMap,bx=new WeakMap,xx=new WeakMap;let wx={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return vx.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Y2.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Eo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function are(n){return"function"==typeof n?function sre(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nre(){return W2||(W2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Cx(this),e),Eo(K2.get(this))}:function(...e){return Eo(n.apply(Cx(this),e))}:function(e,...t){const i=n.call(Cx(this),e,...t);return Y2.set(i,e.sort?e.sort():[e]),Eo(i)}}(n):(n instanceof IDBTransaction&&function rre(n){if(vx.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});vx.set(n,e)}(n),ere(n,function tre(){return q2||(q2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,wx):n)}function Eo(n){if(n instanceof IDBRequest)return function ire(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Eo(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&K2.set(t,n)}).catch(()=>{}),xx.set(e,n),e}(n);if(bx.has(n))return bx.get(n);const e=are(n);return e!==n&&(bx.set(n,e),xx.set(e,n)),e}const Cx=n=>xx.get(n),lre=["get","getKey","getAll","getAllKeys","count"],dre=["put","add","delete","clear"],Ex=new Map;function Q2(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ex.get(e))return Ex.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=dre.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!lre.includes(t))return;const o=function(){var s=g(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Ex.set(e,o),o}!function ore(n){wx=n(wx)}(n=>({...n,get:(e,t,i)=>Q2(e,t)||n.get(e,t,i),has:(e,t)=>!!Q2(e,t)||n.has(e,t)}));const X2="@firebase/installations",Dx="0.6.4",Z2=1e4,J2=`w:${Dx}`,eV="FIS_v2",ure="https://firebaseinstallations.googleapis.com/v1",hre=36e5,Lr=new or("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tV(n){return n instanceof vi&&n.code.includes("request-failed")}function Ix({projectId:n}){return`${ure}/projects/${n}/installations`}function nV(n){return{token:n.token,requestStatus:2,expiresIn:gre(n.expiresIn),creationTime:Date.now()}}function Tx(n,e){return kx.apply(this,arguments)}function kx(){return(kx=g(function*(n,e){const i=(yield e.json()).error;return Lr.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function iV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Mx(n){return Sx.apply(this,arguments)}function Sx(){return(Sx=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function gre(n){return Number(n.replace("s","000"))}function Ax(){return(Ax=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=Ix(n),r=iV(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:eV,appId:n.appId,sdkVersion:J2})},c=yield Mx(()=>fetch(i,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:nV(l.authToken)}}throw yield Tx("Create Installation",c)})).apply(this,arguments)}function oV(n){return new Promise(e=>{setTimeout(e,n)})}const bre=/^[cdef][\w-]{21}$/,Rx="";function xre(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function wre(n){return function vre(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return bre.test(t)?t:Rx}catch{return Rx}}function fc(n){return`${n.appName}!${n.appId}`}const pc=new Map;function sV(n,e){const t=fc(n);aV(t,e),function Dre(n,e){const t=function cV(){return!Ds&&"BroadcastChannel"in self&&(Ds=new BroadcastChannel("[Firebase] FID Change"),Ds.onmessage=n=>{aV(n.data.key,n.data.fid)}),Ds}();t&&t.postMessage({key:n,fid:e}),function lV(){0===pc.size&&Ds&&(Ds.close(),Ds=null)}()}(t,e)}function aV(n,e){const t=pc.get(n);if(t)for(const i of t)i(e)}let Ds=null;const Ire="firebase-installations-database",Tre=1,Is="firebase-installations-store";let Ox=null;function Px(){return Ox||(Ox=function cre(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Eo(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Eo(s.result),c.oldVersion,c.newVersion,Eo(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(Ire,Tre,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Is)}})),Ox}function im(n,e){return Nx.apply(this,arguments)}function Nx(){return(Nx=g(function*(n,e){const t=fc(n),r=(yield Px()).transaction(Is,"readwrite"),o=r.objectStore(Is),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&sV(n,e.fid),e})).apply(this,arguments)}function Fx(n){return Lx.apply(this,arguments)}function Lx(){return(Lx=g(function*(n){const e=fc(n),i=(yield Px()).transaction(Is,"readwrite");yield i.objectStore(Is).delete(e),yield i.done})).apply(this,arguments)}function Bd(n,e){return Vx.apply(this,arguments)}function Vx(){return(Vx=g(function*(n,e){const t=fc(n),r=(yield Px()).transaction(Is,"readwrite"),o=r.objectStore(Is),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&sV(n,a.fid),a})).apply(this,arguments)}function Bx(n){return jx.apply(this,arguments)}function jx(){return jx=g(function*(n){let e;const t=yield Bd(n.appConfig,i=>{const r=function kre(n){return uV(n||{fid:xre(),registrationStatus:0})}(i),o=function Mre(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Lr.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function Sre(n,e){return Ux.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Are(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===Rx?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),jx.apply(this,arguments)}function Ux(){return Ux=g(function*(n,e){try{const t=yield function yre(n,e){return Ax.apply(this,arguments)}(n,e);return im(n.appConfig,t)}catch(t){throw tV(t)&&409===t.customData.serverCode?yield Fx(n.appConfig):yield im(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),Ux.apply(this,arguments)}function Are(n){return Hx.apply(this,arguments)}function Hx(){return(Hx=g(function*(n){let e=yield dV(n.appConfig);for(;1===e.registrationStatus;)yield oV(100),e=yield dV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Bx(n);return i||t}return e})).apply(this,arguments)}function dV(n){return Bd(n,e=>{if(!e)throw Lr.create("installation-not-found");return uV(e)})}function uV(n){return function Rre(n){return 1===n.registrationStatus&&n.registrationTime+Z2<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function zx(){return(zx=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function Pre(n,{fid:e}){return`${Ix(n)}/${e}/authTokens:generate`}(n,t),r=function rV(n,{refreshToken:e}){const t=iV(n);return t.append("Authorization",function _re(n){return`${eV} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:J2,appId:n.appId}})},c=yield Mx(()=>fetch(i,a));if(c.ok)return nV(yield c.json());throw yield Tx("Generate Auth Token",c)})).apply(this,arguments)}function $x(n){return Gx.apply(this,arguments)}function Gx(){return Gx=g(function*(n,e=!1){let t;const i=yield Bd(n.appConfig,o=>{if(!fV(o))throw Lr.create("not-registered");const s=o.authToken;if(!e&&function Lre(n){return 2===n.requestStatus&&!function Vre(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+hre}(n)}(s))return o;if(1===s.requestStatus)return t=function Nre(n,e){return qx.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Lr.create("app-offline");const a=function Bre(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function Fre(n,e){return Wx.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),Gx.apply(this,arguments)}function qx(){return(qx=g(function*(n,e){let t=yield hV(n.appConfig);for(;1===t.authToken.requestStatus;)yield oV(100),t=yield hV(n.appConfig);const i=t.authToken;return 0===i.requestStatus?$x(n,e):i})).apply(this,arguments)}function hV(n){return Bd(n,e=>{if(!fV(e))throw Lr.create("not-registered");return function jre(n){return 1===n.requestStatus&&n.requestTime+Z2<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Wx(){return Wx=g(function*(n,e){try{const t=yield function Ore(n,e){return zx.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield im(n.appConfig,i),t}catch(t){if(!tV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield im(n.appConfig,i)}else yield Fx(n.appConfig);throw t}}),Wx.apply(this,arguments)}function fV(n){return void 0!==n&&2===n.registrationStatus}function Kx(){return(Kx=g(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Bx(e);return i?i.catch(console.error):$x(e).catch(console.error),t.fid})).apply(this,arguments)}function Yx(){return Yx=g(function*(n,e=!1){const t=n;return yield function zre(n){return Qx.apply(this,arguments)}(t),(yield $x(t,e)).token}),Yx.apply(this,arguments)}function Qx(){return(Qx=g(function*(n){const{registrationPromise:e}=yield Bx(n);e&&(yield e)})).apply(this,arguments)}function Jx(n){return Lr.create("missing-app-config-values",{valueName:n})}const pV="installations",Kre=n=>{const e=n.getProvider("app").getImmediate(),t=function qre(n){if(!n||!n.options)throw Jx("App Configuration");if(!n.name)throw Jx("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Jx(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:nm(e,"heartbeat"),_delete:()=>Promise.resolve()}},Yre=n=>{const t=nm(n.getProvider("app").getImmediate(),pV).getImmediate();return{getId:()=>function Ure(n){return Kx.apply(this,arguments)}(t),getToken:r=>function Hre(n){return Yx.apply(this,arguments)}(t,r)}};(function Qre(){On(new _n(pV,Kre,"PUBLIC")),On(new _n("installations-internal",Yre,"PRIVATE"))})(),_t(X2,Dx),_t(X2,Dx,"esm2017");const ew="@firebase/remote-config",$n=new or("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aoe{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return g(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function coe(n=navigator){return n.languages&&n.languages[0]||n.language}class loe{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return g(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:coe()},l={method:"POST",headers:a,body:JSON.stringify(c)},d=fetch(s,l),u=new Promise((v,y)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",y(C)})});let h;try{yield Promise.race([d,u]),h=yield d}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),$n.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw $n.create("fetch-client-parse",{originalErrorMessage:y?.message})}m=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw $n.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class hoe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,t){var i=this;return g(function*(r,{throttleEndTimeMillis:o,backoffCount:s}){yield function doe(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r.signal,o);try{const a=yield i.client.fetch(r);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function uoe(n){if(!(n instanceof vi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+sx(s),backoffCount:s+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(r,c)}}).apply(this,arguments)}}class moe{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function om(n,e){const t=n.target.error||void 0;return $n.create(e,{originalErrorMessage:t&&t?.message})}const Ts="app_namespace_store";class voe{constructor(e,t,i,r=function yoe(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(om(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ts,{keyPath:"compositeKey"})}}catch(t){e($n.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([Ts],"readonly").objectStore(Ts),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=d=>{o(om(d,"storage-get"))},l.onsuccess=d=>{const u=d.target.result;r(u?u.value:void 0)}}catch(l){o($n.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var i=this;return g(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const c=r.transaction([Ts],"readwrite").objectStore(Ts),l=i.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:t});d.onerror=u=>{s(om(u,"storage-set"))},d.onsuccess=()=>{o()}}catch(d){s($n.create("storage-set",{originalErrorMessage:d?.message}))}})})()}delete(e){var t=this;return g(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([Ts],"readwrite").objectStore(Ts),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=d=>{o(om(d,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){o($n.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class boe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function woe(){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(){if(!wo())return!1;try{return yield Fd()}catch{return!1}})).apply(this,arguments)}!function xoe(){On(new _n("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!wo())throw $n.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw $n.create("registration-project-id");if(!s)throw $n.create("registration-api-key");if(!a)throw $n.create("registration-app-id");const c=new voe(a,i.name,t=t||"firebase"),l=new boe(c),d=new hc(ew);d.logLevel=Ee.ERROR;const u=new loe(r,Ld,t,o,s,a),h=new hoe(u,c),f=new aoe(h,c,l,d),p=new moe(i,f,l,c,d);return function roe(n){const e=Dt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),_t(ew,"0.4.4"),_t(ew,"0.4.4","esm2017")}();const Coe=(n,e)=>e.some(t=>n instanceof t);let yV,vV;const bV=new WeakMap,sw=new WeakMap,xV=new WeakMap,aw=new WeakMap,cw=new WeakMap;let lw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return sw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||xV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vr(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Soe(n){return"function"==typeof n?function Moe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Doe(){return vV||(vV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(dw(this),e),Vr(bV.get(this))}:function(...e){return Vr(n.apply(dw(this),e))}:function(e,...t){const i=n.call(dw(this),e,...t);return xV.set(i,e.sort?e.sort():[e]),Vr(i)}}(n):(n instanceof IDBTransaction&&function Toe(n){if(sw.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});sw.set(n,e)}(n),Coe(n,function Eoe(){return yV||(yV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,lw):n)}function Vr(n){if(n instanceof IDBRequest)return function Ioe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Vr(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bV.set(t,n)}).catch(()=>{}),cw.set(e,n),e}(n);if(aw.has(n))return aw.get(n);const e=Soe(n);return e!==n&&(aw.set(n,e),cw.set(e,n)),e}const dw=n=>cw.get(n);function wV(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Vr(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Vr(s.result),c.oldVersion,c.newVersion,Vr(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function uw(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Vr(t).then(()=>{})}const Aoe=["get","getKey","getAll","getAllKeys","count"],Roe=["put","add","delete","clear"],hw=new Map;function CV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(hw.get(e))return hw.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Roe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Aoe.includes(t))return;const o=function(){var s=g(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return hw.set(e,o),o}!function koe(n){lw=n(lw)}(n=>({...n,get:(e,t,i)=>CV(e,t)||n.get(e,t,i),has:(e,t)=>!!CV(e,t)||n.has(e,t)}));const Ooe="/firebase-messaging-sw.js",Poe="/firebase-cloud-messaging-push-scope",EV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Noe="https://fcmregistrations.googleapis.com/v1",DV="google.c.a.c_id",Foe="google.c.a.c_l",Loe="google.c.a.ts";var sm=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(sm||{});function Br(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function joe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const fw="fcm_token_details_db",Uoe=5,IV="fcm_token_object_Store";function pw(){return pw=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(fw))return null;let e=null;return(yield wV(fw,Uoe,{upgrade:(i=g(function*(r,o,s,a){var c;if(o<2||!r.objectStoreNames.contains(IV))return;const l=a.objectStore(IV),d=yield l.index("fcmSenderId").get(n);if(yield l.clear(),d)if(2===o){const u=d;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(c=u.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Br(u.vapidKey)}}}else if(3===o){const u=d;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Br(u.auth),p256dh:Br(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Br(u.vapidKey)}}}else if(4===o){const u=d;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Br(u.auth),p256dh:Br(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Br(u.vapidKey)}}}}),function(o,s,a,c){return i.apply(this,arguments)})})).close(),yield uw(fw),yield uw("fcm_vapid_details_db"),yield uw("undefined"),function zoe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),pw.apply(this,arguments)}const $oe="firebase-messaging-database",Goe=1,ks="firebase-messaging-store";let mw=null;function gw(){return mw||(mw=wV($oe,Goe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ks)}})),mw}function TV(n){return _w.apply(this,arguments)}function _w(){return _w=g(function*(n){const e=xw(n),i=yield(yield gw()).transaction(ks).objectStore(ks).get(e);if(i)return i;{const r=yield function Hoe(n){return pw.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield yw(n,r),r}}),_w.apply(this,arguments)}function yw(n,e){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(n,e){const t=xw(n),r=(yield gw()).transaction(ks,"readwrite");return yield r.objectStore(ks).put(e,t),yield r.done,e})).apply(this,arguments)}function bw(){return(bw=g(function*(n){const e=xw(n),i=(yield gw()).transaction(ks,"readwrite");yield i.objectStore(ks).delete(e),yield i.done})).apply(this,arguments)}function xw({appConfig:n}){return n.appId}const sn=new or("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Koe(n,e){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(n,e){const t=yield Iw(n),i=MV(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(Dw(n.appConfig),r)).json()}catch(s){throw sn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw sn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw sn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Cw(){return(Cw=g(function*(n,e){const t=yield Iw(n),i=MV(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${Dw(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw sn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw sn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw sn.create("token-update-no-token");return o.token})).apply(this,arguments)}function kV(n,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=g(function*(n,e){const i={method:"DELETE",headers:yield Iw(n)};try{const o=yield(yield fetch(`${Dw(n.appConfig)}/${e}`,i)).json();if(o.error)throw sn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw sn.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function Dw({projectId:n}){return`${Noe}/projects/${n}/registrations`}function Iw(n){return Tw.apply(this,arguments)}function Tw(){return(Tw=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function MV({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==EV&&(r.web.applicationPubKey=i),r}const Qoe=6048e5;function kw(){return kw=g(function*(n){const e=yield function Joe(n,e){return Rw.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Br(e.getKey("auth")),p256dh:Br(e.getKey("p256dh"))},i=yield TV(n.firebaseDependencies);if(i){if(function ese(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+Qoe?function Zoe(n,e){return Sw.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield kV(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return AV(n.firebaseDependencies,t)}return AV(n.firebaseDependencies,t)}),kw.apply(this,arguments)}function Mw(){return Mw=g(function*(n){const e=yield TV(n.firebaseDependencies);e&&(yield kV(n.firebaseDependencies,e.token),yield function qoe(n){return bw.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Mw.apply(this,arguments)}function Sw(){return Sw=g(function*(n,e){try{const t=yield function Yoe(n,e){return Cw.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield yw(n.firebaseDependencies,i),t}catch(t){throw yield function SV(n){return Mw.apply(this,arguments)}(n),t}}),Sw.apply(this,arguments)}function AV(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=g(function*(n,e){const i={token:yield Koe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield yw(n,i),i.token})).apply(this,arguments)}function Rw(){return(Rw=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:joe(e)})})).apply(this,arguments)}function RV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function tse(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function nse(n,e){e.data&&(n.data=e.data)}(e,n),function ise(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function OV(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function Ow(n){return sn.create("missing-app-config-values",{valueName:n})}OV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),OV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sse{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function ose(n){if(!n||!n.options)throw Ow("App Configuration Object");if(!n.name)throw Ow("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw Ow(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function Pw(){return(Pw=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Ooe,{scope:Poe}),n.swRegistration.update().catch(()=>{})}catch(e){throw sn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Nw(){return(Nw=g(function*(n,e){if(!e&&!n.swRegistration&&(yield function PV(n){return Pw.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Fw(){return(Fw=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=EV)})).apply(this,arguments)}function Lw(){return Lw=g(function*(n,e){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield function cse(n,e){return Fw.apply(this,arguments)}(n,e?.vapidKey),yield function ase(n,e){return Nw.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Xoe(n){return kw.apply(this,arguments)}(n)}),Lw.apply(this,arguments)}function Vw(){return(Vw=g(function*(n,e,t){const i=function dse(n){switch(n){case sm.NOTIFICATION_CLICKED:return"notification_open";case sm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[DV],message_name:t[Foe],message_time:t[Loe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bw(){return Bw=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===sm.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(RV(t)):n.onMessageHandler.next(RV(t)));const i=t.data;(function rse(n){return"object"==typeof n&&!!n&&DV in n})(i)&&"1"===i["google.c.a.e"]&&(yield function lse(n,e,t){return Vw.apply(this,arguments)}(n,t.messageType,i))}),Bw.apply(this,arguments)}const FV="@firebase/messaging",hse=n=>{const e=new sse(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function use(n,e){return Bw.apply(this,arguments)}(e,t)),e},fse=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function NV(n,e){return Lw.apply(this,arguments)}(e,i)}};function VV(){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(){try{yield Fd()}catch{return!1}return typeof window<"u"&&wo()&&tx()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pse(){On(new _n("messaging",hse,"PUBLIC")),On(new _n("messaging-internal",fse,"PRIVATE")),_t(FV,"0.12.4"),_t(FV,"0.12.4","esm2017")}();const am="analytics",_se="firebase_id",yse="origin",vse=6e4,bse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zw="https://www.googletagmanager.com/gtag/js",Ht=new hc("@firebase/analytics"),Pn=new or("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function wse(n){if(!n.startsWith(zw)){const e=Pn.create("invalid-gtag-resource",{gtagURL:n});return Ht.warn(e.message),""}return n}function BV(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function $w(){return($w=g(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const c=(yield BV(t)).find(l=>l.measurementId===r);c&&(yield e[c.appId])}}catch(a){Ht.error(a)}n("config",r,o)})).apply(this,arguments)}function Gw(){return(Gw=g(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield BV(t);for(const c of s){const l=a.find(u=>u.measurementId===c),d=l&&e[l.appId];if(!d){o=[];break}o.push(d)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){Ht.error(o)}})).apply(this,arguments)}const Ase=30,jV=new class Ose{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Pse(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function qw(){return(qw=g(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Pse(i)},o=bse.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function Ww(){return(Ww=g(function*(n,e=jV,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw Pn.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Pn.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Bse;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:vse),UV({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function UV(n,e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=jV){var o;const{appId:s,measurementId:a}=n;try{yield function Lse(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(c){if(a)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Nse(n){return qw.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function Vse(n){if(!(n instanceof vi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(r.deleteThrottleMetadata(s),a)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const d=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?sx(t,r.intervalMillis,Ase):sx(t,r.intervalMillis),u={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return r.setThrottleMetadata(s,u),Ht.debug(`Calling attemptFetch again in ${d} millis`),UV(n,u,i,r)}}),Kw.apply(this,arguments)}class Bse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Yw,nC;function Qw(){return(Qw=g(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function iC(){return(iC=g(function*(){if(!wo())return Ht.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Fd()}catch(n){return Ht.warn(Pn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function rC(){return rC=g(function*(n,e,t,i,r,o,s){var a;const c=function Fse(n){return Ww.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ht.error(f)),e.push(c);const l=function qse(){return iC.apply(this,arguments)}().then(f=>{if(f)return i.getId()}),[d,u]=yield Promise.all([c,l]);(function Sse(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(zw)&&t.src.includes(n))return t;return null})(o)||function Ese(n,e){const t=function Cse(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:wse}),i=document.createElement("script"),r=`${zw}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,d.measurementId),nC&&(r("consent","default",nC),function HV(n){nC=n}(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[yse]="firebase",h.update=!0,null!=u&&(h[_se]=u),r("config",d.measurementId,h),Yw&&(r("set",Yw),function zV(n){Yw=n}(void 0)),d.measurementId}),rC.apply(this,arguments)}class Kse{constructor(e){this.app=e}_delete(){return delete sr[this.app.options.appId],Promise.resolve()}}let sr={},$V=[];const GV={};let WV,ar,cm="dataLayer",oC=!1;function Qse(n,e,t){!function Yse(){const n=[];if(ex()&&n.push("This is a browser extension environment."),tx()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Pn.create("invalid-analytics-context",{errorInfo:e});Ht.warn(t.message)}}();const i=n.options.appId;if(!i)throw Pn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Pn.create("no-api-key");Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=sr[i])throw Pn.create("already-exists",{id:i});if(!oC){!function Dse(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(cm);const{wrappedGtag:o,gtagCore:s}=function Mse(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function kse(n,e,t,i){function o(){return o=g(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function Tse(n,e,t,i,r){return Gw.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function Ise(n,e,t,i,r,o){return $w.apply(this,arguments)}(n,e,t,i,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,d]=a;n("get",c,l,d)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){Ht.error(c)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(sr,$V,GV,cm,"gtag");ar=o,WV=s,oC=!0}return sr[i]=function Wse(n,e,t,i,r,o,s){return rC.apply(this,arguments)}(n,$V,GV,e,WV,cm,t),new Kse(n)}function Zse(){return sC.apply(this,arguments)}function sC(){return(sC=g(function*(){if(ex()||!tx()||!wo())return!1;try{return yield Fd()}catch{return!1}})).apply(this,arguments)}const KV="@firebase/analytics";!function eae(){On(new _n(am,(e,{options:t})=>Qse(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),On(new _n("analytics-internal",function n(e){try{const t=e.getProvider(am).getImmediate();return{logEvent:(i,r,o)=>function Jse(n,e,t,i){n=Dt(n),function jse(n,e,t,i,r){return Qw.apply(this,arguments)}(ar,sr[n.app.options.appId],e,t,i).catch(r=>Ht.error(r))}(t,i,r,o)}}catch(t){throw Pn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),_t(KV,"0.10.0"),_t(KV,"0.10.0","esm2017")}();const iae=new class nae extends Wp{}(class tae extends qp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),cC=new ls("7.6.1"),lC="__angularfire_symbol__analyticsIsSupportedValue",dC="__angularfire_symbol__analyticsIsSupported",uC="__angularfire_symbol__remoteConfigIsSupportedValue",hC="__angularfire_symbol__remoteConfigIsSupported",fC="__angularfire_symbol__messagingIsSupportedValue",pC="__angularfire_symbol__messagingIsSupported";globalThis[dC]||(globalThis[dC]=Zse().then(n=>globalThis[lC]=n).catch(()=>globalThis[lC]=!1)),globalThis[pC]||(globalThis[pC]=VV().then(n=>globalThis[fC]=n).catch(()=>globalThis[fC]=!1)),globalThis[hC]||(globalThis[hC]=woe().then(n=>globalThis[uC]=n).catch(()=>globalThis[uC]=!1));const _C=(n,e)=>{const t=e?[e]:j2(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function mc(){}class QV{constructor(e,t=iae){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class rae{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mc,{},mc,mc)),t.pipe(uc({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let XV=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new QV(Zone.current)),this.insideAngular=t.run(()=>new QV(Zone.current,Pd)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(D(he))},n.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ms(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ss(n){return Ms().ngZone.run(()=>n())}function sae(n){return Ms(),function aae(n){return function(t){return(t=t.lift(new rae(n.ngZone))).pipe(Dh(n.outsideAngular),Eh(n.insideAngular))}}(Ms())(n)}const cae=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ss(()=>n.apply(void 0,i))},bi=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mc,{},mc,mc)))),i[o]=cae(i[o],t));const r=function oae(n){return Ms().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Ve){const o=Ms();return r.pipe(Dh(o.outsideAngular),Eh(o.insideAngular))}return Ss(()=>r)}return r instanceof Ve?r.pipe(sae):r instanceof Promise?Ss(()=>new Promise((o,s)=>r.then(a=>Ss(()=>o(a)),a=>Ss(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Ss(()=>r)};class gc{constructor(e){return e}}class ZV{constructor(){return j2()}}const yC=new A("angularfire2._apps"),dae={provide:gc,useFactory:function lae(n){return n&&1===n.length?n[0]:new gc(B2())},deps:[[new Pt,yC]]},uae={provide:ZV,deps:[[new Pt,yC]]};function hae(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new gc(i)}}let fae=(()=>{class n{constructor(t){_t("angularfire",cC.full,"core"),_t("angularfire",cC.full,"app"),_t("angular",k1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(D(ki))},n.\u0275mod=ye({type:n}),n.\u0275inj=fe({providers:[dae,uae]}),n})();function pae(n,...e){return{ngModule:fae,providers:[{provide:yC,useFactory:hae(n),multi:!0,deps:[he,on,XV,...e]}]}}const mae=bi(V2,!0);const gae=function JV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},eB=new or("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lm=new hc("@firebase/auth");function dm(n,...e){lm.logLevel<=Ee.ERROR&&lm.error(`Auth (${Ld}): ${n}`,...e)}function Gn(n,...e){throw vC(n,...e)}function cr(n,...e){return vC(n,...e)}function vC(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return eB.create(n,...e)}function O(n,e,...t){if(!n)throw vC(e,...t)}function lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dm(e),new Error(e)}function Do(n,e){n||lr(e)}function nB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ud{constructor(e,t){this.shortDelay=e,this.longDelay=t,Do(t>e,"Short delay should be less than long delay!"),this.isMobile=function One(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}()||function Nne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function yae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function bC(){return"http:"===nB()||"https:"===nB()}()||ex()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class iB{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xae=new Ud(3e4,6e4);function dt(n,e,t,i){return wC.apply(this,arguments)}function wC(){return(wC=g(function*(n,e,t,i,r={}){return rB(n,r,g(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=ix(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),iB.fetch()(oB(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function rB(n,e,t){return CC.apply(this,arguments)}function CC(){return(CC=g(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bae),e);try{const r=new wae(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Hd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Hd(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Hd(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw Hd(n,"user-disabled",s);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function tB(n,e,t){const i=Object.assign(Object.assign({},gae()),{[e]:t});return new or("auth","Firebase",i).create(e,{appName:n.name})}(n,d,l);Gn(n,d)}}catch(r){if(r instanceof vi)throw r;Gn(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function oB(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?function xC(n,e){Do(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,r):`${n.config.apiScheme}://${r}`}class wae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(cr(this.auth,"network-request-failed")),xae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=cr(n,e,i);return r.customData._tokenResponse=t,r}function DC(){return(DC=g(function*(n,e){return dt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function TC(){return(TC=g(function*(n,e){return dt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function zd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kC(){return(kC=g(function*(n,e=!1){const t=Dt(n),i=yield t.getIdToken(e),r=um(i);O(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:zd(MC(r.auth_time)),issuedAtTime:zd(MC(r.iat)),expirationTime:zd(MC(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function MC(n){return 1e3*Number(n)}function um(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return dm("JWT malformed, contained fewer than 3 sections"),null;try{const r=Qp(t);return r?JSON.parse(r):(dm("Failed to decode base64 JWT payload"),null)}catch(r){return dm("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ur(n,e){return SC.apply(this,arguments)}function SC(){return(SC=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof vi&&function kae({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Mae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),i)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class sB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zd(this.lastLoginAt),this.creationTime=zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $d(n){return AC.apply(this,arguments)}function AC(){return AC=g(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield Ur(n,function Dae(n,e){return TC.apply(this,arguments)}(t,{idToken:i}));O(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Rae(n){return n.map(e=>{var{providerId:t}=e,i=Ch(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function Aae(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new sB(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,u)}),AC.apply(this,arguments)}function RC(){return(RC=g(function*(n){const e=Dt(n);yield $d(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function OC(){return(OC=g(function*(n,e){const t=yield rB(n,{},g(function*(){const i=ix({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=oB(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iB.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Tae(n){const e=um(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e){var t=this;return g(function*(i,r=!1){return O(!t.accessToken||t.refreshToken,i,"user-token-expired"),r||!t.accessToken||t.isExpired?t.refreshToken?(yield t.refresh(i,t.refreshToken),t.accessToken):null:t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return g(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Oae(n,e){return OC.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Gd;return i&&(O("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(O("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(O("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gd,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Io(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Ch(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sB(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const i=yield Ur(t,t.stsTokenManager.getToken(t.auth,e));return O(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Iae(n){return kC.apply(this,arguments)}(this,e)}reload(){return function Sae(n){return RC.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return g(function*(i,r=!1){let o=!1;i.idToken&&i.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(i),o=!0),r&&(yield $d(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield Ur(e,function Cae(n,e){return DC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,d;const u=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:C,emailVerified:R,isAnonymous:j,providerData:W,stsTokenManager:ae}=t;O(C&&ae,e,"internal-error");const Ue=Gd.fromJSON(this.name,ae);O("string"==typeof C,e,"internal-error"),Io(u,e.name),Io(h,e.name),O("boolean"==typeof R,e,"internal-error"),O("boolean"==typeof j,e,"internal-error"),Io(f,e.name),Io(p,e.name),Io(m,e.name),Io(_,e.name),Io(v,e.name),Io(y,e.name);const St=new As({uid:C,auth:e,email:h,emailVerified:R,displayName:u,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ue,createdAt:v,lastLoginAt:y});return W&&Array.isArray(W)&&(St.providerData=W.map(ai=>Object.assign({},ai))),_&&(St._redirectEventId=_),St}static _fromIdTokenResponse(e,t){return g(function*(i,r,o=!1){const s=new Gd;s.updateFromServerResponse(r);const a=new As({uid:r.localId,auth:i,stsTokenManager:s,isAnonymous:o});return yield $d(a),a}).apply(this,arguments)}}const aB=new Map;function Hr(n){Do(n instanceof Function,"Expected a class definition");let e=aB.get(n);return e?(Do(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aB.set(n,e),e)}const cB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,i){var r=this;return g(function*(){r.storage[t]=i})()}_get(t){var i=this;return g(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return g(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function hm(n,e,t){return`firebase:${n}:${e}:${t}`}class yc{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=hm(this.userKey,r.apiKey,o),this.fullPersistenceKey=hm("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?As._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return g(function*(i,r,o="authUser"){if(!r.length)return new yc(Hr(cB),i,o);const s=(yield Promise.all(r.map(function(){var u=g(function*(h){if(yield h._isAvailable())return h});return function(h){return u.apply(this,arguments)}}()))).filter(u=>u);let a=s[0]||Hr(cB);const c=hm(o,i.config.apiKey,i.name);let l=null;for(const u of r)try{const h=yield u._get(c);if(h){const f=As._fromJSON(i,h);u!==a&&(l=f),a=u;break}}catch{}const d=s.filter(u=>u._shouldAllowMigration);return a._shouldAllowMigration&&d.length?(a=d[0],l&&(yield a._set(c,l.toJSON())),yield Promise.all(r.map(function(){var u=g(function*(h){if(h!==a)try{yield h._remove(c)}catch{}});return function(h){return u.apply(this,arguments)}}())),new yc(a,i,o)):new yc(a,i,o)}).apply(this,arguments)}}function lB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function hB(n=gn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function dB(n=gn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function pB(n=gn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function mB(n=gn()){return/webos/i.test(n)}(e))return"Webos";if(function PC(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function uB(n=gn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function fB(n=gn()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function gB(n,e=[]){let t;switch(n){case"Browser":t=lB(gn());break;case"Worker":t=`${lB(gn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ld}/${i}`}function _B(n,e){return FC.apply(this,arguments)}function FC(){return(FC=g(function*(n,e){return dt(n,"GET","/v2/recaptchaConfig",function nt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function vB(n){return void 0!==n&&void 0!==n.enterprise}class bB{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class wB{constructor(e){this.type="recaptcha-enterprise",this.auth=zt(e)}verify(){var e=this;return g(function*(t="verify",i=!1){function o(){return o=g(function*(a){if(!i){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=g(function*(l,d){_B(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(void 0!==u.recaptchaKey){const h=new bB(u);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}d(new Error("recaptcha Enterprise site key undefined"))}).catch(u=>{d(u)})});return function(l,d){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const d=window.grecaptcha;vB(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:t}).then(u=>{c(u)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function r(a){return o.apply(this,arguments)})(e.auth).then(l=>{if(!i&&vB(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function LC(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=cr("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function Lae(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(d=>{c(d)})}}).catch(l=>{c(l)})})}).apply(this,arguments)}}class Uae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class Hae{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CB(this),this.idTokenSubscription=new CB(this),this.beforeStateQueue=new Uae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Hr(t)),this._initializationPromise=this.queue(g(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield yc.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield $d(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function vae(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const i=e?Dt(e):null;return i&&O(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e){var t=this;return g(function*(i,r=!1){if(!t._deleted)return i&&O(t.tenantId===i.tenantId,t,"tenant-id-mismatch"),r||(yield t.beforeStateQueue.runMiddleware(i)),t.queue(g(function*(){yield t.directlySetCurrentUser(i),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(Hr(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield _B(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new bB(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new wB(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new or("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return g(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const i=e&&Hr(e)||t._popupRedirectResolver;O(i,t,"argument-error"),t.redirectPersistenceManager=yield yc.create(t,[Hr(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var i,r;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return O(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function _ae(n,...e){lm.logLevel<=Ee.WARN&&lm.warn(`Auth (${Ld}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function zt(n){return Dt(n)}class CB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function jne(n,e){const t=new Une(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function xB(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ud(3e4,6e4),new Ud(2e3,1e4),new Ud(3e4,6e4),new Ud(5e3,15e3),encodeURIComponent("fac");var ej="@firebase/auth";class Nle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Xp(),function Lle(n){On(new _n("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;O(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gB(n)},l=new Hae(i,r,o,c);return function $ae(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Hr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),On(new _n("auth-internal",e=>{const t=zt(e.getProvider("auth").getImmediate());return new Nle(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_t(ej,"0.23.2",function Fle(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),_t(ej,"0.23.2","esm2017")}("Browser");class rj{constructor(){return _C("auth")}}const CD=new Map,oj={activated:!1,tokenObservers:[]},$le={initialized:!1,enabled:!1};function ut(n){return CD.get(n)||Object.assign({},oj)}function Dm(){return $le}const ED="https://content-firebaseappcheck.googleapis.com/v1",Kle="exchangeDebugToken",sj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Qle{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new Zp,yield function Xle(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zp,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const an=new or("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DD(n){if(!ut(n).activated)throw an.create("use-before-activation",{appName:n.name})}function km(n,e){return TD.apply(this,arguments)}function TD(){return TD=g(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const u=yield r.getHeartbeatsHeader();u&&(i["X-Firebase-Client"]=u)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(u){throw an.create("fetch-network-error",{originalErrorMessage:u?.message})}if(200!==s.status)throw an.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(u){throw an.create("fetch-parse-error",{originalErrorMessage:u?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw an.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+l,issuedAtTimeMillis:d}}),TD.apply(this,arguments)}function aj(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${ED}/projects/${t}/apps/${i}:${Kle}?key=${r}`,body:{debug_token:e}}}const tde="firebase-app-check-database",nde=1,Zd="firebase-app-check-store";let Mm=null;function kD(){return kD=g(function*(n,e){const i=(yield function lj(){return Mm||(Mm=new Promise((n,e)=>{try{const t=indexedDB.open(tde,nde);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(an.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Zd,{keyPath:"compositeKey"})}}catch(t){e(an.create("storage-open",{originalErrorMessage:t?.message}))}}),Mm)}()).transaction(Zd,"readwrite"),o=i.objectStore(Zd).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(an.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),kD.apply(this,arguments)}const Jd=new hc("@firebase/app-check");function AD(n,e){return wo()?function rde(n,e){return function dj(n,e){return kD.apply(this,arguments)}(function hj(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Jd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function OD(){return Dm().enabled}function PD(){return ND.apply(this,arguments)}function ND(){return ND=g(function*(){const n=Dm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ND.apply(this,arguments)}const dde={error:"UNKNOWN_ERROR"};function ude(n){return J0.encodeString(JSON.stringify(n),!1)}function Sm(n){return FD.apply(this,arguments)}function FD(){return FD=g(function*(n,e=!1){const t=n.app;DD(t);const i=ut(t);let o,r=i.token;if(r&&!xc(r)&&(i.token=void 0,r=void 0),!r){const c=yield i.cachedTokenPromise;c&&(xc(c)?r=c:yield AD(t,void 0))}if(!e&&r&&xc(r))return{token:r.token};let a,s=!1;if(OD()){i.exchangeTokenPromise||(i.exchangeTokenPromise=km(aj(t,yield PD()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const c=yield i.exchangeTokenPromise;return yield AD(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield ut(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Jd.warn(c.message):Jd.error(c),o=c}return r?o?a=xc(r)?{token:r.token,internalError:o}:gj(o):(a={token:r.token},i.token=r,yield AD(t,r)):a=gj(o),s&&function mj(n,e){const t=ut(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a}),FD.apply(this,arguments)}function LD(){return LD=g(function*(n){const e=n.app;DD(e);const{provider:t}=ut(e);if(OD()){const i=yield PD(),{token:r}=yield km(aj(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),LD.apply(this,arguments)}function BD(n,e){const t=ut(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function pj(n){const{app:e}=n,t=ut(e);let i=t.tokenRefresher;i||(i=function hde(n){const{app:e}=n;return new Qle(g(function*(){let i;if(i=ut(e).token?yield Sm(n,!0):yield Sm(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=ut(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},sj.RETRIAL_MIN_WAIT,sj.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function xc(n){return n.expireTimeMillis-Date.now()>0}function gj(n){return{token:ude(dde),error:n}}class fde{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ut(this.app);for(const t of e)BD(this.app,t.next);return Promise.resolve()}}const Ej="app-check-internal";!function Tde(){On(new _n("app-check",n=>function pde(n,e){return new fde(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ej).initialize()})),On(new _n(Ej,n=>function mde(n){return{getToken:e=>Sm(n,e),getLimitedUseToken:()=>function fj(n){return LD.apply(this,arguments)}(n),addTokenListener:e=>function VD(n,e,t,i){const{app:r}=n,o=ut(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&xc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),pj(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>pj(n))}(n,"INTERNAL",e),removeTokenListener:e=>BD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),_t("@firebase/app-check","0.8.0")}();class Ij{constructor(){return _C("app-check")}}typeof window<"u"&&window;var L,Rde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Li={},$D=$D||{},oe=Rde||self;function Rm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function eu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var GD="closure_uid_"+(1e9*Math.random()>>>0),Pde=0;function Nde(n,e,t){return n.call.apply(n.bind,arguments)}function Fde(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function yn(n,e,t){return(yn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nde:Fde).apply(null,arguments)}function Om(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function $t(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function ko(){this.s=this.s,this.o=this.o}ko.prototype.s=!1,ko.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ode(n){Object.prototype.hasOwnProperty.call(n,GD)&&n[GD]||(n[GD]=++Pde)}(this)},ko.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tj=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qD(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function kj(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Rm(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function vn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};var Vde=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{oe.addEventListener("test",()=>{},e),oe.removeEventListener("test",()=>{},e)}catch{}return n}();function tu(n){return/^[\s\xa0]*$/.test(n)}function Pm(){var n=oe.navigator;return n&&(n=n.userAgent)?n:""}function dr(n){return-1!=Pm().indexOf(n)}function WD(n){return WD[" "](n),n}WD[" "]=function(){};var YD,jde=dr("Opera"),wc=dr("Trident")||dr("MSIE"),Mj=dr("Edge"),KD=Mj||wc,Sj=dr("Gecko")&&!(-1!=Pm().toLowerCase().indexOf("webkit")&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),Ude=-1!=Pm().toLowerCase().indexOf("webkit")&&!dr("Edge");function Aj(){var n=oe.document;return n?n.documentMode:void 0}e:{var QD="",XD=function(){var n=Pm();return Sj?/rv:([^\);]+)(\)|;)/.exec(n):Mj?/Edge\/([\d\.]+)/.exec(n):wc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ude?/WebKit\/(\S+)/.exec(n):jde?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(XD&&(QD=XD?XD[1]:""),wc){var ZD=Aj();if(null!=ZD&&ZD>parseFloat(QD)){YD=String(ZD);break e}}YD=QD}var Hde=oe.document&&wc&&(Aj()||parseInt(YD,10))||void 0;function nu(n,e){if(vn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Sj){e:{try{WD(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zde[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nu.$.h.call(this)}}$t(nu,vn);var zde={2:"touch",3:"pen",4:"mouse"};nu.prototype.h=function(){nu.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var iu="closure_listenable_"+(1e6*Math.random()|0),$de=0;function Gde(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++$de,this.fa=this.ia=!1}function Nm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function eI(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Oj(n){const e={};for(const t in n)e[t]=n[t];return e}const Pj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nj(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<Pj.length;o++)t=Pj[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Fm(n){this.src=n,this.g={},this.h=0}function tI(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=Tj(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Nm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function nI(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Fm.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=nI(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new Gde(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var iI="closure_lm_"+(1e6*Math.random()|0),rI={};function Fj(n,e,t,i,r){if(i&&i.once)return Vj(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Fj(n,e[o],t,i,r);return null}return t=cI(t),n&&n[iu]?n.O(e,t,eu(i)?!!i.capture:!!i,r):Lj(n,e,t,!1,i,r)}function Lj(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=eu(r)?!!r.capture:!!r,a=sI(n);if(a||(n[iI]=a=new Fm(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function Wde(){const e=Kde;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Vde||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(jj(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Vj(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Vj(n,e[o],t,i,r);return null}return t=cI(t),n&&n[iu]?n.P(e,t,eu(i)?!!i.capture:!!i,r):Lj(n,e,t,!0,i,r)}function Bj(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)Bj(n,e[o],t,i,r);else i=eu(i)?!!i.capture:!!i,t=cI(t),n&&n[iu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=nI(o=n.g[e],t,i,r))&&(Nm(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=sI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=nI(e,t,i,r)),(t=-1<n?e[n]:null)&&oI(t))}function oI(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[iu])tI(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(jj(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=sI(e))?(tI(t,n),0==t.h&&(t.src=null,e[iI]=null)):Nm(n)}}}function jj(n){return n in rI?rI[n]:rI[n]="on"+n}function Kde(n,e){if(n.fa)n=!0;else{e=new nu(e,this);var t=n.listener,i=n.la||n.src;n.ia&&oI(n),n=t.call(i,e)}return n}function sI(n){return(n=n[iI])instanceof Fm?n:null}var aI="__closure_events_fn_"+(1e9*Math.random()>>>0);function cI(n){return"function"==typeof n?n:(n[aI]||(n[aI]=function(e){return n.handleEvent(e)}),n[aI])}function Gt(){ko.call(this),this.i=new Fm(this),this.S=this,this.J=null}function cn(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new vn(e,n);else if(e instanceof vn)e.target=e.target||n;else{var r=e;Nj(e=new vn(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Lm(s,i,!0,e)&&r}if(r=Lm(s=e.g=n,i,!0,e)&&r,r=Lm(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Lm(s=e.g=t[o],i,!1,e)&&r}function Lm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&tI(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}$t(Gt,ko),Gt.prototype[iu]=!0,Gt.prototype.removeEventListener=function(n,e,t,i){Bj(this,n,e,t,i)},Gt.prototype.N=function(){if(Gt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Nm(t[i]);delete n.g[e],n.h--}}this.J=null},Gt.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Gt.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var lI=oe.JSON.stringify;function Qde(){var n=dI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Uj=new class Yde{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Zde,n=>n.reset());class Zde{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Jde(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function eue(n){oe.setTimeout(()=>{throw n},0)}let ru,ou=!1,dI=new class Xde{constructor(){this.h=this.g=null}add(e,t){const i=Uj.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Hj=()=>{const n=oe.Promise.resolve(void 0);ru=()=>{n.then(tue)}};var tue=()=>{for(var n;n=Qde();){try{n.h.call(n.g)}catch(t){eue(t)}var e=Uj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ou=!1};function Vm(n,e){Gt.call(this),this.h=n||1,this.g=e||oe,this.j=yn(this.qb,this),this.l=Date.now()}function uI(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function hI(n,e,t){if("function"==typeof n)t&&(n=yn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yn(n.handleEvent,n)}return 2147483647<Number(e)?-1:oe.setTimeout(n,e||0)}function zj(n){n.g=hI(()=>{n.g=null,n.i&&(n.i=!1,zj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$t(Vm,Gt),(L=Vm.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cn(this,"tick"),this.ga&&(uI(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){Vm.$.N.call(this),uI(this),delete this.g};class nue extends ko{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zj(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function su(n){ko.call(this),this.h=n,this.g={}}$t(su,ko);var $j=[];function Gj(n,e,t,i){Array.isArray(t)||(t&&($j[0]=t.toString()),t=$j);for(var r=0;r<t.length;r++){var o=Fj(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function qj(n){eI(n.g,function(e,t){this.g.hasOwnProperty(t)&&oI(e)},n),n.g={}}function Bm(){this.g=!0}function Cc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sue(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return lI(t)}catch{return e}}(n,t)+(i?" "+i:"")})}su.prototype.N=function(){su.$.N.call(this),qj(this)},su.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bm.prototype.Ea=function(){this.g=!1},Bm.prototype.info=function(){};var Ps={},Wj=null;function jm(){return Wj=Wj||new Gt}function Kj(n){vn.call(this,Ps.Ta,n)}function au(n){const e=jm();cn(e,new Kj(e))}function Yj(n,e){vn.call(this,Ps.STAT_EVENT,n),this.stat=e}function Nn(n){const e=jm();cn(e,new Yj(e,n))}function Qj(n,e){vn.call(this,Ps.Ua,n),this.size=e}function cu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){n()},e)}Ps.Ta="serverreachability",$t(Kj,vn),Ps.STAT_EVENT="statevent",$t(Yj,vn),Ps.Ua="timingevent",$t(Qj,vn);var Um={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fI(){}function Jj(){}fI.prototype.h=null;var gI,lu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pI(){vn.call(this,"d")}function mI(){vn.call(this,"c")}function Hm(){}function du(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new su(this),this.P=aue,this.V=new Vm(n=KD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new e4}function e4(){this.i=null,this.g="",this.h=!1}$t(pI,vn),$t(mI,vn),$t(Hm,fI),Hm.prototype.g=function(){return new XMLHttpRequest},Hm.prototype.i=function(){return{}},gI=new Hm;var aue=45e3,_I={},zm={};function yI(n,e,t){n.L=1,n.v=Wm(Gr(e)),n.s=t,n.S=!0,t4(n,null)}function t4(n,e){n.G=Date.now(),uu(n),n.A=Gr(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),h4(t.i,"t",i),n.C=0,t=n.l.J,n.h=new e4,n.g=F4(n.l,t?e:null,!n.s),0<n.O&&(n.M=new nue(yn(n.Pa,n,n.g),n.O)),Gj(n.U,n.g,"readystatechange",n.nb),e=n.I?Oj(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),au(),function iue(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var d=l[0];l=l[1];var u=d.split("_");s=2<=u.length&&"type"==u[1]?s+(d+"=")+l+"&":s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function n4(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function r4(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=cue(n,t),r==zm){4==e&&(n.o=4,Nn(14),i=!1),Cc(n.j,n.m,null,"[Incomplete Response]");break}if(r==_I){n.o=4,Nn(15),Cc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Cc(n.j,n.m,r,null),vI(n,r)}n4(n)&&r!=zm&&r!=_I&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nn(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),II(e),e.M=!0,Nn(11))):(Cc(n.j,n.m,t,"[Invalid Chunked Response]"),Ns(n),hu(n))}function cue(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?zm:(t=Number(e.substring(t,i)),isNaN(t)?_I:(i+=1)+t>e.length?zm:(e=e.slice(i,i+t),n.C=i+t,e))}function uu(n){n.Y=Date.now()+n.P,o4(n,n.P)}function o4(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=cu(yn(n.lb,n),e)}function $m(n){n.B&&(oe.clearTimeout(n.B),n.B=null)}function hu(n){0==n.l.H||n.J||R4(n.l,n)}function Ns(n){$m(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,uI(n.V),qj(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function vI(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||bI(t.i,n)))if(!n.K&&bI(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Jm(t),Xm(t)}DI(t),Nn(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=cu(yn(t.ib,t),6e3));if(1>=m4(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ls(t,11)}else if((n.K||t.g==n)&&Jm(t),!tu(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const d=l[3];null!=d&&(t.ra=d,t.l.info("VER="+t.ra));const u=l[4];null!=u&&(t.Ga=u,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=i.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(xI(o,o.h),o.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,Ke(i.I,i.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=N4(i,i.J?i.pa:null,i.Y),s.K){g4(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&($m(a),uu(a)),i.g=s}else S4(i);0<t.j.length&&Zm(t)}else"stop"!=l[0]&&"close"!=l[0]||Ls(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ls(t,7):EI(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}au()}catch{}}function s4(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Rm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function due(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Rm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function lue(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Rm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(L=du.prototype).setTimeout=function(n){this.P=n},L.nb=function(n){n=n.target;const e=this.M;e&&3==ur(n)?e.l():this.Pa(n)},L.Pa=function(n){try{if(n==this.g)e:{const d=ur(this.g);var e=this.g.Ia();if(this.g.da(),!(3>d)&&(3!=d||KD||this.g&&(this.h.h||this.g.ja()||E4(this.g)))){this.J||4!=d||7==e||au(),$m(this);var t=this.g.da();this.ca=t;t:if(n4(this)){var i=E4(this.g);n="";var r=i.length,o=4==ur(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),hu(this);var s="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function rue(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,d,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tu(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Nn(12),Ns(this),hu(this);break e}Cc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vI(this,t)}this.S?(r4(this,d,s),KD&&this.i&&3==d&&(Gj(this.U,this.V,"tick",this.mb),this.V.start())):(Cc(this.j,this.m,s,null),vI(this,s)),4==d&&Ns(this),this.i&&!this.J&&(4==d?R4(this.l,this):(this.i=!1,uu(this)))}else(function kue(n){const e={};n=(n.g&&2<=ur(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(tu(n[i]))continue;var t=Jde(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function qde(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),Ns(this),hu(this)}}}catch{}},L.mb=function(){if(this.g){var n=ur(this.g),e=this.g.ja();this.C<e.length&&($m(this),r4(this,n,e),this.i&&4!=n&&uu(this))}},L.cancel=function(){this.J=!0,Ns(this)},L.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function oue(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(au(),Nn(17)),Ns(this),this.o=2,hu(this)):o4(this,this.Y-n)};var a4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fs){this.h=n.h,Gm(this,n.j),this.s=n.s,this.g=n.g,qm(this,n.m),this.l=n.l;var e=n.i,t=new mu;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),c4(this,t),this.o=n.o}else n&&(e=String(n).match(a4))?(this.h=!1,Gm(this,e[1]||"",!0),this.s=fu(e[2]||""),this.g=fu(e[3]||"",!0),qm(this,e[4]),this.l=fu(e[5]||"",!0),c4(this,e[6]||"",!0),this.o=fu(e[7]||"")):(this.h=!1,this.i=new mu(null,this.h))}function Gr(n){return new Fs(n)}function Gm(n,e,t){n.j=t?fu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function c4(n,e,t){e instanceof mu?(n.i=e,function _ue(n,e){e&&!n.j&&(Mo(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(d4(this,i),h4(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pu(e,mue)),n.i=new mu(e,n.h))}function Ke(n,e,t){n.i.set(e,t)}function Wm(n){return Ke(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hue),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hue(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pu(e,l4,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pu(e,l4,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pu(t,"/"==t.charAt(0)?pue:fue,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pu(t,gue)),n.join("")};var l4=/[#\/\?@]/g,fue=/[#\?:]/g,pue=/[#\?]/g,mue=/[#\?@]/g,gue=/#/g;function mu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Mo(n){n.g||(n.g=new Map,n.h=0,n.i&&function uue(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function d4(n,e){Mo(n),e=Ec(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function u4(n,e){return Mo(n),e=Ec(n,e),n.g.has(e)}function h4(n,e,t){d4(n,e),0<t.length&&(n.i=null,n.g.set(Ec(n,e),qD(t)),n.h+=t.length)}function Ec(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function f4(n){this.l=n||vue,n=oe.PerformanceNavigationTiming?0<(n=oe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=mu.prototype).add=function(n,e){Mo(this),this.i=null,n=Ec(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},L.forEach=function(n,e){Mo(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},L.ta=function(){Mo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},L.Z=function(n){Mo(this);let e=[];if("string"==typeof n)u4(this,n)&&(e=e.concat(this.g.get(Ec(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},L.set=function(n,e){return Mo(this),this.i=null,u4(this,n=Ec(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},L.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var vue=10;function p4(n){return!!n.h||!!n.g&&n.g.size>=n.j}function m4(n){return n.h?1:n.g?n.g.size:0}function bI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function xI(n,e){n.g?n.g.add(e):n.h=e}function g4(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _4(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return qD(n.i)}f4.prototype.cancel=function(){if(this.i=_4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var bue=class{stringify(n){return oe.JSON.stringify(n,void 0)}parse(n){return oe.JSON.parse(n,void 0)}};function xue(){this.g=new bue}function wue(n,e,t){const i=t||"";try{s4(n,function(r,o){let s=r;eu(r)&&(s=lI(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Km(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function gu(n){this.l=n.fc||null,this.j=n.ob||!1}function Ym(n,e){Gt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=wI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$t(gu,fI),gu.prototype.g=function(){return new Ym(this.l,this.j)},gu.prototype.i=function(n){return function(){return n}}({}),$t(Ym,Gt);var wI=0;function y4(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function _u(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yu(n)}function yu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(L=Ym.prototype).open=function(n,e){if(this.readyState!=wI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yu(this)},L.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_u(this)),this.readyState=wI},L.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yu(this)),this.g&&(this.readyState=3,yu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;y4(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_u(this):yu(this),3==this.readyState&&y4(this)}},L.Za=function(n){this.g&&(this.response=this.responseText=n,_u(this))},L.Ya=function(n){this.g&&(this.response=n,_u(this))},L.ka=function(){this.g&&_u(this)},L.setRequestHeader=function(n,e){this.v.append(n,e)},L.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ym.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Eue=oe.JSON.parse;function ht(n){Gt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=v4,this.L=this.M=!1}$t(ht,Gt);var v4="",Due=/^https?$/i,Iue=["POST","PUT"];function b4(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,x4(n),Qm(n)}function x4(n){n.F||(n.F=!0,cn(n,"complete"),cn(n,"error"))}function w4(n){if(n.h&&typeof $D<"u"&&(!n.C[1]||4!=ur(n)||2!=n.da()))if(n.v&&4==ur(n))hI(n.La,0,n);else if(cn(n,"readystatechange"),4==ur(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(a4)[1]||null;!r&&oe.self&&oe.self.location&&(r=oe.self.location.protocol.slice(0,-1)),i=!Due.test(r?r.toLowerCase():"")}t=i}if(t)cn(n,"complete"),cn(n,"success");else{n.m=6;try{var o=2<ur(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",x4(n)}}finally{Qm(n)}}}function Qm(n,e){if(n.g){C4(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||cn(n,"ready");try{t.onreadystatechange=i}catch{}}}function C4(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(oe.clearTimeout(n.A),n.A=null)}function ur(n){return n.g?n.g.readyState:0}function E4(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case v4:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function D4(n){let e="";return eI(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function CI(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=D4(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ke(n,e,t))}function vu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function I4(n){this.Ga=0,this.j=[],this.l=new Bm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vu("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vu("baseRetryDelayMs",5e3,n),this.hb=vu("retryDelaySeedMs",1e4,n),this.eb=vu("forwardChannelMaxRetries",2,n),this.xa=vu("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new f4(n&&n.concurrentRequestLimit),this.Ja=new xue,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function EI(n){if(T4(n),3==n.H){var e=n.W++,t=Gr(n.I);if(Ke(t,"SID",n.K),Ke(t,"RID",e),Ke(t,"TYPE","terminate"),bu(n,t),(e=new du(n,n.l,e)).L=2,e.v=Wm(Gr(t)),t=!1,oe.navigator&&oe.navigator.sendBeacon)try{t=oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&oe.Image&&((new Image).src=e.v,t=!0),t||(e.g=F4(e.l,null),e.g.ha(e.v)),e.G=Date.now(),uu(e)}P4(n)}function Xm(n){n.g&&(II(n),n.g.cancel(),n.g=null)}function T4(n){Xm(n),n.u&&(oe.clearTimeout(n.u),n.u=null),Jm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&oe.clearTimeout(n.m),n.m=null)}function Zm(n){if(!p4(n.i)&&!n.m){n.m=!0;var e=n.Na;ru||Hj(),ou||(ru(),ou=!0),dI.add(e,n),n.C=0}}function k4(n,e){var t;t=e?e.m:n.W++;const i=Gr(n.I);Ke(i,"SID",n.K),Ke(i,"RID",t),Ke(i,"AID",n.V),bu(n,i),n.o&&n.s&&CI(i,n.o,n.s),t=new du(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=M4(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),xI(n.i,t),yI(t,i,e)}function bu(n,e){n.na&&eI(n.na,function(t,i){Ke(e,i,t)}),n.h&&s4({},function(t,i){Ke(e,i,t)})}function M4(n,e,t){t=Math.min(n.j.length,t);var i=n.h?yn(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g;const d=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{wue(d,s,"req"+l+"_")}catch{i&&i(d)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function S4(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ru||Hj(),ou||(ru(),ou=!0),dI.add(e,n),n.A=0}}function DI(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=cu(yn(n.Ma,n),O4(n,n.A)),n.A++,0))}function II(n){null!=n.B&&(oe.clearTimeout(n.B),n.B=null)}function A4(n){n.g=new du(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Gr(n.wa);Ke(e,"RID","rpc"),Ke(e,"SID",n.K),Ke(e,"AID",n.V),Ke(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ke(e,"TO",n.qa),Ke(e,"TYPE","xmlhttp"),bu(n,e),n.o&&n.s&&CI(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Wm(Gr(e)),t.s=null,t.S=!0,t4(t,n)}function Jm(n){null!=n.v&&(oe.clearTimeout(n.v),n.v=null)}function R4(n,e){var t=null;if(n.g==e){Jm(n),II(n),n.g=null;var i=2}else{if(!bI(n.i,e))return;t=e.F,g4(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;cn(i=jm(),new Qj(i,t)),Zm(n)}else S4(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function Mue(n,e){return!(m4(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=cu(yn(n.Na,n,e),O4(n,n.C)),n.C++,0)))}(n,e)||2==i&&DI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ls(n,5);break;case 4:Ls(n,10);break;case 3:Ls(n,6);break;default:Ls(n,2)}}function O4(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ls(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=yn(n.pb,n);t||(t=new Fs("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||Gm(t,"https"),Wm(t)),function Cue(n,e){const t=new Bm;if(oe.Image){const i=new Image;i.onload=Om(Km,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Om(Km,t,i,"TestLoadImage: error",!1,e),i.onabort=Om(Km,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Om(Km,t,i,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Nn(2);n.H=0,n.h&&n.h.za(e),P4(n),T4(n)}function P4(n){if(n.H=0,n.ma=[],n.h){const e=_4(n.i);(0!=e.length||0!=n.j.length)&&(kj(n.ma,e),kj(n.ma,n.j),n.i.i.length=0,qD(n.j),n.j.length=0),n.h.ya()}}function N4(n,e,t){var i=t instanceof Fs?Gr(t):new Fs(t);if(""!=i.g)e&&(i.g=e+"."+i.g),qm(i,i.m);else{var r=oe.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Fs(null);i&&Gm(o,i),e&&(o.g=e),r&&qm(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&Ke(i,t,e),Ke(i,"VER",n.ra),bu(n,i),i}function F4(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ht(t&&n.Ha&&!n.va?new gu({ob:!0}):n.va)).Oa(n.J),e}function L4(){}function eg(){if(wc&&!(10<=Number(Hde)))throw Error("Environmental error: no available transport.")}function ri(n,e){Gt.call(this),this.g=new I4(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!tu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tu(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Dc(this)}function V4(n){pI.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function B4(){mI.call(this),this.status=1}function Dc(n){this.g=n}function Vi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function TI(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Fe(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(L=ht.prototype).Oa=function(n){this.M=n},L.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gI.g(),this.C=function Zj(n){return n.h||(n.h=n.i())}(this.u?this.u:gI),this.g.onreadystatechange=yn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void b4(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=oe.FormData&&n instanceof oe.FormData,!(0<=Tj(Iue,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{C4(this),0<this.B&&((this.L=function Tue(n){return wc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.ua,this)):this.A=hI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){b4(this,o)}},L.ua=function(){typeof $D<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))},L.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cn(this,"complete"),cn(this,"abort"),Qm(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qm(this,!0)),ht.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?w4(this):this.kb())},L.kb=function(){w4(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Eue(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=I4.prototype).ra=8,L.H=1,L.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new du(this,this.l,n);let o=this.s;if(this.U&&(o?(o=Oj(o),Nj(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=M4(this,r,e),Ke(t=Gr(this.I),"RID",n),Ke(t,"CVER",22),this.F&&Ke(t,"X-HTTP-Session-Id",this.F),bu(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(D4(o)))+"&"+e:this.o&&CI(t,this.o,o)),xI(this.i,r),this.bb&&Ke(t,"TYPE","init"),this.P?(Ke(t,"$req",e),Ke(t,"SID","null"),r.aa=!0,yI(r,t,null)):yI(r,t,e),this.H=2}}else 3==this.H&&(n?k4(this,n):0==this.j.length||p4(this.i)||k4(this))},L.Ma=function(){if(this.u=null,A4(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=cu(yn(this.jb,this),n)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nn(10),Xm(this),A4(this))},L.ib=function(){null!=this.v&&(this.v=null,Xm(this),DI(this),Nn(19))},L.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Nn(2)):(this.l.info("Failed to ping google.com"),Nn(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=L4.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},eg.prototype.g=function(n,e){return new ri(n,e)},$t(ri,Gt),ri.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Nn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=N4(n,null,n.Y),Zm(n)},ri.prototype.close=function(){EI(this.g)},ri.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lI(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Zm(e)},ri.prototype.N=function(){this.g.h=null,delete this.j,EI(this.g),delete this.g,ri.$.N.call(this)},$t(V4,pI),$t(B4,mI),$t(Dc,L4),Dc.prototype.Ba=function(){cn(this.g,"a")},Dc.prototype.Aa=function(n){cn(this.g,new V4(n))},Dc.prototype.za=function(n){cn(this.g,new B4)},Dc.prototype.ya=function(){cn(this.g,"b")},$t(Vi,function Sue(){this.blockSize=-1}),Vi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)TI(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){TI(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){TI(this,i),r=0;break}}this.h=r,this.i+=e},Vi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Aue={};function kI(n){return-128<=n&&128>n?function Bde(n,e){var t=Aue;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Fe([0|e],0>e?-1:0)}):new Fe([0|n],0>n?-1:0)}function hr(n){if(isNaN(n)||!isFinite(n))return Ic;if(0>n)return ln(hr(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=MI;return new Fe(e,0)}var MI=4294967296,Ic=kI(0),SI=kI(1),U4=kI(16777216);function qr(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function wi(n){return-1==n.h}function ln(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Fe(t,~n.h).add(SI)}function tg(n,e){return n.add(ln(e))}function ng(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function xu(n,e){this.g=n,this.h=e}function ig(n,e){if(qr(e))throw Error("division by zero");if(qr(n))return new xu(Ic,Ic);if(wi(n))return e=ig(ln(n),e),new xu(ln(e.g),ln(e.h));if(wi(e))return e=ig(n,ln(e)),new xu(ln(e.g),e.h);if(30<n.g.length){if(wi(n)||wi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=SI,i=e;0>=i.X(n);)t=H4(t),i=H4(i);var r=Tc(t,1),o=Tc(i,1);for(i=Tc(i,2),t=Tc(t,2);!qr(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Tc(i,1),t=Tc(t,1)}return e=tg(n,r.R(e)),new xu(r,e)}for(r=Ic;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=hr(t)).R(e);wi(s)||0<s.X(n);)s=(o=hr(t-=i)).R(e);qr(o)&&(o=SI),r=r.add(o),n=tg(n,s)}return new xu(r,n)}function H4(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Fe(t,n.h)}function Tc(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Fe(r,n.h)}(L=Fe.prototype).ea=function(){if(wi(this))return-ln(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:MI+i)*e,e*=MI}return n},L.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(qr(this))return"0";if(wi(this))return"-"+ln(this).toString(n);for(var e=hr(Math.pow(n,6)),t=this,i="";;){var r=ig(t,e).g,o=((0<(t=tg(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(qr(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},L.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},L.X=function(n){return wi(n=tg(this,n))?-1:qr(n)?0:1},L.abs=function(){return wi(this)?ln(this):this},L.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Fe(t,-2147483648&t[t.length-1]?-1:0)},L.R=function(n){if(qr(this)||qr(n))return Ic;if(wi(this))return wi(n)?ln(this).R(ln(n)):ln(ln(this).R(n));if(wi(n))return ln(this.R(ln(n)));if(0>this.X(U4)&&0>n.X(U4))return hr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,ng(t,2*i+2*r),t[2*i+2*r+1]+=o*c,ng(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,ng(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,ng(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Fe(t,0)},L.gb=function(n){return ig(this,n).h},L.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Fe(t,this.h&n.h)},L.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Fe(t,this.h|n.h)},L.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Fe(t,this.h^n.h)},eg.prototype.createWebChannel=eg.prototype.g,ri.prototype.send=ri.prototype.u,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,Um.NO_ERROR=0,Um.TIMEOUT=8,Um.HTTP_ERROR=6,Xj.COMPLETE="complete",Jj.EventType=lu,lu.OPEN="a",lu.CLOSE="b",lu.ERROR="c",lu.MESSAGE="d",Gt.prototype.listen=Gt.prototype.O,ht.prototype.listenOnce=ht.prototype.P,ht.prototype.getLastError=ht.prototype.Sa,ht.prototype.getLastErrorCode=ht.prototype.Ia,ht.prototype.getStatus=ht.prototype.da,ht.prototype.getResponseJson=ht.prototype.Wa,ht.prototype.getResponseText=ht.prototype.ja,ht.prototype.send=ht.prototype.ha,ht.prototype.setWithCredentials=ht.prototype.Oa,Vi.prototype.digest=Vi.prototype.l,Vi.prototype.reset=Vi.prototype.reset,Vi.prototype.update=Vi.prototype.j,Fe.prototype.add=Fe.prototype.add,Fe.prototype.multiply=Fe.prototype.R,Fe.prototype.modulo=Fe.prototype.gb,Fe.prototype.compare=Fe.prototype.X,Fe.prototype.toNumber=Fe.prototype.ea,Fe.prototype.toString=Fe.prototype.toString,Fe.prototype.getBits=Fe.prototype.D,Fe.fromNumber=hr,Fe.fromString=function j4(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ln(j4(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=hr(Math.pow(e,8)),i=Ic,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=hr(Math.pow(e,o)),i=i.R(o).add(hr(s))):i=(i=i.R(t)).add(hr(s))}return i};var Rue=Li.createWebChannelTransport=function(){return new eg},Oue=Li.getStatEventTarget=function(){return jm()},AI=Li.ErrorCode=Um,Pue=Li.EventType=Xj,Nue=Li.Event=Ps,z4=Li.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fue=Li.FetchXmlHttpFactory=gu,rg=Li.WebChannel=Jj,Lue=Li.XhrIo=ht,Vue=Li.Md5=Vi,kc=Li.Integer=Fe;const $4="@firebase/firestore";class qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");let Mc="9.23.0";const So=new hc("@firebase/firestore");function RI(){return So.logLevel}function S(n,...e){if(So.logLevel<=Ee.DEBUG){const t=e.map(OI);So.debug(`Firestore (${Mc}): ${n}`,...t)}}function yt(n,...e){if(So.logLevel<=Ee.ERROR){const t=e.map(OI);So.error(`Firestore (${Mc}): ${n}`,...t)}}function Bi(n,...e){if(So.logLevel<=Ee.WARN){const t=e.map(OI);So.warn(`Firestore (${Mc}): ${n}`,...t)}}function OI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function B(n="Unexpected state"){const e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+n;throw yt(e),new Error(e)}function G(n,e){n||B()}function F(n,e){return n}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class G4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class jue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Uue{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Lt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(g(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(G("string"==typeof i.accessToken),new G4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new qt(e)}}class Hue{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class zue{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Hue(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $ue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.T=t.token,new q4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gue(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class W4{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Gue(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function ne(n,e){return n<e?-1:n>e?1:0}function Sc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class it{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new it(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new it(0,0))}static max(){return new q(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wu{constructor(e,t,i){void 0===t?t=0:t>e.length&&B(),void 0===i?i=e.length-t:i>e.length-t&&B(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===wu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class De extends wu{construct(e,t,i){return new De(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new M(x.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new De(t)}static emptyPath(){return new De([])}}const que=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends wu{construct(e,t,i){return new vt(e,t,i)}static isValidIdentifier(e){return que.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new M(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new M(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new M(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new M(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(t)}static emptyPath(){return new vt([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(De.fromString(e))}static fromName(e){return new N(De.fromString(e).popFirst(5))}static empty(){return new N(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===De.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new De(e.slice()))}}function Q4(n){return new oi(n.readTime,n.key,-1)}class oi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new oi(q.min(),N.empty(),-1)}static max(){return new oi(q.max(),N.empty(),-1)}}function NI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:ne(n.largestBatchId,e.largestBatchId))}const X4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ao(n){return FI.apply(this,arguments)}function FI(){return FI=g(function*(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==X4)throw n;S("LocalStore","Unexpectedly lost primary lease")}),FI.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,i)=>{t(e)})}static reject(e){return new b((t,i)=>{i(e)})}static waitFor(e){return new b((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=b.resolve(!1);for(const i of e)t=t.next(r=>r?b.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new b((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(e,t){return new b((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}function Ro(n){return"IndexedDbTransactionError"===n.name}let si=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Du(n){return null==n}function Iu(n){return 0===n&&1/n==-1/0}function c5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qe{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new qe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lg(this.root,e,this.comparator,!0)}}class lg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??dn.RED,this.left=r??dn.EMPTY,this.right=o??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new dn(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return dn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1,dn.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(n,e,t,i,r){return this}insert(n,e,t){return new dn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new d5(this.data.getIterator())}getIteratorFrom(e){return new d5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ye(this.comparator);return t.data=e,t}}class d5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new qn([])}unionWith(e){let t=new Ye(vt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class u5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new u5("Invalid base64 string: "+r):r}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const _he=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(n){if(G(!!n),"string"==typeof n){let e=0;const t=_he.exec(n);if(G(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wr(n){return"string"==typeof n?Vt.fromBase64String(n):Vt.fromUint8Array(n)}function dg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ug(n){const e=n.mapValue.fields.__previous_value__;return dg(e)?ug(e):e}function Tu(n){const e=Po(n.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}class yhe{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class js{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof js&&e.projectId===this.projectId&&e.database===this.database}}const No={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dg(n)?4:m5(n)?9007199254740991:10:B()}function pr(n,e){if(n===e)return!0;const t=Fo(n);if(t!==Fo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tu(n).isEqual(Tu(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Po(i.timestampValue),s=Po(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Wr(n.bytesValue).isEqual(Wr(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return ft(i.geoPointValue.latitude)===ft(r.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ft(i.integerValue)===ft(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=ft(i.doubleValue),s=ft(r.doubleValue);return o===s?Iu(o)===Iu(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Sc(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(c5(o)!==c5(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!pr(o[a],s[a])))return!1;return!0}(n,e);default:return B()}var r}function ku(n,e){return void 0!==(n.values||[]).find(t=>pr(t,e))}function Lo(n,e){if(n===e)return 0;const t=Fo(n),i=Fo(e);if(t!==i)return ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ne(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=ft(r.integerValue||r.doubleValue),a=ft(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return h5(n.timestampValue,e.timestampValue);case 4:return h5(Tu(n),Tu(e));case 5:return ne(n.stringValue,e.stringValue);case 6:return function(r,o){const s=Wr(r),a=Wr(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=ne(s[c],a[c]);if(0!==l)return l}return ne(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=ne(ft(r.latitude),ft(o.latitude));return 0!==s?s:ne(ft(r.longitude),ft(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=Lo(s[c],a[c]);if(l)return l}return ne(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===No.mapValue&&o===No.mapValue)return 0;if(r===No.mapValue)return 1;if(o===No.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let d=0;d<a.length&&d<l.length;++d){const u=ne(a[d],l[d]);if(0!==u)return u;const h=Lo(s[a[d]],c[l[d]]);if(0!==h)return h}return ne(a.length,l.length)}(n.mapValue,e.mapValue);default:throw B()}}function h5(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ne(n,e);const t=Po(n),i=Po(e),r=ne(t.seconds,i.seconds);return 0!==r?r:ne(t.nanos,i.nanos)}function Rc(n){return BI(n)}function BI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Po(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wr(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=BI(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${BI(i.fields[a])}`;return o+"}"}(n.mapValue):B();var e}function Us(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jI(n){return!!n&&"integerValue"in n}function Mu(n){return!!n&&"arrayValue"in n}function f5(n){return!!n&&"nullValue"in n}function p5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pg(n){return!!n&&"mapValue"in n}function Su(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Oo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Su(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Su(n.arrayValue.values[t]);return e}return Object.assign({},n)}function m5(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(t)}setAll(e){let t=vt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Su(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());pg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];pg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Oo(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new un(Su(this.value))}}function y5(n){const e=[];return Oo(n.fields,(t,i)=>{const r=new vt([t]);if(pg(i)){const o=y5(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new qn(e)}class Qe{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,q.min(),q.min(),q.min(),un.empty(),0)}static newFoundDocument(e,t,i,r){return new Qe(e,1,t,q.min(),i,r,0)}static newNoDocument(e,t){return new Qe(e,2,t,q.min(),q.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Qe(e,3,t,q.min(),q.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vo{constructor(e,t){this.position=e,this.inclusive=t}}function v5(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?N.comparator(N.fromName(s.referenceValue),t.key):Lo(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function b5(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}class Oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function xhe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class x5{}class me extends x5{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new whe(e,t,i):"array-contains"===t?new Dhe(e,i):"in"===t?new T5(e,i):"not-in"===t?new Ihe(e,i):"array-contains-any"===t?new The(e,i):new me(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Che(e,i):new Ehe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Lo(t,this.value)):null!==t&&Fo(this.value)===Fo(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Le extends x5{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Le(e,t)}matches(e){return Pc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pc(n){return"and"===n.op}function HI(n){return function w5(n){for(const e of n.filters)if(e instanceof Le)return!1;return!0}(n)&&Pc(n)}function zI(n){if(n instanceof me)return n.field.canonicalString()+n.op.toString()+Rc(n.value);if(HI(n))return n.filters.map(e=>zI(e)).join(",");{const e=n.filters.map(t=>zI(t)).join(",");return`${n.op}(${e})`}}function C5(n,e){return n instanceof me?(t=n,(i=e)instanceof me&&t.op===i.op&&t.field.isEqual(i.field)&&pr(t.value,i.value)):n instanceof Le?function(t,i){return i instanceof Le&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&C5(o,i.filters[s]),!0)}(n,e):void B();var t,i}function D5(n){return n instanceof me?function(e){return`${e.field.canonicalString()} ${e.op} ${Rc(e.value)}`}(n):n instanceof Le?function(e){return e.op.toString()+" {"+e.getFilters().map(D5).join(" ,")+"}"}(n):"Filter"}class whe extends me{constructor(e,t,i){super(e,t,i),this.key=N.fromName(i.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class Che extends me{constructor(e,t){super(e,"in",t),this.keys=I5(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ehe extends me{constructor(e,t){super(e,"not-in",t),this.keys=I5(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I5(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>N.fromName(i.referenceValue))}class Dhe extends me{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mu(t)&&ku(t.arrayValue,this.value)}}class T5 extends me{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ku(this.value.arrayValue,t)}}class Ihe extends me{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ku(this.value.arrayValue,t)}}class The extends me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ku(this.value.arrayValue,i))}}class khe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function $I(n,e=null,t=[],i=[],r=null,o=null,s=null){return new khe(n,e,t,i,r,o,s)}function Hs(n){const e=F(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>zI(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Du(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rc(i)).join(",")),e.dt=t}return e.dt}function Au(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xhe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!C5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!b5(n.startAt,e.startAt)&&b5(n.endAt,e.endAt)}function mg(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Kr{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Nc(n){return new Kr(n)}function A5(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function GI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _g(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function qI(n){return null!==n.collectionGroup}function zs(n){const e=F(n);if(null===e.wt){e.wt=[];const t=_g(e),i=GI(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Oc(t)),e.wt.push(new Oc(vt.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Oc(vt.keyField(),o))}}}return e.wt}function Fn(n){const e=F(n);if(!e._t)if("F"===e.limitType)e._t=$I(e.path,e.collectionGroup,zs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of zs(e))t.push(new Oc(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Vo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vo(e.startAt.position,e.startAt.inclusive):null;e._t=$I(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function WI(n,e){e.getFirstInequalityField(),_g(n);const t=n.filters.concat([e]);return new Kr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function yg(n,e,t){return new Kr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ru(n,e){return Au(Fn(n),Fn(e))&&n.limitType===e.limitType}function R5(n){return`${Hs(Fn(n))}|lt:${n.limitType}`}function KI(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>D5(i)).join(", ")}]`),Du(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rc(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rc(i)).join(",")),`Target(${t})`}(Fn(n))}; limitType=${n.limitType})`}function Ou(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):N.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of zs(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=v5(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,zs(t),i)||t.endAt&&!function(r,o,s){const a=v5(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,zs(t),i)));var t,i}function P5(n){return(e,t)=>{let i=!1;for(const r of zs(n)){const o=Mhe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Mhe(n,e,t){const i=n.field.isKeyField()?N.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),c=s.data.field(r);return null!==a&&null!==c?Lo(a,c):B()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return B()}}class Yr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return l5(this.inner)}size(){return this.innerSize}}const She=new qe(N.comparator);function Wn(){return She}const N5=new qe(N.comparator);function Pu(...n){let e=N5;for(const t of n)e=e.insert(t.key,t);return e}function F5(n){let e=N5;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function mr(){return Nu()}function L5(){return Nu()}function Nu(){return new Yr(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ahe=new qe(N.comparator),Rhe=new Ye(N.comparator);function de(...n){let e=Rhe;for(const t of n)e=e.add(t);return e}const Ohe=new Ye(ne);function V5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function B5(n){return{integerValue:""+n}}function j5(n,e){return function e5(n){return"number"==typeof n&&Number.isInteger(n)&&!Iu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?B5(e):V5(n,e)}class vg{constructor(){this._=void 0}}function Phe(n,e,t){return n instanceof Fc?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&dg(r)&&(r=ug(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof $s?H5(n,e):n instanceof Gs?z5(n,e):function(i,r){const o=U5(i,r),s=$5(o)+$5(i.gt);return jI(o)&&jI(i.gt)?B5(s):V5(i.serializer,s)}(n,e)}function Nhe(n,e,t){return n instanceof $s?H5(n,e):n instanceof Gs?z5(n,e):t}function U5(n,e){return n instanceof Lc?jI(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Fc extends vg{}class $s extends vg{constructor(e){super(),this.elements=e}}function H5(n,e){const t=G5(e);for(const i of n.elements)t.some(r=>pr(r,i))||t.push(i);return{arrayValue:{values:t}}}class Gs extends vg{constructor(e){super(),this.elements=e}}function z5(n,e){let t=G5(e);for(const i of n.elements)t=t.filter(r=>!pr(r,i));return{arrayValue:{values:t}}}class Lc extends vg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function $5(n){return ft(n.integerValue||n.doubleValue)}function G5(n){return Mu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Lhe{constructor(e,t){this.version=e,this.transformResults=t}}class Je{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Je}static exists(e){return new Je(void 0,e)}static updateTime(e){return new Je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xg{}function q5(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Bc(n.key,Je.none()):new Vc(n.key,n.data,Je.none());{const t=n.data,i=un.empty();let r=new Ye(vt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Qr(n.key,i,new qn(r.toArray()),Je.none())}}function Vhe(n,e,t){n instanceof Vc?function(i,r,o){const s=i.value.clone(),a=Y5(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Qr?function(i,r,o){if(!bg(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=Y5(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(K5(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lu(n,e,t,i){return n instanceof Vc?function(r,o,s,a){if(!bg(r.precondition,o))return s;const c=r.value.clone(),l=Q5(r.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Qr?function(r,o,s,a){if(!bg(r.precondition,o))return s;const c=Q5(r.fieldTransforms,a,o),l=o.data;return l.setAll(K5(r)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(n,e,t,i):(s=t,bg(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Bhe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=U5(i.transform,r||null);null!=o&&(null===t&&(t=un.empty()),t.set(i.field,o))}return t||null}function W5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Sc(t,i,(r,o)=>function Fhe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof $s&&i instanceof $s||t instanceof Gs&&i instanceof Gs?Sc(t.elements,i.elements,pr):t instanceof Lc&&i instanceof Lc?pr(t.gt,i.gt):t instanceof Fc&&i instanceof Fc);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Vc extends xg{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qr extends xg{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function K5(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Y5(n,e,t){const i=new Map;G(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Nhe(s,a,t[r]))}return i}function Q5(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,Phe(o,s,e))}return i}class Bc extends xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QI extends xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XI{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Vhe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=L5();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=q5(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(q.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&Sc(this.mutations,e.mutations,(t,i)=>W5(t,i))&&Sc(this.baseMutations,e.baseMutations,(t,i)=>W5(t,i))}}class ZI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){G(e.mutations.length===i.length);let r=Ahe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new ZI(e,t,i,r)}}class JI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uhe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tt,Ie;function Z5(n){if(void 0===n)return yt("GRPC error has no .code"),x.UNKNOWN;switch(n){case Tt.OK:return x.OK;case Tt.CANCELLED:return x.CANCELLED;case Tt.UNKNOWN:return x.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return x.INTERNAL;case Tt.UNAVAILABLE:return x.UNAVAILABLE;case Tt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Tt.NOT_FOUND:return x.NOT_FOUND;case Tt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Tt.ABORTED:return x.ABORTED;case Tt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Tt.DATA_LOSS:return x.DATA_LOSS;default:return B()}}(Ie=Tt||(Tt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class eT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return wg}static getOrCreateInstance(){return null===wg&&(wg=new eT),wg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let wg=null;const Hhe=new kc([4294967295,4294967295],0);function eU(n){const e=function J5(){return new TextEncoder}().encode(n),t=new Vue;return t.update(e),new Uint8Array(t.digest())}function tU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kc([t,i],0),new kc([r,o],0)]}class tT{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vu(`Invalid padding: ${t}`);if(i<0)throw new Vu(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Vu(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Vu(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=kc.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(kc.fromNumber(i)));return 1===r.compare(Hhe)&&(r=new kc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=eU(e),[i,r]=tU(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new tT(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=eU(e),[i,r]=tU(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bu{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bu(q.min(),r,new qe(ne),Wn(),de())}}class ju{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ju(i,t,de(),de(),de())}}class Cg{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class nU{constructor(e,t){this.targetId=e,this.Vt=t}}class iU{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class rU{constructor(){this.St=0,this.Dt=sU(),this.Ct=Vt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=de(),t=de(),i=de();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:B()}}),new ju(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=sU()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zhe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wn(),this.zt=oU(),this.Wt=new qe(ne)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:B()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(mg(s))if(0===r){const a=new N(s.path);this.Yt(i,a,Qe.newNoDocument(a,q.min()))}else G(1===r);else{const a=this.ie(i);if(a!==r){const c=this.re(e,a);0!==c&&(this.ee(i),this.Wt=this.Wt.insert(i,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=eT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,d,u){var h,f,p,m,_,v;const y={localCacheCount:d,existenceFilterCount:u.count},C=u.unchangedNames;return C&&(y.bloomFilter={applied:0===l,hashCount:null!==(h=C?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=C?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(_=C?.bits)||void 0===_?void 0:_.padding)&&void 0!==v?v:0}),y}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let c,l;try{c=Wr(o).toUint8Array()}catch(d){if(d instanceof u5)return Bi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{l=new tT(c,s,a)}catch(d){return Bi(d instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&mg(a.target)){const c=new N(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,Qe.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=de();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new Bu(e,t,this.Wt,this.jt,i);return this.jt=Wn(),this.zt=oU(),this.Wt=new qe(ne),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new rU,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ye(ne),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new rU),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function oU(){return new qe(N.comparator)}function sU(){return new qe(N.comparator)}const $he={asc:"ASCENDING",desc:"DESCENDING"},Ghe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qhe={and:"AND",or:"OR"};class Whe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nT(n,e){return n.useProto3Json||Du(e)?e:{value:e}}function jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Khe(n,e){return jc(n,e.toTimestamp())}function bt(n){return G(!!n),q.fromTimestamp(function(e){const t=Po(e);return new it(t.seconds,t.nanos)}(n))}function iT(n,e){return(t=n,new De(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cU(n){const e=De.fromString(n);return G(_U(e)),e}function Uu(n,e){return iT(n.databaseId,e.path)}function gr(n,e){const t=cU(e);if(t.get(1)!==n.databaseId.projectId)throw new M(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(dU(t))}function rT(n,e){return iT(n.databaseId,e)}function Hu(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dU(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uU(n,e,t){return{name:Uu(n,e),fields:t.value.mapValue.fields}}function fU(n,e){return{documents:[rT(n,e.path)]}}function sT(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=rT(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rT(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return gU(Le.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Bo((d=l).field),direction:Jhe(d.dir)};var d})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=nT(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function pU(n){let e=function lU(n){const e=cU(n);return 4===e.length?De.emptyPath():dU(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){G(1===i);const d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(d){const u=mU(d);return u instanceof Le&&HI(u)?u.getFilters():[u]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(d=>{return new Oc(Uc((u=d).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(u.direction));var u}));let a=null;t.limit&&(a=function(d){let u;return u="object"==typeof d?d.value:d,Du(u)?null:u}(t.limit));let c=null;var d;t.startAt&&(c=new Vo((d=t.startAt).values||[],!!d.before));let l=null;return t.endAt&&(l=function(d){return new Vo(d.values||[],!d.before)}(t.endAt)),function S5(n,e,t,i,r,o,s,a){return new Kr(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",c,l)}function mU(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Uc(e.unaryFilter.field);return me.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Uc(e.unaryFilter.field);return me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Uc(e.unaryFilter.field);return me.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uc(e.unaryFilter.field);return me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(n):void 0!==n.fieldFilter?function(e){return me.create(Uc(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Le.create(e.compositeFilter.filters.map(t=>mU(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return B()}}(e.compositeFilter.op))}(n):B()}function Jhe(n){return $he[n]}function efe(n){return Ghe[n]}function tfe(n){return qhe[n]}function Bo(n){return{fieldPath:n.canonicalString()}}function Uc(n){return vt.fromServerFormat(n.fieldPath)}function gU(n){return n instanceof me?function(e){if("=="===e.op){if(p5(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NAN"}};if(f5(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(p5(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NOT_NAN"}};if(f5(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(e.field),op:efe(e.op),value:e.value}}}(n):n instanceof Le?function(e){const t=e.getFilters().map(i=>gU(i));return 1===t.length?t[0]:{compositeFilter:{op:tfe(e.op),filters:t}}}(n):B()}function nfe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _U(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Xr{constructor(e,t,i,r,o=q.min(),s=q.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yU{constructor(e){this.fe=e}}function aT(n){const e=pU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?yg(e,e.limit,"L"):e}class Ys{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ft(e.integerValue));else if("doubleValue"in e){const i=ft(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Iu(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Wr(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?m5(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):B()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),N.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ys.Ve=new Ys;class ufe{constructor(){this.rn=new fT}addToCollectionParentIndex(e,t){return this.rn.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(oi.min())}updateCollectionGroup(e,t,i){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class fT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ye(De.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ye(De.comparator)).toArray()}}new Uint8Array(0);class xn{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Xs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xs(0)}static Mn(){return new Xs(-1)}}class jU{constructor(){this.changes=new Yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?b.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vfe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class GU{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Lu(i.mutation,r,qn.empty(),it.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,de()).next(()=>i))}getLocalViewOfDocuments(e,t,i=de()){const r=mr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Pu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=mr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,de()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Wn();const s=Nu(),a=Nu();return t.forEach((c,l)=>{const d=i.get(l.key);r.has(l.key)&&(void 0===d||d.mutation instanceof Qr)?o=o.insert(l.key,l):void 0!==d?(s.set(l.key,d.mutation.getFieldMask()),Lu(d.mutation,l,d.mutation.getFieldMask(),it.now())):s.set(l.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var u;return a.set(l,new vfe(d,null!==(u=s.get(l))&&void 0!==u?u:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Nu();let r=new qe((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let d=i.get(c)||qn.empty();d=a.applyToLocalView(l,d),i.set(c,d);const u=(r.get(a.batchId)||de()).add(c);r=r.insert(a.batchId,u)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,d=c.value,u=L5();d.forEach(h=>{if(!o.has(h)){const f=q5(t.get(h),i.get(h));null!==f&&u.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,u))}return b.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return N.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):qI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):b.resolve(mr());let a=-1,c=o;return s.next(l=>b.forEach(l,(d,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),o.get(d)?b.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,de())).next(d=>({batchId:a,changes:F5(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(i=>{let r=Pu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=Pu();return this.indexManager.getCollectionParents(e,r).next(s=>b.forEach(s,a=>{const c=(l=t,d=a.child(r),new Kr(d,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,d;return this.getDocumentsMatchingCollectionQuery(e,c,i).next(l=>{l.forEach((d,u)=>{o=o.insert(d,u)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,Qe.newInvalidDocument(l)))});let s=Pu();return o.forEach((a,c)=>{const l=r.get(a);void 0!==l&&Lu(l.mutation,c,qn.empty(),it.now()),Ou(t,c)&&(s=s.insert(a,c))}),s})}}class bfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return b.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:bt(i.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:aT(i.bundledQuery),readTime:bt(i.readTime)}),b.resolve();var i}}class xfe{constructor(){this.overlays=new qe(N.comparator),this.ls=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const i=mr();return b.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),b.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),b.resolve()}getOverlaysForCollection(e,t,i){const r=mr(),o=t.length+1,s=new N(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return b.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new qe((l,d)=>l-d);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let d=o.get(l.largestBatchId);null===d&&(d=mr(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=mr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return b.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new JI(t,i));let o=this.ls.get(t);void 0===o&&(o=de(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class pT{constructor(){this.fs=new Ye(Kt.ds),this.ws=new Ye(Kt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Kt(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new N(new De([])),i=new Kt(t,e),r=new Kt(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new N(new De([])),i=new Kt(t,e),r=new Kt(t,e+1);let o=de();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Kt(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return N.comparator(e.key,t.key)||ne(e.As,t.As)}static _s(e,t){return ne(e.As,t.As)||N.comparator(e.key,t.key)}}class wfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ye(Kt.ds)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new XI(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Kt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,t){return b.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),r=new Kt(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ye(ne);return t.forEach(r=>{const o=new Kt(r,0),s=new Kt(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),b.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;N.isDocumentKey(o)||(o=o.child(""));const s=new Kt(new N(o),0);let a=new Ye(ne);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},s),b.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){G(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return b.forEach(t.mutations,r=>{const o=new Kt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Kt(t,0),r=this.Rs.firstAfterOrEqual(i);return b.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return b.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cfe{constructor(e){this.Ds=e,this.docs=new qe(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return b.resolve(i?i.document.mutableCopy():Qe.newInvalidDocument(t))}getEntries(e,t){let i=Wn();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Qe.newInvalidDocument(r))}),b.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Wn();const s=t.path,a=new N(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||NI(Q4(d),i)<=0||(r.has(d.key)||Ou(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,t,i,r){B()}Cs(e,t){return b.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Efe(this)}getSize(e){return b.resolve(this.size)}}class Efe extends jU{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),b.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Dfe{constructor(e){this.persistence=e,this.xs=new Yr(t=>Hs(t),Au),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new pT,this.targetCount=0,this.Ms=Xs.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),b.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Xs(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.Fn(t),b.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),b.waitFor(o).next(()=>r)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return b.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),b.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),b.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return b.resolve(i)}containsKey(e,t){return b.resolve(this.ks.containsKey(t))}}class mT{constructor(e,t){this.$s={},this.overlays={},this.Os=new si(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Dfe(this),this.indexManager=new ufe,this.remoteDocumentCache=new Cfe(i=>this.referenceDelegate.Ls(i)),this.serializer=new yU(t),this.qs=new bfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xfe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new wfe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){S("MemoryPersistence","Starting transaction:",e);const r=new Ife(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return b.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class Ife extends Z4{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Qs=new pT,this.js=null}static zs(e){return new Rg(e)}get Ws(){if(this.js)return this.js;throw B()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),b.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),b.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ws,i=>{const r=N.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,q.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return b.or([()=>b.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class vT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=de(),r=de();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new vT(e,t.fromCache,i,r)}}class WU{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(A5(t))return b.resolve(null);let i=Fn(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=yg(t,null,"F"),i=Fn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=de(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,yg(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,i,r){return A5(t)||r.isEqual(q.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(RI()<=Ee.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),KI(t)),this.Wi(e,s,t,function Y4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=q.fromTimestamp(1e9===i?new it(t+1,0):new it(t,i));return new oi(r,N.empty(),e)}(r,-1)))})}ji(e,t){let i=new Ye(P5(e));return t.forEach((r,o)=>{Ou(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return RI()<=Ee.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",KI(t)),this.Ui.getDocumentsMatchingQuery(e,t,oi.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class kfe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new qe(ne),this.Yi=new Yr(o=>Hs(o),Au),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function YU(n,e){return bT.apply(this,arguments)}function bT(){return bT=g(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=de();for(const l of r){s.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}for(const l of o){a.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(i,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),bT.apply(this,arguments)}function QU(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Afe(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Gc(n,e,t){return xT.apply(this,arguments)}function xT(){return xT=g(function*(n,e,t){const i=F(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ro(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),xT.apply(this,arguments)}function Ng(n,e,t){const i=F(n);let r=q.min(),o=de();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const d=F(a),u=d.Yi.get(l);return void 0!==u?b.resolve(d.Ji.get(u)):d.Bs.getTargetData(c,l)}(i,s,Fn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:q.min(),t?o:de())).next(a=>(function e3(n,e,t){let i=n.Xi.get(e)||q.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function O5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class IT{constructor(){this.activeTargetIds=function YI(){return Ohe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r3{constructor(){this.Hr=new IT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new IT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pfe{Yr(e){}shutdown(){}}class o3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vg=null;function kT(){return null===Vg?Vg=268435456+Math.round(2147483648*Math.random()):Vg++,"0x"+Vg.toString(16)}const Nfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ffe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const wn="WebChannelConnection";class Lfe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=kT(),a=this.To(e,t);S("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const c={};return this.Eo(c,r,o),this.Ao(e,a,c,i).then(l=>(S("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw Bi("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",i),l})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${Nfe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=kT();return new Promise((s,a)=>{const c=new Lue;c.setWithCredentials(!0),c.listenOnce(Pue.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case AI.NO_ERROR:const d=c.getResponseJson();S(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case AI.TIMEOUT:S(wn,`RPC '${e}' ${o} timed out`),a(new M(x.DEADLINE_EXCEEDED,"Request time out"));break;case AI.HTTP_ERROR:const u=c.getStatus();if(S(wn,`RPC '${e}' ${o} failed with status:`,u,"response text:",c.getResponseText()),u>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(_)>=0?_:x.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new M(x.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{S(wn,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);S(wn,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}Ro(e,t,i){const r=kT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Rue(),a=Oue(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Fue({})),this.Eo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const d=o.join("");S(wn,`Creating RPC '${e}' stream ${r}: ${d}`,c);const u=s.createWebChannel(d,c);let h=!1,f=!1;const p=new Ffe({ro:_=>{f?S(wn,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(h||(S(wn,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),S(wn,`RPC '${e}' stream ${r} sending:`,_),u.send(_))},oo:()=>u.close()}),m=(_,v,y)=>{_.listen(v,C=>{try{y(C)}catch(R){setTimeout(()=>{throw R},0)}})};return m(u,rg.EventType.OPEN,()=>{f||S(wn,`RPC '${e}' stream ${r} transport opened.`)}),m(u,rg.EventType.CLOSE,()=>{f||(f=!0,S(wn,`RPC '${e}' stream ${r} transport closed`),p.wo())}),m(u,rg.EventType.ERROR,_=>{f||(f=!0,Bi(wn,`RPC '${e}' stream ${r} transport errored:`,_),p.wo(new M(x.UNAVAILABLE,"The operation could not be completed")))}),m(u,rg.EventType.MESSAGE,_=>{var v;if(!f){const y=_.data[0];G(!!y);const R=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(R){S(wn,`RPC '${e}' stream ${r} received error:`,R);const j=R.status;let W=function(Ue){const St=Tt[Ue];if(void 0!==St)return Z5(St)}(j),ae=R.message;void 0===W&&(W=x.INTERNAL,ae="Unknown error status: "+j+" with message "+R.message),f=!0,p.wo(new M(W,ae)),u.close()}else S(wn,`RPC '${e}' stream ${r} received:`,y),p._o(y)}}),m(a,Nue.STAT_EVENT,_=>{_.stat===z4.PROXY?S(wn,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===z4.NOPROXY&&S(wn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Bg(){return typeof document<"u"?document:null}function Zu(n){return new Whe(n,!0)}class MT{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&S("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class a3{constructor(e,t,i,r,o,s,a,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new MT(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return g(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(yt(t.toString()),yt("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===x.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new M(x.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vfe extends a3{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Qhe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:B(),r=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(G(void 0===l||"string"==typeof l),Vt.fromBase64String(l||"")):(G(void 0===l||l instanceof Uint8Array),Vt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?x.UNKNOWN:Z5(c.code);return new M(l,c.message||"")}(s);t=new iU(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=gr(n,i.document.name),o=bt(i.document.updateTime),s=i.document.createTime?bt(i.document.createTime):q.min(),a=new un({mapValue:{fields:i.document.fields}}),c=Qe.newFoundDocument(r,o,s,a);t=new Cg(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=gr(n,i.document),o=i.readTime?bt(i.readTime):q.min(),s=Qe.newNoDocument(r,o);t=new Cg([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=gr(n,i.document);t=new Cg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return B();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new Uhe(r,o);t=new nU(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return q.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?bt(o.readTime):q.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Hu(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=mg(a)?{documents:fU(r,a)}:{query:sT(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=aU(r,o.resumeToken);const c=nT(r,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(q.min())>0){s.readTime=jc(r,o.snapshotVersion.toTimestamp());const c=nT(r,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const i=function Zhe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Hu(this.serializer),t.removeTarget=e,this.Wo(t)}}class Bfe extends a3{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Xhe(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(i,r){let o=bt(i.updateTime?i.updateTime:r);return o.isEqual(q.min())&&(o=bt(r)),new Lhe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=bt(e.commitTime);return this.listener.cu(i,t)}return G(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hu(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function zu(n,e){let t;if(e instanceof Vc)t={update:uU(n,e.key,e.value)};else if(e instanceof Bc)t={delete:Uu(n,e.key)};else if(e instanceof Qr)t={update:uU(n,e.key,e.data),updateMask:nfe(e.fieldMask)};else{if(!(e instanceof QI))return B();t={verify:Uu(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof Fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof $s)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Gs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Lc)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw B()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Khe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:B()),t;var r}(this.serializer,i))};this.Wo(t)}}class jfe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new M(x.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new M(x.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(x.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Hfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(yt(t),this.mu=!1):S("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class zfe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(g(function*(){var c;zo(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(c=g(function*(l){const d=F(l);d.vu.add(4),yield qc(d),d.bu.set("Unknown"),d.vu.delete(4),yield Ju(d)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new Hfe(i,r)}}function Ju(n){return AT.apply(this,arguments)}function AT(){return AT=g(function*(n){if(zo(n))for(const e of n.Ru)yield e(!0)}),AT.apply(this,arguments)}function qc(n){return RT.apply(this,arguments)}function RT(){return RT=g(function*(n){for(const e of n.Ru)yield e(!1)}),RT.apply(this,arguments)}function jg(n,e){const t=F(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),NT(t)?PT(t):Kc(t).Ko()&&OT(t,e))}function eh(n,e){const t=F(n),i=Kc(t);t.Au.delete(e),i.Ko()&&c3(t,e),0===t.Au.size&&(i.Ko()?i.jo():zo(t)&&t.bu.set("Unknown"))}function OT(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kc(n).su(e)}function c3(n,e){n.Vu.qt(e),Kc(n).iu(e)}function PT(n){n.Vu=new zhe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Kc(n).start(),n.bu.gu()}function NT(n){return zo(n)&&!Kc(n).Uo()&&n.Au.size>0}function zo(n){return 0===F(n).vu.size}function l3(n){n.Vu=void 0}function $fe(n){return FT.apply(this,arguments)}function FT(){return FT=g(function*(n){n.Au.forEach((e,t)=>{OT(n,e)})}),FT.apply(this,arguments)}function Gfe(n,e){return LT.apply(this,arguments)}function LT(){return LT=g(function*(n,e){l3(n),NT(n)?(n.bu.Iu(e),PT(n)):n.bu.set("Unknown")}),LT.apply(this,arguments)}function qfe(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof iU&&2===e.state&&e.cause)try{yield(i=g(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ug(n,i)}else if(e instanceof Cg?n.Vu.Ht(e):e instanceof nU?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(q.min()))try{const i=yield QU(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(Vt.EMPTY_BYTE_STRING,l.snapshotVersion)),c3(r,a);const d=new Xr(l.target,a,c,l.sequenceNumber);OT(r,d)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){S("RemoteStore","Failed to raise snapshot:",i),yield Ug(n,i)}var i}),VT.apply(this,arguments)}function Ug(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=g(function*(n,e,t){if(!Ro(e))throw e;n.vu.add(1),yield qc(n),n.bu.set("Offline"),t||(t=()=>QU(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Ju(n)}))}),BT.apply(this,arguments)}function d3(n,e){return e().catch(t=>Ug(n,t,e))}function Wc(n){return jT.apply(this,arguments)}function jT(){return jT=g(function*(n){const e=F(n),t=$o(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Wfe(e);)try{const r=yield Afe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,Kfe(e,r)}catch(r){yield Ug(e,r)}u3(e)&&h3(e)}),jT.apply(this,arguments)}function Wfe(n){return zo(n)&&n.Eu.length<10}function Kfe(n,e){n.Eu.push(e);const t=$o(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function u3(n){return zo(n)&&!$o(n).Uo()&&n.Eu.length>0}function h3(n){$o(n).start()}function Yfe(n){return UT.apply(this,arguments)}function UT(){return UT=g(function*(n){$o(n).hu()}),UT.apply(this,arguments)}function Qfe(n){return HT.apply(this,arguments)}function HT(){return HT=g(function*(n){const e=$o(n);for(const t of n.Eu)e.uu(t.mutations)}),HT.apply(this,arguments)}function Xfe(n,e,t){return zT.apply(this,arguments)}function zT(){return zT=g(function*(n,e,t){const i=n.Eu.shift(),r=ZI.from(i,e,t);yield d3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Wc(n)}),zT.apply(this,arguments)}function Zfe(n,e){return $T.apply(this,arguments)}function $T(){return $T=g(function*(n,e){var t;e&&$o(n).ou&&(yield(t=g(function*(i,r){if(function X5(n){switch(n){default:return B();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}(o=r.code)&&o!==x.ABORTED){const s=i.Eu.shift();$o(i).Qo(),yield d3(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Wc(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),u3(n)&&h3(n)}),$T.apply(this,arguments)}function f3(n,e){return GT.apply(this,arguments)}function GT(){return GT=g(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const i=zo(t);t.vu.add(3),yield qc(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ju(t)}),GT.apply(this,arguments)}function WT(){return WT=g(function*(n,e){const t=F(n);e?(t.vu.delete(2),yield Ju(t)):e||(t.vu.add(2),yield qc(t),t.bu.set("Unknown"))}),WT.apply(this,arguments)}function Kc(n){return n.Su||(n.Su=function(e,t,i){const r=F(e);return r.fu(),new Vfe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:$fe.bind(null,n),ao:Gfe.bind(null,n),nu:qfe.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),NT(n)?PT(n):n.bu.set("Unknown")):(yield n.Su.stop(),l3(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function $o(n){return n.Du||(n.Du=function(e,t,i){const r=F(e);return r.fu(),new Bfe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Yfe.bind(null,n),ao:Zfe.bind(null,n),au:Qfe.bind(null,n),cu:Xfe.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield Wc(n)):(yield n.Du.stop(),n.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class KT{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new KT(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yc(n,e){if(yt("AsyncQueue",`${e}: ${n}`),Ro(n))return new M(x.UNAVAILABLE,`${e}: ${n}`);throw n}class Qc{constructor(e){this.comparator=e?(t,i)=>e(t,i)||N.comparator(t.key,i.key):(t,i)=>N.comparator(t.key,i.key),this.keyedMap=Pu(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Qc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Qc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class p3{constructor(){this.Cu=new qe(N.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):B():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xc{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Xc(e,t,Qc.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Jfe{constructor(){this.Nu=void 0,this.listeners=[]}}class epe{constructor(){this.queries=new Yr(e=>R5(e),Ru),this.onlineState="Unknown",this.ku=new Set}}function QT(){return QT=g(function*(n,e){const t=F(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Jfe),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=Yc(s,`Initialization of query '${KI(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&JT(t)}),QT.apply(this,arguments)}function ZT(){return ZT=g(function*(n,e){const t=F(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),ZT.apply(this,arguments)}function tpe(n,e){const t=F(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&JT(t)}function npe(n,e,t){const i=F(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function JT(n){n.ku.forEach(e=>{e.next()})}class ek{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Xc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class _3{constructor(e){this.key=e}}class y3{constructor(e){this.key=e}}class v3{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=de(),this.mutatedKeys=de(),this.tc=P5(e),this.ec=new Qc(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new p3,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,u)=>{const h=r.get(d),f=Ou(this.query,u)?u:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),_=!0):this.rc(h,f)||(i.track({type:2,doc:f}),_=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),_=!0):h&&!f&&(i.track({type:1,doc:h}),_=!0,(c||l)&&(a=!0)),_&&(f?(s=s.add(f),o=m?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,d)=>function(u,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return f(u)-f(h)}(l.type,d.type)||this.tc(l.doc,d.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new Xc(this.query,e.ec,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new p3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=de(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new y3(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new _3(i))}),t}hc(e){this.Yu=e.ir,this.Zu=de();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Xc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ope{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class spe{constructor(e){this.key=e,this.fc=!1}}class ape{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Yr(a=>R5(a),Ru),this._c=new Map,this.mc=new Set,this.gc=new qe(N.comparator),this.yc=new Map,this.Ic=new pT,this.Tc={},this.Ec=new Map,this.Ac=Xs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function cpe(n,e){return tk.apply(this,arguments)}function tk(){return tk=g(function*(n,e){const t=function Ek(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=b3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_pe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=upe.bind(null,e),e.dc.nu=tpe.bind(null,e.eventManager),e.dc.Pc=npe.bind(null,e.eventManager),e}(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield function $c(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,b.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new Xr(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Fn(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function nk(n,e,t,i,r){return ik.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&jg(t.remoteStore,s)}return r}),tk.apply(this,arguments)}function ik(){return ik=g(function*(n,e,t,i,r){n.Rc=(u,h,f)=>{return(p=g(function*(m,_,v,y){let C=_.view.sc(v);C.zi&&(C=yield Ng(m.localStore,_.query,!1).then(({documents:W})=>_.view.sc(W,C)));const R=y&&y.targetChanges.get(_.targetId),j=_.view.applyChanges(C,m.isPrimaryClient,R);return fk(m,_.targetId,j.cc),j.snapshot}),function(m,_,v,y){return p.apply(this,arguments)})(n,u,h,f);var p};const o=yield Ng(n.localStore,e,!0),s=new v3(e,o.ir),a=s.sc(o.documents),c=ju.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);fk(n,t,l.cc);const d=new ope(e,t,s);return n.wc.set(e,d),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),ik.apply(this,arguments)}function lpe(n,e){return rk.apply(this,arguments)}function rk(){return rk=g(function*(n,e){const t=F(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!Ru(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Gc(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),eh(t.remoteStore,i.targetId),Zc(t,i.targetId)}).catch(Ao))):(Zc(t,i.targetId),yield Gc(t.localStore,i.targetId,!0))}),rk.apply(this,arguments)}function ok(){return ok=g(function*(n,e,t){const i=function Dk(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fpe.bind(null,e),e}(n);try{const r=yield function(o,s){const a=F(o),c=it.now(),l=s.reduce((h,f)=>h.add(f.key),de());let d,u;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Wn(),p=de();return a.Zi.getEntries(h,l).next(m=>{f=m,f.forEach((_,v)=>{v.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{d=m;const _=[];for(const v of s){const y=Bhe(v,d.get(v.key).overlayedDocument);null!=y&&_.push(new Qr(v.key,y,y5(y.value.mapValue),Je.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,_,s)}).next(m=>{u=m;const _=m.applyToLocalDocumentSet(d,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:u.batchId,changes:F5(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new qe(ne)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(i,r.batchId,t),yield Zr(i,r.changes),yield Wc(i.remoteStore)}catch(r){const o=Yc(r,"Failed to persist write");t.reject(o)}}),ok.apply(this,arguments)}function b3(n,e){return sk.apply(this,arguments)}function sk(){return sk=g(function*(n,e){const t=F(n);try{const i=yield function Sfe(n,e){const t=F(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((d,u)=>{const h=r.get(u);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,d.removedDocuments,u).next(()=>t.Bs.addMatchingKeys(o,d.addedDocuments,u)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,_;null!==e.targetMismatches.get(u)?f=f.withResumeToken(Vt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,i)),r=r.insert(u,f),m=f,_=d,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,f))});let c=Wn(),l=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function XU(n,e,t){let i=de(),r=de();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Wn();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(d=>{c=d.nr,l=d.sr})),!i.isEqual(q.min())){const d=t.Bs.getLastRemoteSnapshotVersion(o).next(u=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(G(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?G(s.fc):r.removedDocuments.size>0&&(G(s.fc),s.fc=!1))}),yield Zr(t,i,e)}catch(i){yield Ao(i)}}),sk.apply(this,arguments)}function x3(n,e,t){const i=F(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=F(o);a.onlineState=s;let c=!1;a.queries.forEach((l,d)=>{for(const u of d.listeners)u.Mu(s)&&(c=!0)}),c&&JT(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function upe(n,e,t){return ak.apply(this,arguments)}function ak(){return ak=g(function*(n,e,t){const i=F(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new qe(N.comparator);s=s.insert(o,Qe.newNoDocument(o,q.min()));const a=de().add(o),c=new Bu(q.min(),new Map,new qe(ne),s,a);yield b3(i,c),i.gc=i.gc.remove(o),i.yc.delete(e),pk(i)}else yield Gc(i.localStore,e,!1).then(()=>Zc(i,e,t)).catch(Ao)}),ak.apply(this,arguments)}function hpe(n,e){return ck.apply(this,arguments)}function ck(){return ck=g(function*(n,e){const t=F(n),i=e.batch.batchId;try{const r=yield function Mfe(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const d=c.batch,u=d.keys();let h=b.resolve();return u.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const m=c.docVersions.get(f);G(null!==m),p.version.compareTo(m)<0&&(d.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,d))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=de();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);hk(t,i,null),uk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Zr(t,r)}catch(r){yield Ao(r)}}),ck.apply(this,arguments)}function fpe(n,e,t){return lk.apply(this,arguments)}function lk(){return lk=g(function*(n,e,t){const i=F(n);try{const r=yield function(o,s){const a=F(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(d=>(G(null!==d),l=d.keys(),a.mutationQueue.removeMutationBatch(c,d))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(i.localStore,e);hk(i,e,t),uk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Zr(i,r)}catch(r){yield Ao(r)}}),lk.apply(this,arguments)}function uk(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function hk(n,e,t){const i=F(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Zc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||w3(n,i)})}function w3(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(eh(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),pk(n))}function fk(n,e,t){for(const i of t)i instanceof _3?(n.Ic.addReference(i.key,e),mpe(n,i)):i instanceof y3?(S("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||w3(n,i.key)):B()}function mpe(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(S("SyncEngine","New document in limbo: "+t),n.mc.add(i),pk(n))}function pk(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new N(De.fromString(e)),i=n.Ac.next();n.yc.set(i,new spe(t)),n.gc=n.gc.insert(t,i),jg(n.remoteStore,new Xr(Fn(Nc(t.path)),i,"TargetPurposeLimboResolution",si.ct))}}function Zr(n,e,t){return mk.apply(this,arguments)}function mk(){return mk=g(function*(n,e,t){const i=F(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,c)=>{s.push(i.Rc(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const d=vT.Li(c.targetId,l);o.push(d)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=g(function*(c,l){const d=F(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>b.forEach(l,h=>b.forEach(h.Fi,f=>d.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>b.forEach(h.Bi,f=>d.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Ro(u))throw u;S("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=d.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);d.Ji=d.Ji.insert(h,m)}}}),function(c,l){return a.apply(this,arguments)})(i.localStore,o))}),mk.apply(this,arguments)}function gpe(n,e){return gk.apply(this,arguments)}function gk(){return gk=g(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const i=yield YU(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new M(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Zr(t,i.er)}var r}),gk.apply(this,arguments)}function _pe(n,e){const t=F(n),i=t.yc.get(e);if(i&&i.fc)return de().add(i.key);{let r=de();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}class Jc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=Zu(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function KU(n,e,t,i){return new kfe(n,e,t,i)}(this.persistence,new WU,e.initialUser,this.serializer)}createPersistence(e){return new mT(Rg.zs,this.serializer)}createSharedClientState(e){return new r3}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class el{initialize(e,t){var i=this;return g(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>x3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gpe.bind(null,i.syncEngine),yield function qT(n,e){return WT.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new epe}createDatastore(e){const t=Zu(e.databaseInfo.databaseId),i=new Lfe(e.databaseInfo);return new jfe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>x3(this.syncEngine,a,0),s=o3.D()?new o3:new Pfe,new zfe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,c,l){const d=new ape(i,r,o,s,a,c);return l&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=g(function*(t){const i=F(t);S("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield qc(i),i.Pu.shutdown(),i.bu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}class Hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):yt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Spe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=qt.UNAUTHENTICATED,this.clientId=W4.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Yc(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function zg(n,e){return Tk.apply(this,arguments)}function Tk(){return Tk=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=g(function*(o){i.isEqual(o)||(yield YU(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Tk.apply(this,arguments)}function kk(n,e){return Mk.apply(this,arguments)}function Mk(){return Mk=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function Sk(n){return Ak.apply(this,arguments)}(n);S("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>f3(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>f3(e.remoteStore,o)),n._onlineComponents=e}),Mk.apply(this,arguments)}function Ak(){return Ak=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function T3(n){return"FirebaseError"===n.name?n.code===x.FAILED_PRECONDITION||n.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Bi("Error using user provided cache. Falling back to memory cache: "+t),yield zg(n,new Jc)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield zg(n,new Jc);return n._offlineComponents}),Ak.apply(this,arguments)}function $g(n){return Rk.apply(this,arguments)}function Rk(){return Rk=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield kk(n,n._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield kk(n,new el))),n._onlineComponents}),Rk.apply(this,arguments)}function tl(n){return Pk.apply(this,arguments)}function Pk(){return Pk=g(function*(n){const e=yield $g(n),t=e.eventManager;return t.onListen=cpe.bind(null,e.syncEngine),t.onUnlisten=lpe.bind(null,e.syncEngine),t}),Pk.apply(this,arguments)}function O3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const P3=new Map;function Nk(n,e,t){if(!t)throw new M(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function N3(n){if(!N.isDocumentKey(n))throw new M(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F3(n){if(N.isDocumentKey(n))throw new M(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":B()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qg(n);throw new M(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class V3{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new M(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Bpe(n,e,t,i){if(!0===e&&!0===i)throw new M(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=O3(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new M(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new M(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new M(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Bue;switch(t.type){case"firstParty":return new zue(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new M(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=P3.get(e);t&&(S("ComponentProvider","Removing Datastore"),P3.delete(e),t.terminate())}(this),Promise.resolve()}}class xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}}class hn{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hn(this.firestore,e,this._query)}}class _r extends hn{constructor(e,t,i){super(e,t,Nc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new N(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function Upe(n,e,...t){if(n=Dt(n),Nk("collection","path",e),n instanceof th){const i=De.fromString(e,...t);return F3(i),new _r(n,null,i)}{if(!(n instanceof xt||n instanceof _r))throw new M(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(De.fromString(e,...t));return F3(i),new _r(n.firestore,null,i)}}function B3(n,e,...t){if(n=Dt(n),1===arguments.length&&(e=W4.A()),Nk("doc","path",e),n instanceof th){const i=De.fromString(e,...t);return N3(i),new xt(n,null,new N(i))}{if(!(n instanceof xt||n instanceof _r))throw new M(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(De.fromString(e,...t));return N3(i),new xt(n.firestore,n instanceof _r?n.converter:null,new N(i))}}class Hpe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new MT(this,"async_queue_retry"),this.Xc=()=>{const t=Bg();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Bg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Bg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Lt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ro(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,yt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=KT.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&B()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Fk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Xe extends th{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Hpe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||U3(this),this._firestoreClient.terminate()}}function $pe(n,e){const i="string"==typeof n?n:e||"(default)",r=nm("object"==typeof n?n:B2(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=Xp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]})("firestore");o&&function jpe(n,e,t,i={}){var r;const o=(n=ve(n,th))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=qt.MOCK_USER;else{a=function Rne(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yp(JSON.stringify({alg:"none",type:"JWT"})),Yp(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new M(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new qt(l)}n._authCredentials=new jue(new G4(a,c))}}(r,...o)}return r}function kt(n){return n._firestoreClient||U3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function U3(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new yhe(n._databaseId,a,n._persistenceKey,(l=r).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,O3(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new Spe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(Vt.fromBase64String(e))}catch(t){throw new M(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Js(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ea{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nl{constructor(e){this._methodName=e}}class Lk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const qpe=/^__.*__$/;class Wpe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Qr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vc(e,this.data,t,this.fieldTransforms)}}class $3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Qr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function G3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Wg{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Qg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(G3(this.ca)&&qpe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Kpe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Zu(e)}ya(e,t,i,r=!1){return new Wg({ca:e,methodName:t,ga:i,path:vt.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ta(n){const e=n._freezeSettings(),t=Zu(n._databaseId);return new Kpe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Kg(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);Uk("Data must be an object, but it was:",s,i);const a=K3(i,s);let c,l;if(o.merge)c=new qn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const u of o.mergeFields){const h=rh(e,u,t);if(!s.contains(h))throw new M(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Q3(d,h)||d.push(h)}c=new qn(d),l=s.fieldTransforms.filter(u=>c.covers(u.field))}else c=null,l=s.fieldTransforms;return new Wpe(new un(a),c,l)}class ih extends nl{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}function Bk(n,e,t,i){const r=n.ya(1,e,t);Uk("Data must be an object, but it was:",r,i);const o=[],s=un.empty();Oo(i,(c,l)=>{const d=Yg(e,c,t);l=Dt(l);const u=r.da(d);if(l instanceof ih)o.push(d);else{const h=na(l,u);null!=h&&(o.push(d),s.set(d,h))}});const a=new qn(o);return new $3(s,a,r.fieldTransforms)}function jk(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[rh(e,i,t)],c=[r];if(o.length%2!=0)throw new M(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(rh(e,o[h])),c.push(o[h+1]);const l=[],d=un.empty();for(let h=a.length-1;h>=0;--h)if(!Q3(l,a[h])){const f=a[h];let p=c[h];p=Dt(p);const m=s.da(f);if(p instanceof ih)l.push(f);else{const _=na(p,m);null!=_&&(l.push(f),d.set(f,_))}}const u=new qn(l);return new $3(d,u,s.fieldTransforms)}function na(n,e){if(Y3(n=Dt(n)))return Uk("Unsupported field value:",e,n),K3(n,e);if(n instanceof nl)return function(t,i){if(!G3(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=na(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=Dt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return j5(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=it.fromDate(t);return{timestampValue:jc(i.serializer,r)}}if(t instanceof it){const r=new it(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:jc(i.serializer,r)}}if(t instanceof Lk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Js)return{bytesValue:aU(i.serializer,t._byteString)};if(t instanceof xt){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:iT(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${qg(t)}`)}(n,e)}function K3(n,e){const t={};return l5(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(n,(i,r)=>{const o=na(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function Y3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof it||n instanceof Lk||n instanceof Js||n instanceof xt||n instanceof nl)}function Uk(n,e,t){if(!Y3(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=qg(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function rh(n,e,t){if((e=Dt(e))instanceof ea)return e._internalPath;if("string"==typeof e)return Yg(n,e);throw Qg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zpe=new RegExp("[~\\*/\\[\\]]");function Yg(n,e,t){if(e.search(Zpe)>=0)throw Qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ea(...e.split("."))._internalPath}catch{throw Qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qg(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new M(x.INVALID_ARGUMENT,a+n+c)}function Q3(n,e){return n.some(t=>t.isEqual(e))}class oh{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jpe extends oh{data(){return super.data()}}function Xg(n,e){return"string"==typeof e?Yg(n,e):e instanceof ea?e._internalPath:e._delegate._internalPath}class Hk{}class sh extends Hk{}function eme(n,e,...t){let i=[];e instanceof Hk&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof il).length,s=r.filter(a=>a instanceof ah).length;if(o>1||o>0&&s>0)throw new M(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class ah extends sh{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ah(e,t,i)}_apply(e){const t=this._parse(e);return tH(e._query,t),new hn(e.firestore,e.converter,WI(e._query,t))}_parse(e){const t=ta(e.firestore);return function(r,o,s,a,c,l,d){let u;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new M(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){eH(d,l);const h=[];for(const f of d)h.push(J3(a,r,f));u={arrayValue:{values:h}}}else u=J3(a,r,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||eH(d,l),u=function W3(n,e,t,i=!1){return na(t,n.ya(i?4:3,e))}(s,"where",d,"in"===l||"not-in"===l);return me.create(c,l,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class il extends Hk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new il(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Le.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)tH(o,a),o=WI(o,a)}(e._query,t),new hn(e.firestore,e.converter,WI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zk extends sh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zk(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new M(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new M(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new Oc(r,o);return function(a,c){if(null===GI(a)){const l=_g(a);null!==l&&nH(0,l,c.field)}}(i,s),s}(e._query,this._field,this._direction);return new hn(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Kr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function tme(n,e="asc"){const t=e,i=Xg("orderBy",n);return zk._create(i,t)}function J3(n,e,t){if("string"==typeof(t=Dt(t))){if(""===t)throw new M(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qI(e)&&-1!==t.indexOf("/"))throw new M(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(De.fromString(t));if(!N.isDocumentKey(i))throw new M(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Us(n,new N(i))}if(t instanceof xt)return Us(n,t._key);throw new M(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(t)}.`)}function eH(n,e){if(!Array.isArray(n)||0===n.length)throw new M(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tH(n,e){if(e.isInequality()){const i=_g(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new M(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=GI(n);null!==o&&nH(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new M(x.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nH(n,e,t){if(!t.isEqual(e))throw new M(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class rH{convertValue(e,t="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw B()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Oo(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new Lk(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ug(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=Po(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=De.fromString(e);G(_U(i));const r=new js(i.get(1),i.get(3)),o=new N(i.popFirst(5));return r.isEqual(t)||yt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function t_(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ia{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rl extends oh{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new n_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Xg("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class n_ extends rl{data(e={}){return super.data(e)}}class ol{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ia(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new n_(this._firestore,this._userDataWriter,i.key,i,new ia(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new n_(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ia(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new n_(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ia(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:rme(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}class Go extends rH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function ome(n,e,t){n=ve(n,xt);const i=ve(n.firestore,Xe),r=t_(n.converter,e,t);return ch(i,[Kg(ta(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Je.none())])}function sme(n,e,t,...i){n=ve(n,xt);const r=ve(n.firestore,Xe),o=ta(r);let s;return s="string"==typeof(e=Dt(e))||e instanceof ea?jk(o,"updateDoc",n._key,e,t,i):Bk(o,"updateDoc",n._key,e),ch(r,[s.toMutation(n._key,Je.exists(!0))])}function ame(n){return ch(ve(n.firestore,Xe),[new Bc(n._key,Je.none())])}function cme(n,e){const t=ve(n.firestore,Xe),i=B3(n),r=t_(n.converter,e);return ch(t,[Kg(ta(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Je.exists(!1))]).then(()=>i)}function ch(n,e){return function(t,i){const r=new Lt;return t.asyncQueue.enqueueAndForget(g(function*(){return function dpe(n,e,t){return ok.apply(this,arguments)}(yield function Ok(n){return $g(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(kt(n),e)}class vme{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ta(e)}set(e,t,i){this._verifyNotCommitted();const r=qo(e,this._firestore),o=t_(r.converter,t,i),s=Kg(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Je.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=qo(e,this._firestore);let s;return s="string"==typeof(t=Dt(t))||t instanceof ea?jk(this._dataReader,"WriteBatch.update",o._key,t,i,r):Bk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Je.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qo(e,this._firestore);return this._mutations=this._mutations.concat(new Bc(t._key,Je.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qo(n,e){if((n=Dt(n)).firestore!==e)throw new M(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function xme(n){return kt(n=ve(n,Xe)),new vme(n,e=>ch(n,e))}!function(n,e=!0){Mc=Ld,On(new _n("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new Xe(new Uue(t.getProvider("auth-internal")),new $ue(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(a.options.projectId,c)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),_t($4,"3.13.0",n),_t($4,"3.13.0","esm2017")}();var i_=function(){return i_=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i_.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var wme={includeMetadataChanges:!1};function qk(n,e){return void 0===e&&(e=wme),new Ve(function(t){var i=function lme(n,...e){var t,i,r;n=Dt(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Fk(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Fk(e[s])){const u=e[s];e[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),e[s+1]=null===(i=u.error)||void 0===i?void 0:i.bind(u),e[s+2]=null===(r=u.complete)||void 0===r?void 0:r.bind(u)}let c,l,d;if(n instanceof xt)l=ve(n.firestore,Xe),d=Nc(n._key.path),c={next:u=>{e[s]&&e[s](function $k(n,e,t){const i=t.docs.get(e._key),r=new Go(n);return new rl(n,r,e._key,i,new ia(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,u))},error:e[s+1],complete:e[s+2]};else{const u=ve(n,hn);l=ve(u.firestore,Xe),d=u._query;const h=new Go(l);c={next:f=>{e[s]&&e[s](new ol(l,h,u,f))},error:e[s+1],complete:e[s+2]},function X3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(u,h,f,p){const m=new Hg(p),_=new ek(h,m,f);return u.asyncQueue.enqueueAndForget(g(function*(){return function YT(n,e){return QT.apply(this,arguments)}(yield tl(u),_)})),()=>{m.Dc(),u.asyncQueue.enqueueAndForget(g(function*(){return function XT(n,e){return ZT.apply(this,arguments)}(yield tl(u),_)}))}}(kt(l),d,a,c)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function Mme(n,e){return void 0===e&&(e={}),function kme(n){return qk(n,{includeMetadataChanges:!0}).pipe(We(function(e){return e.docs}))}(n).pipe(We(function(t){return t.map(function(i){return function sH(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?i_(i_({},i),((t={})[e.idField]=n.id,t)):i}(i,e)})}))}class r_{constructor(e){return e}}const dH="firestore",Yk=new A("angularfire2.firestore-instances");function Ome(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new r_(i)}}const Pme={provide:class Ame{constructor(){return _C(dH)}},deps:[[new Pt,Yk]]},Nme={provide:r_,useFactory:function Rme(n,e){const t=function gC(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(dH,n,e);return t&&new r_(t)},deps:[[new Pt,Yk],gc]};let Fme=(()=>{class n{constructor(){_t("angularfire",cC.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ye({type:n}),n.\u0275inj=fe({providers:[Nme,Pme]}),n})();function Lme(n,...e){return{ngModule:Fme,providers:[{provide:Yk,useFactory:Ome(n),multi:!0,deps:[he,on,XV,ZV,[new Pt,rj],[new Pt,Ij],...e]}]}}const Vme=bi(Mme,!0),Bme=bi(cme,!0),uH=bi(Upe,!0),jme=bi(ame,!0),o_=bi(B3,!0),Ume=bi($pe,!0),Hme=bi(tme,!0),zme=bi(eme,!0),$me=bi(ome,!0),Gme=bi(sme,!0),qme=bi(xme,!0);let hH=(()=>{class n{constructor(t){this.firestore=t,this.collectionPath="tasks"}getTasks(){const t=uH(this.firestore,this.collectionPath),i=zme(t,Hme("dueDate","asc"));return Vme(i,{idField:"id"})}addTask(t){const i=uH(this.firestore,this.collectionPath);return Bme(i,{...t,createdAt:t.createdAt||new Date})}updateTask(t,i){const r=o_(this.firestore,`${this.collectionPath}/${t}`);return Gme(r,i)}deleteTask(t){const i=o_(this.firestore,`${this.collectionPath}/${t}`);return jme(i)}setTask(t,i){const r=o_(this.firestore,`${this.collectionPath}/${t}`);return $me(r,{...i,createdAt:i.createdAt||new Date})}deleteAllTasks(t){const i=qme(this.firestore);return t.forEach(r=>{const o=o_(this.firestore,`${this.collectionPath}/${r}`);i.delete(o)}),i.commit()}static{this.\u0275fac=function(i){return new(i||n)(D(r_))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Wme=["logScrollContainer"];function Kme(n,e){if(1&n&&(w(0,"p",13),H(1),I()),2&n){const t=le();P(1),jt(t.statusMessage)}}function Yme(n,e){if(1&n&&(w(0,"div",14)(1,"div",15),te(2,"div",16),I(),w(3,"div",17)(4,"span"),H(5),I(),w(6,"span")(7,"span",18),H(8),I(),w(9,"span",19),H(10," | "),I(),w(11,"span",20),H(12),I()()()()),2&n){const t=le();P(2),ed("width",t.uploadProgress,"%"),P(3),ei("",t.uploadProgress,"% Complete"),P(3),ei("",t.successCount," Successful"),P(4),ei("",t.errorCount," Errors")}}function Qme(n,e){if(1&n&&(w(0,"div",21),H(1),I()),2&n){const t=e.$implicit;ee("className","log-line "+t.type),P(1),ei(" ",t.message," ")}}function Xme(n,e){1&n&&(w(0,"div",22),te(1,"i",23),H(2," Ready for upload sequence... "),I())}let Zme=(()=>{class n{constructor(t){this.taskService=t,this.tasks=[],this.statusMessage="No file selected.",this.isUploading=!1,this.uploadProgress=0,this.logs=[],this.successCount=0,this.errorCount=0}onFileSelected(t){const r=t.target.files?.[0];if(!r)return;const o=new FileReader;o.onload=s=>{try{const a=s.target?.result;this.tasks=JSON.parse(a),this.statusMessage=`Ready to upload ${this.tasks.length} tasks.`,this.log(`File loaded. Found ${this.tasks.length} tasks.`,"success")}catch(a){const c=a instanceof Error?a.message:String(a);this.log(`Error parsing JSON: ${c}`,"error"),this.statusMessage="Error parsing JSON file."}},o.readAsText(r)}startUpload(){var t=this;return g(function*(){if(0!==t.tasks.length){t.isUploading=!0,t.uploadProgress=0,t.successCount=0,t.errorCount=0,t.log("Starting bulk upload...","info");for(let i=0;i<t.tasks.length;i++){const r=t.tasks[i];try{const o={...r},s=r.id;delete o.id,o.dueDate&&"string"==typeof o.dueDate&&(o.dueDate=new Date(o.dueDate)),yield t.taskService.setTask(s,o),t.successCount++,t.uploadProgress=Math.round((i+1)/t.tasks.length*100),t.statusMessage=`Progress: ${i+1}/${t.tasks.length} (${t.uploadProgress}%)`}catch(o){console.error(o),t.log(`Failed to upload ${r.title||r.id}: ${o.message}`,"error"),t.errorCount++}i%10==0&&(yield new Promise(o=>setTimeout(o,100)))}t.log(`Upload complete! Success: ${t.successCount}, Failed: ${t.errorCount}`,"success"),t.isUploading=!1,t.statusMessage="Upload Finished"}})()}log(t,i="info"){this.logs.push({message:`[${(new Date).toLocaleTimeString()}] ${t}`,type:i}),setTimeout(()=>this.scrollToBottom(),100)}scrollToBottom(){this.logContainer&&(this.logContainer.nativeElement.scrollTop=this.logContainer.nativeElement.scrollHeight)}static{this.\u0275fac=function(i){return new(i||n)(k(hH))}}static{this.\u0275cmp=io({type:n,selectors:[["app-bulk-uploader"]],viewQuery:function(i,r){if(1&i&&ud(Wme,5),2&i){let o;dd(o=function hd(){return function JK(n,e){return n[Hi].queries[e].queryList}(T(),YS())}())&&(r.logContainer=o.first)}},decls:20,vars:7,consts:[[1,"uploader-card"],[1,"header-box"],[1,"file-drop-zone"],["type","file","accept",".json",3,"disabled","change"],["class","stats-msg",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"log-console"],["logScrollContainer",""],[3,"className",4,"ngFor","ngForOf"],["class","placeholder",4,"ngIf"],[1,"upload-action-box"],[1,"btn-bulk","ripple",3,"disabled","click"],[1,"fas","fa-cloud-arrow-up"],[1,"stats-msg"],[1,"progress-bar-container"],[1,"p-bar-outer"],[1,"p-bar-inner"],[1,"p-bar-details"],[1,"success"],[1,"divider"],[1,"error"],[3,"className"],[1,"placeholder"],[1,"fas","fa-terminal"]],template:function(i,r){1&i&&(w(0,"div",0)(1,"div",1)(2,"h3"),H(3,"Bulk Uploader"),I(),w(4,"p"),H(5,"Seamlessly import task batches via JSON"),I()(),w(6,"div",2)(7,"p"),H(8,"Select your task JSON file"),I(),w(9,"input",3),K("change",function(s){return r.onFileSelected(s)}),I(),at(10,Kme,2,1,"p",4),I(),at(11,Yme,13,5,"div",5),w(12,"div",6,7),at(14,Qme,2,2,"div",8),at(15,Xme,3,0,"div",9),I(),w(16,"div",10)(17,"button",11),K("click",function(){return r.startUpload()}),te(18,"i",12),H(19),I()()()),2&i&&(P(9),ee("disabled",r.isUploading),P(1),ee("ngIf",r.tasks.length>0),P(1),ee("ngIf",r.isUploading||r.uploadProgress>0),P(3),ee("ngForOf",r.logs),P(1),ee("ngIf",0===r.logs.length),P(2),ee("disabled",r.isUploading||0===r.tasks.length),P(2),ei(" ",r.isUploading?"Uploading Sequence...":"Initiate Bulk Upload"," "))},dependencies:[Vb,Bb],styles:['.uploader-card[_ngcontent-%COMP%]{margin:2.5rem 0;background:rgba(255,255,255,.04);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid var(--pwa-border);border-radius:2.5rem;padding:2rem;color:var(--pwa-text);box-shadow:0 15px 35px #0000004d}.uploader-card[_ngcontent-%COMP%]   .header-box[_ngcontent-%COMP%]{margin-bottom:2.5rem}.uploader-card[_ngcontent-%COMP%]   .header-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:800;color:var(--pwa-primary);margin-bottom:.5rem;background:var(--pwa-primary-gradient);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.uploader-card[_ngcontent-%COMP%]   .header-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--pwa-text-muted);font-size:1rem;font-weight:600}.uploader-card[_ngcontent-%COMP%]   .file-drop-zone[_ngcontent-%COMP%]{padding:2.5rem;border:3px dashed rgba(255,255,255,.08);border-radius:2rem;text-align:center;background:rgba(15,23,42,.4);margin-bottom:2.5rem;transition:all .4s cubic-bezier(.175,.885,.32,1.275)}.uploader-card[_ngcontent-%COMP%]   .file-drop-zone[_ngcontent-%COMP%]:hover{border-color:var(--pwa-primary);background:rgba(99,102,241,.08);transform:scale(1.02)}.uploader-card[_ngcontent-%COMP%]   .file-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;color:var(--pwa-text);margin-bottom:1rem}.uploader-card[_ngcontent-%COMP%]   .file-drop-zone[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:100%;color:var(--pwa-text-muted);font-size:.95rem;font-weight:700;margin-top:1.25rem}.uploader-card[_ngcontent-%COMP%]   .file-drop-zone[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]::file-selector-button{background:var(--pwa-primary-gradient);border:none;padding:.6rem 1.2rem;border-radius:12px;color:#fff;font-weight:800;margin-right:1rem;cursor:pointer}.uploader-card[_ngcontent-%COMP%]   .file-drop-zone[_ngcontent-%COMP%]   .stats-msg[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:.9rem;font-weight:800;color:var(--pwa-accent);text-transform:uppercase;letter-spacing:1px}.uploader-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{margin-bottom:2.5rem}.uploader-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .p-bar-outer[_ngcontent-%COMP%]{height:12px;background:rgba(255,255,255,.05);border-radius:10px;overflow:hidden;margin-bottom:1rem;box-shadow:inset 0 2px 4px #0000004d}.uploader-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .p-bar-outer[_ngcontent-%COMP%]   .p-bar-inner[_ngcontent-%COMP%]{height:100%;background:var(--pwa-primary-gradient);transition:width .6s cubic-bezier(.34,1.56,.64,1);box-shadow:0 0 15px #a855f780}.uploader-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .p-bar-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem;font-weight:800;color:var(--pwa-text-muted)}.uploader-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .p-bar-details[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:var(--pwa-success)}.uploader-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .p-bar-details[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--pwa-danger)}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]{background:#020617;border:1px solid rgba(255,255,255,.05);border-radius:1.75rem;height:320px;overflow-y:auto;padding:1.75rem;font-family:JetBrains Mono,Fira Code,monospace;font-size:.85rem;box-shadow:inset 0 4px 12px #00000080;scrollbar-width:none}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{margin-bottom:.5rem;line-height:1.6;opacity:.9;display:flex;gap:.75rem}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]:before{content:">";opacity:.3}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]   .log-line.info[_ngcontent-%COMP%]{color:var(--pwa-accent)}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]   .log-line.success[_ngcontent-%COMP%]{color:var(--pwa-success)}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]   .log-line.error[_ngcontent-%COMP%]{color:var(--pwa-danger)}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#ffffff1a;gap:1rem}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;opacity:.2}.uploader-card[_ngcontent-%COMP%]   .log-console[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-weight:600;opacity:.5}.uploader-card[_ngcontent-%COMP%]   .upload-action-box[_ngcontent-%COMP%]{margin-top:2.5rem}.uploader-card[_ngcontent-%COMP%]   .upload-action-box[_ngcontent-%COMP%]   .btn-bulk[_ngcontent-%COMP%]{width:100%;padding:1.4rem;border-radius:1.75rem;background:var(--pwa-primary-gradient);border:none;color:#fff;font-weight:800;font-size:1.2rem;display:flex;align-items:center;justify-content:center;gap:1rem;box-shadow:0 12px 28px #6366f166;cursor:pointer;transition:all .4s cubic-bezier(.175,.885,.32,1.275)}.uploader-card[_ngcontent-%COMP%]   .upload-action-box[_ngcontent-%COMP%]   .btn-bulk[_ngcontent-%COMP%]:disabled{background:rgba(255,255,255,.05);color:#ffffff26;box-shadow:none;cursor:not-allowed;transform:none!important}.uploader-card[_ngcontent-%COMP%]   .upload-action-box[_ngcontent-%COMP%]   .btn-bulk[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.96);box-shadow:0 5px 15px #0003}']})}}return n})();function Jme(n,e){1&n&&te(0,"span",32)}function ege(n,e){if(1&n){const t=Xi();w(0,"div",52),K("click",function(){const o=we(t).$implicit;return Ce(le(2).editTask(o))})("keyup.enter",function(){const o=we(t).$implicit;return Ce(le(2).editTask(o))}),te(1,"div",53),w(2,"div",54)(3,"h4"),H(4),I(),w(5,"span"),te(6,"i",55),H(7),I()(),w(8,"button",56),K("click",function(r){const s=we(t).$implicit;return le(2).toggleTaskStatus(s),Ce(r.stopPropagation())}),te(9,"i",57),I()()}if(2&n){const t=e.$implicit;ed("animation-delay",.1*e.index+"s"),P(1),ee("ngClass",t.priority),P(3),jt(t.title),P(3),ei(" ",t.dueTime,""),P(1),ct("checked","completed"===t.status)}}function tge(n,e){if(1&n){const t=Xi();w(0,"div",33)(1,"div",34)(2,"h2"),H(3,"Hello, "),w(4,"span",9),H(5,"Felix!"),I()(),w(6,"p"),H(7),I()(),w(8,"div",35)(9,"div",36)(10,"div",37),K("click",function(){return we(t),Ce(le().selectTab("tasks"))})("keyup.enter",function(){return we(t),Ce(le().selectTab("tasks"))}),w(11,"div",38),te(12,"i",39),I(),w(13,"div",40)(14,"span",41),H(15),I(),w(16,"span",42),H(17,"Pending"),I()()(),w(18,"div",37),K("click",function(){return we(t),Ce(le().selectTab("tasks"))})("keyup.enter",function(){return we(t),Ce(le().selectTab("tasks"))}),w(19,"div",43),te(20,"i",44),I(),w(21,"div",40)(22,"span",41),H(23),I(),w(24,"span",42),H(25,"Ongoing"),I()()(),w(26,"div",37),K("click",function(){return we(t),Ce(le().selectTab("tasks"))})("keyup.enter",function(){return we(t),Ce(le().selectTab("tasks"))}),w(27,"div",45),te(28,"i",46),I(),w(29,"div",40)(30,"span",41),H(31),I(),w(32,"span",42),H(33,"Completed"),I()()()()(),w(34,"div",47)(35,"div",48)(36,"h3"),H(37,"Today's Focus"),I(),w(38,"button",49),K("click",function(){return we(t),Ce(le().selectTab("tasks"))}),H(39,"Overview"),I()(),w(40,"div",50),at(41,ege,10,7,"div",51),I()()()}if(2&n){const t=le();P(7),ei("Optimize your day with ",t.getTaskCountByStatus("pending")," tasks."),P(8),jt(t.getTaskCountByStatus("pending")),P(8),jt(t.getTaskCountByStatus("in-progress")),P(8),jt(t.getTaskCountByStatus("completed")),P(10),ee("ngForOf",t.filteredTasks.slice(0,3))}}function nge(n,e){1&n&&te(0,"i",57)}function ige(n,e){if(1&n){const t=Xi();w(0,"div",65),K("click",function(){const o=we(t).$implicit;return Ce(le(2).editTask(o))})("keyup.enter",function(){const o=we(t).$implicit;return Ce(le(2).editTask(o))}),w(1,"div",66)(2,"button",67),K("click",function(r){const s=we(t).$implicit;return le(2).toggleTaskStatus(s),Ce(r.stopPropagation())}),w(3,"div",68),at(4,nge,1,0,"i",69),I()()(),w(5,"div",70)(6,"h4"),H(7),I(),w(8,"p"),H(9),I(),w(10,"div",71)(11,"span",72),te(12,"i",73),H(13),Jv(14,"date"),I(),w(15,"span",74),H(16),I()()()()}if(2&n){const t=e.$implicit;ed("animation-delay",.05*e.index+"s"),ee("ngClass",t.status),P(3),ct("active","completed"===t.status),P(1),ee("ngIf","completed"===t.status),P(3),jt(t.title),P(2),jt(t.description),P(4),ei(" ",eb(14,11,t.dueDate,"MMM d"),""),P(2),ee("ngClass",t.priority),P(1),jt(t.priority)}}function rge(n,e){1&n&&(w(0,"div",75),te(1,"i",76),w(2,"p"),H(3,"Magic happens when you're caught up!"),I()())}function oge(n,e){if(1&n){const t=Xi();w(0,"div",58)(1,"div",59)(2,"h3"),H(3,"Your Tasks"),I(),w(4,"div",60)(5,"button",61),K("click",function(){we(t);const r=le();return r.selectedFilter="all",Ce(r.filterTasks())}),H(6," All "),I(),w(7,"button",61),K("click",function(){we(t);const r=le();return r.selectedFilter="today",Ce(r.filterTasks())}),H(8," Today "),I(),w(9,"button",61),K("click",function(){we(t);const r=le();return r.selectedFilter="week",Ce(r.filterTasks())}),H(10," Week "),I()()(),w(11,"div",62),at(12,ige,17,14,"div",63),at(13,rge,4,0,"div",64),I()()}if(2&n){const t=le();P(5),ct("active","all"===t.selectedFilter),P(2),ct("active","today"===t.selectedFilter),P(2),ct("active","week"===t.selectedFilter),P(3),ee("ngForOf",t.filteredTasks),P(1),ee("ngIf",0===t.filteredTasks.length)}}function sge(n,e){if(1&n&&(w(0,"span"),H(1),I()),2&n){const t=e.$implicit;P(1),jt(t.charAt(0))}}function age(n,e){1&n&&te(0,"div",91)}const cge=function(n,e,t){return{"not-current":n,"is-today":e,"is-selected":t}};function lge(n,e){if(1&n){const t=Xi();w(0,"button",89),K("click",function(){const o=we(t).$implicit;return Ce(le(2).selectDate(o.date))}),w(1,"span"),H(2),I(),at(3,age,1,0,"div",90),I()}if(2&n){const t=e.$implicit,i=le(2);ee("ngClass",Zv(3,cge,!t.isCurrentMonth,t.isToday,i.selectedDate.toDateString()===t.date.toDateString())),P(2),jt(t.date.getDate()),P(1),ee("ngIf",t.hasTask)}}function dge(n,e){if(1&n&&(w(0,"div",97)(1,"span",98),H(2),I(),w(3,"span",99),H(4),I(),te(5,"div",100),I()),2&n){const t=e.$implicit;P(2),jt(t.dueTime),P(2),jt(t.title),P(1),ee("ngClass",t.priority)}}function uge(n,e){if(1&n&&(w(0,"div",92)(1,"div",93)(2,"h4"),H(3),Jv(4,"date"),I(),w(5,"span",94),H(6),I()(),w(7,"div",95),at(8,dge,6,3,"div",96),I()()),2&n){const t=le(2);P(3),jt(eb(4,3,t.selectedDate,"MMMM d")),P(3),ei("",t.selectedDateTasks.length," items"),P(2),ee("ngForOf",t.selectedDateTasks)}}function hge(n,e){if(1&n){const t=Xi();w(0,"div",33)(1,"div",77)(2,"button",78),K("click",function(){return we(t),Ce(le().previousMonth())}),te(3,"i",79),I(),w(4,"h3"),H(5),I(),w(6,"button",80),K("click",function(){return we(t),Ce(le().nextMonth())}),te(7,"i",81),I()(),w(8,"div",82)(9,"div",83)(10,"div",84),at(11,sge,2,1,"span",85),I(),w(12,"div",86),at(13,lge,4,7,"button",87),I()()(),at(14,uge,9,6,"div",88),I()}if(2&n){const t=le();P(5),jt(t.currentMonth),P(6),ee("ngForOf",t.weekDays),P(2),ee("ngForOf",t.calendarDays),P(1),ee("ngIf",t.selectedDateTasks.length>0)}}function fge(n,e){if(1&n){const t=Xi();w(0,"div",33)(1,"div",101)(2,"div",102)(3,"div",103),te(4,"img",104),I(),w(5,"h3",9),H(6,"Felix Anderson"),I(),w(7,"div",105),te(8,"i",106),w(9,"span"),H(10,"TaskFlow Elite"),I()()(),w(11,"div",107)(12,"button",108),te(13,"i",109),w(14,"span"),H(15,"Security"),I()(),w(16,"button",108),te(17,"i",110),w(18,"span"),H(19,"Alerts"),I()(),w(20,"button",111),K("click",function(){return we(t),Ce(le().openTaskModal())}),te(21,"i",29),w(22,"span"),H(23,"New Task"),I()(),w(24,"button",112),K("click",function(){return we(t),Ce(le().confirmDeleteAll())}),te(25,"i",113),w(26,"span"),H(27,"Clear All"),I()(),w(28,"button",114),te(29,"i",115),w(30,"span"),H(31,"Logout"),I()()(),w(32,"div",82),te(33,"app-bulk-uploader"),I()()()}}function pge(n,e){if(1&n){const t=Xi();w(0,"button",143),K("click",function(){we(t);const r=le(2);return Ce(r.deleteTask(r.newTask.id))}),H(1," Delete "),I()}}function mge(n,e){if(1&n){const t=Xi();w(0,"div",116),K("click",function(){return we(t),Ce(le().closeTaskModal())}),w(1,"div",117),K("click",function(r){return r.stopPropagation()}),te(2,"div",118),w(3,"div",119)(4,"h3"),H(5),I(),w(6,"button",120),K("click",function(){return we(t),Ce(le().closeTaskModal())}),te(7,"i",121),I()(),w(8,"div",122)(9,"form",123,124),K("ngSubmit",function(){return we(t),Ce(le().saveTask())}),w(11,"div",125)(12,"label"),H(13,"What's the goal?"),I(),w(14,"input",126),K("ngModelChange",function(r){return we(t),Ce(le().newTask.title=r)}),I()(),w(15,"div",125)(16,"label"),H(17,"Details"),I(),w(18,"textarea",127),K("ngModelChange",function(r){return we(t),Ce(le().newTask.description=r)}),I()(),w(19,"div",128)(20,"div",125)(21,"label"),H(22,"When?"),I(),w(23,"input",129),K("ngModelChange",function(r){return we(t),Ce(le().newTask.dueDateString=r)}),I()(),w(24,"div",125)(25,"label"),H(26,"Time"),I(),w(27,"input",130),K("ngModelChange",function(r){return we(t),Ce(le().newTask.dueTime=r)}),I()()(),w(28,"div",131)(29,"label"),H(30,"Priority"),I(),w(31,"div",132)(32,"button",133),K("click",function(){return we(t),Ce(le().newTask.priority="low")}),H(33," Low "),I(),w(34,"button",134),K("click",function(){return we(t),Ce(le().newTask.priority="medium")}),H(35," Med "),I(),w(36,"button",135),K("click",function(){return we(t),Ce(le().newTask.priority="high")}),H(37," High "),I()()(),w(38,"div",136)(39,"span"),H(40,"Alert me"),I(),w(41,"label",137)(42,"input",138),K("ngModelChange",function(r){return we(t),Ce(le().newTask.notificationEnabled=r)}),I(),te(43,"span",139),I()(),w(44,"div",140),at(45,pge,2,0,"button",141),w(46,"button",142),H(47),I()()()()()()}if(2&n){const t=function Pv(n){return Ca(function j6(){return Z.lFrame.contextLView}(),ue+n)}(10),i=le();ee("@fadeIn",void 0),P(1),ee("@slideUp",void 0),P(4),jt(i.editingTask?"Refine Task":"New Adventure"),P(9),ee("ngModel",i.newTask.title),P(4),ee("ngModel",i.newTask.description),P(5),ee("ngModel",i.newTask.dueDateString),P(4),ee("ngModel",i.newTask.dueTime),P(5),ct("active","low"===i.newTask.priority),P(2),ct("active","medium"===i.newTask.priority),P(2),ct("active","high"===i.newTask.priority),P(6),ee("ngModel",i.newTask.notificationEnabled),P(3),ee("ngIf",i.editingTask),P(1),ee("disabled",!t.valid),P(1),ei(" ",i.editingTask?"Update":"Create"," ")}}const gge=function(n,e,t){return{"fa-circle-check":n,"fa-circle-exclamation":e,"fa-circle-info":t}};function _ge(n,e){if(1&n&&(w(0,"div",144)(1,"div",145)(2,"div",146),te(3,"i",147),I(),w(4,"div",148)(5,"p"),H(6),I()()()()),2&n){const t=le();ee("@fadeIn",void 0),P(1),ee("ngClass",t.toast.type),P(2),ee("ngClass",Zv(4,gge,"success"===t.toast.type,"error"===t.toast.type,"info"===t.toast.type)),P(3),jt(t.toast.message)}}let yge=(()=>{class n{constructor(t,i){this.swPush=t,this.firebaseTaskService=i,this.buildMarker="restored_v1",this.currentDate=new Date,this.selectedFilter="all",this.notificationPermission="default",this.notificationCheckInterval=null,this.tasks=[],this.filteredTasks=[],this.weekDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.calendarDays=[],this.currentMonth="",this.currentMonthIndex=(new Date).getMonth(),this.currentYear=(new Date).getFullYear(),this.selectedDate=new Date,this.selectedDateTasks=[],this.showTaskModal=!1,this.editingTask=!1,this.newTask={id:"",title:"",description:"",dueDate:new Date,dueDateString:this.formatDateForInput(new Date),dueTime:"09:00",priority:"medium",status:"pending",notificationEnabled:!0},this.activeTab="dashboard",this.Math=Math,this.toast={show:!1,message:"",type:"info"},this.checkNotificationSupport()}ngOnInit(){this.loadTasks(),this.requestNotificationPermission(),this.startNotificationChecks()}ngOnDestroy(){this.notificationCheckInterval&&clearInterval(this.notificationCheckInterval),this.tasksSubscription&&this.tasksSubscription.unsubscribe()}loadTasks(){console.log("DailyTaskReminderComponent: Loading tasks..."),this.tasksSubscription=this.firebaseTaskService.getTasks().subscribe({next:t=>{console.log("DailyTaskReminderComponent: Received tasks:",t.length),this.tasks=t.map(i=>({...i,dueDate:i.dueDate&&"function"==typeof i.dueDate.toDate?i.dueDate.toDate():new Date(i.dueDate)})),this.filterTasks(),this.generateCalendar(),this.updateSelectedDateTasks()},error:t=>{console.error("DailyTaskReminderComponent: Error loading tasks:",t),alert("Failed to load tasks. Check console for details.")}})}checkNotificationSupport(){"Notification"in window&&(this.notificationPermission=Notification.permission)}requestNotificationPermission(){var t=this;return g(function*(){if("Notification"in window&&"default"===Notification.permission){const i=yield Notification.requestPermission();t.notificationPermission=i}})()}startNotificationChecks(){this.notificationCheckInterval=setInterval(()=>{this.checkTaskNotifications()},1e4),this.checkTaskNotifications()}checkTaskNotifications(){const t=new Date;this.tasks.forEach(i=>{if(!i.notificationEnabled||"completed"===i.status)return;const o=this.combineDateTime(i.dueDate,i.dueTime).getTime()-t.getTime();o>54e4&&o<=66e4&&!i.notified10m&&(this.showNotification(i,"10 minutes"),this.firebaseTaskService.updateTask(i.id,{notified10m:!0})),Math.abs(o)<6e4&&!i.notifiedNow&&(this.showNotification(i,"now"),this.firebaseTaskService.updateTask(i.id,{notifiedNow:!0}))})}combineDateTime(t,i){const r=new Date(t),[o,s]=i.split(":");return r.setHours(parseInt(o,10),parseInt(s,10),0,0),r}showNotification(t,i){if("granted"!==this.notificationPermission)return;const r="now"===i?`Task Due Now: ${t.title}`:`Upcoming Task: ${t.title}`,s={body:"now"===i?`${t.description}`:`Due in ${i}: ${t.description}`,icon:"/assets/icons/icon-192x192.png",badge:"/assets/icons/icon-72x72.png",tag:`task-${t.id}`,requireInteraction:!0,data:{taskId:t.id}};"serviceWorker"in navigator?navigator.serviceWorker.ready.then(a=>{a.showNotification(r,s)}).catch(a=>{console.error("Service Worker notification error:",a),new Notification(r,s)}):new Notification(r,s)}selectTab(t){console.log("Switching to tab:",t),this.activeTab=t}showToast(t,i="success"){this.toast={show:!0,message:t,type:i},setTimeout(()=>{this.toast.show=!1},4e3)}getTaskCountByStatus(t){return this.tasks.filter(i=>i.status===t).length}filterTasks(){const t=new Date;t.setHours(0,0,0,0);const i=new Date;i.setDate(t.getDate()+(7-t.getDay())),i.setHours(23,59,59,999);const r=new Date(t.getFullYear(),t.getMonth()+1,0);switch(r.setHours(23,59,59,999),this.selectedFilter){case"today":this.filteredTasks=this.tasks.filter(o=>{const s=new Date(o.dueDate);return s.setHours(0,0,0,0),s.getTime()===t.getTime()});break;case"week":this.filteredTasks=this.tasks.filter(o=>{const s=new Date(o.dueDate);return s>=t&&s<=i});break;case"month":this.filteredTasks=this.tasks.filter(o=>{const s=new Date(o.dueDate);return s>=t&&s<=r});break;default:this.filteredTasks=[...this.tasks]}this.filteredTasks.sort((o,s)=>"overdue"===o.status&&"overdue"!==s.status?-1:"overdue"===s.status&&"overdue"!==o.status?1:new Date(o.dueDate).getTime()-new Date(s.dueDate).getTime())}toggleTaskStatus(t){this.firebaseTaskService.updateTask(t.id,{status:"completed"===t.status?"pending":"completed"})}editTask(t){this.newTask={...t},this.newTask.dueDateString=this.formatDateForInput(t.dueDate),this.editingTask=!0,this.showTaskModal=!0}deleteTask(t){confirm("Are you sure you want to delete this task?")&&this.firebaseTaskService.deleteTask(t).then(()=>{this.showToast("Task deleted successfully","error"),this.closeTaskModal()})}confirmDeleteAll(){if(0!==this.tasks.length){if(confirm("PERMANENT ACTION: Are you sure you want to delete ALL tasks? This cannot be undone.")){const t=this.tasks.map(i=>i.id).filter(i=>!!i);this.firebaseTaskService.deleteAllTasks(t).then(()=>{this.showToast(`Cleared ${t.length} adventures!`,"error")}).catch(i=>{console.error("Error deleting all tasks:",i),this.showToast("Failed to clear tasks","error")})}}else this.showToast("No tasks to delete","info")}openTaskModal(){this.resetNewTask(),this.editingTask=!1,this.showTaskModal=!0}resetNewTask(){this.newTask={id:"",title:"",description:"",dueDate:new Date,dueDateString:this.formatDateForInput(new Date),dueTime:"09:00",priority:"medium",status:"pending",notificationEnabled:!0}}closeTaskModal(){this.showTaskModal=!1}saveTask(){const t=new Date(this.newTask.dueDateString),i=new Date;i.setHours(0,0,0,0);const r=new Date(t);r.setHours(0,0,0,0);let o=this.newTask.status;r<i&&"completed"!==o&&(o="overdue");const s={title:this.newTask.title,description:this.newTask.description,dueDate:t,dueDateString:this.newTask.dueDateString,dueTime:this.newTask.dueTime,priority:this.newTask.priority,status:o,notificationEnabled:this.newTask.notificationEnabled};console.log("DailyTaskReminderComponent: Saving task data:",s),this.editingTask&&this.newTask.id?this.firebaseTaskService.updateTask(this.newTask.id,s).then(()=>{console.log("DailyTaskReminderComponent: Task updated successfully"),this.showToast("Task updated successfully!"),this.closeTaskModal(),this.resetNewTask()}).catch(a=>{console.error("DailyTaskReminderComponent: Error updating task:",a),this.showToast("Error updating task","error")}):this.firebaseTaskService.addTask(s).then(()=>{console.log("DailyTaskReminderComponent: Task added successfully"),this.showToast("Task created! Ready for adventure?"),this.closeTaskModal(),this.resetNewTask()}).catch(a=>{console.error("DailyTaskReminderComponent: Error adding task:",a),this.showToast("Error adding task","error")})}generateCalendar(){this.calendarDays=[],this.currentMonth=`${["January","February","March","April","May","June","July","August","September","October","November","December"][this.currentMonthIndex]} ${this.currentYear}`;const i=new Date(this.currentYear,this.currentMonthIndex,1),r=new Date(this.currentYear,this.currentMonthIndex+1,0),o=i.getDay(),s=new Date(this.currentYear,this.currentMonthIndex,0).getDate();for(let l=o-1;l>=0;l--){const d=new Date(this.currentYear,this.currentMonthIndex-1,s-l);this.calendarDays.push({date:d,isCurrentMonth:!1,isToday:this.isToday(d),hasTask:this.hasTaskOnDate(d)})}for(let l=1;l<=r.getDate();l++){const d=new Date(this.currentYear,this.currentMonthIndex,l);this.calendarDays.push({date:d,isCurrentMonth:!0,isToday:this.isToday(d),hasTask:this.hasTaskOnDate(d)})}const c=42-this.calendarDays.length;for(let l=1;l<=c;l++){const d=new Date(this.currentYear,this.currentMonthIndex+1,l);this.calendarDays.push({date:d,isCurrentMonth:!1,isToday:this.isToday(d),hasTask:this.hasTaskOnDate(d)})}}isToday(t){const i=new Date;return t.getDate()===i.getDate()&&t.getMonth()===i.getMonth()&&t.getFullYear()===i.getFullYear()}hasTaskOnDate(t){const i=t.toDateString();return this.tasks.some(r=>new Date(r.dueDate).toDateString()===i)}previousMonth(){this.currentMonthIndex--,this.currentMonthIndex<0&&(this.currentMonthIndex=11,this.currentYear--),this.generateCalendar()}nextMonth(){this.currentMonthIndex++,this.currentMonthIndex>11&&(this.currentMonthIndex=0,this.currentYear++),this.generateCalendar()}selectDate(t){this.selectedDate=t,this.updateSelectedDateTasks()}selectDateOnKey(t,i){("Enter"===t.key||" "===t.key)&&(t.preventDefault(),this.selectDate(i))}updateSelectedDateTasks(){const t=this.selectedDate.toDateString();this.selectedDateTasks=this.tasks.filter(i=>new Date(i.dueDate).toDateString()===t),this.selectedDateTasks.sort((i,r)=>new Date(i.dueDate).getTime()-new Date(r.dueDate).getTime())}formatDateForInput(t){return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}static{this.\u0275fac=function(i){return new(i||n)(k(Q0),k(hH))}}static{this.\u0275cmp=io({type:n,selectors:[["app-daily-task-reminder"]],decls:46,vars:16,consts:[[1,"responsive-frame"],[1,"bg-circle","bg-circle-1"],[1,"bg-circle","bg-circle-2"],[1,"app-container"],[1,"app-header","glass"],[1,"header-content","page-padding"],[1,"app-logo"],[1,"logo-icon-wrapper"],[1,"fas","fa-bolt-lightning"],[1,"text-gradient"],[1,"header-actions"],["aria-label","Notifications",1,"icon-btn","ripple",3,"click","keyup.enter"],[1,"fas","fa-bell"],["class","pulse-dot",4,"ngIf"],["aria-label","View Profile",1,"user-avatar-btn","ripple",3,"click","keyup.enter"],["src","https://api.dicebear.com/9.x/notionists/svg?seed=Emery","alt","User Avatar"],[1,"app-content"],[1,"tab-content-wrapper",3,"ngSwitch"],["class","tab-content animate-fade-in",4,"ngSwitchCase"],["class","tab-content animate-slide-up",4,"ngSwitchCase"],[1,"pwa-nav","glass"],[1,"nav-content","page-padding"],[1,"nav-btn",3,"click"],[1,"fas","fa-compass"],[1,"fas","fa-layer-group"],[1,"fab-spacer"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-circle-user"],["aria-label","Add Task",1,"master-fab",3,"click"],[1,"fas","fa-plus"],["class","sheet-overlay",3,"click",4,"ngIf"],["class","toast-container",4,"ngIf"],[1,"pulse-dot"],[1,"tab-content","animate-fade-in"],[1,"welcome-section","page-padding"],[1,"stats-scroll-x"],[1,"stats-row","page-padding"],["tabindex","0",1,"glass","stat-card","ripple",3,"click","keyup.enter"],[1,"stat-icon-bg","pending"],[1,"fas","fa-clock"],[1,"stat-info"],[1,"val"],[1,"lbl"],[1,"stat-icon-bg","progress"],[1,"fas","fa-spinner"],[1,"stat-icon-bg","done"],[1,"fas","fa-check-double"],[1,"section-container","page-padding"],[1,"section-header"],[1,"view-all-btn","ripple",3,"click"],[1,"focus-list"],["class","glass focus-card ripple","tabindex","0",3,"animation-delay","click","keyup.enter",4,"ngFor","ngForOf"],["tabindex","0",1,"glass","focus-card","ripple",3,"click","keyup.enter"],[1,"priority-indicator",3,"ngClass"],[1,"focus-content"],[1,"far","fa-clock"],[1,"quick-check",3,"click"],[1,"fas","fa-check"],[1,"tab-content","animate-slide-up"],[1,"tasks-header","page-padding"],[1,"filter-bar"],[1,"filter-chip",3,"click"],[1,"task-list"],["class","glass task-card-full ripple","tabindex","0",3,"animation-delay","ngClass","click","keyup.enter",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["tabindex","0",1,"glass","task-card-full","ripple",3,"ngClass","click","keyup.enter"],[1,"task-check-column"],[1,"main-check",3,"click"],[1,"check-circle"],["class","fas fa-check",4,"ngIf"],[1,"task-details-column"],[1,"task-meta-row"],[1,"date-tag"],[1,"far","fa-calendar"],[1,"priority-tag",3,"ngClass"],[1,"empty-state"],[1,"fas","fa-sparkles"],[1,"cal-nav-bar","page-padding"],["aria-label","Previous Month",1,"cal-nav-btn","ripple",3,"click"],[1,"fas","fa-chevron-left"],["aria-label","Next Month",1,"cal-nav-btn","ripple",3,"click"],[1,"fas","fa-chevron-right"],[1,"page-padding"],[1,"glass","calendar-wrapper"],[1,"weekdays-strip"],[4,"ngFor","ngForOf"],[1,"days-grid"],["class","day-cell",3,"ngClass","click",4,"ngFor","ngForOf"],["class","day-tasks-section page-padding",4,"ngIf"],[1,"day-cell",3,"ngClass","click"],["class","task-dot",4,"ngIf"],[1,"task-dot"],[1,"day-tasks-section","page-padding"],[1,"day-header"],[1,"task-count"],[1,"mini-tasks-container"],["class","glass mini-task-card ripple",4,"ngFor","ngForOf"],[1,"glass","mini-task-card","ripple"],[1,"time"],[1,"title"],[1,"dot-priority",3,"ngClass"],[1,"profile-page"],[1,"profile-header","page-padding"],[1,"p-avatar-ring"],["src","https://api.dicebear.com/9.x/notionists/svg?seed=Emery","alt","Profile"],[1,"badge"],[1,"fas","fa-crown"],[1,"settings-grid","page-padding"],[1,"glass","setting-card","ripple"],[1,"fas","fa-user-shield"],[1,"fas","fa-bell-concierge"],[1,"glass","setting-card","ripple",3,"click"],[1,"glass","setting-card","ripple","danger",3,"click"],[1,"fas","fa-trash-can-arrow-up"],[1,"glass","setting-card","ripple","danger","shadow-sm"],[1,"fas","fa-sign-out-alt"],[1,"sheet-overlay",3,"click"],[1,"bottom-sheet","glass",3,"click"],[1,"drag-handle"],[1,"sheet-top","page-padding"],[1,"close-sheet","ripple",3,"click"],[1,"fas","fa-times"],[1,"sheet-content","page-padding"],[3,"ngSubmit"],["taskForm","ngForm"],[1,"input-field","glass"],["type","text","name","title","required","","placeholder","Project Alpha...",3,"ngModel","ngModelChange"],["name","description","rows","2","placeholder","Start by doing...",3,"ngModel","ngModelChange"],[1,"field-row"],["type","date","name","date","required","",3,"ngModel","ngModelChange"],["type","time","name","time","required","",3,"ngModel","ngModelChange"],[1,"priority-box","glass"],[1,"priority-options"],["type","button",1,"p-opt","low","ripple",3,"click"],["type","button",1,"p-opt","med","ripple",3,"click"],["type","button",1,"p-opt","high","ripple",3,"click"],[1,"switch-box","glass"],[1,"pwa-switch"],["type","checkbox","name","notif",3,"ngModel","ngModelChange"],[1,"pwa-slider"],[1,"sheet-actions"],["type","button","class","btn-secondary ripple",3,"click",4,"ngIf"],["type","submit",1,"btn-primary","ripple",3,"disabled"],["type","button",1,"btn-secondary","ripple",3,"click"],[1,"toast-container"],[1,"glass","toast-card",3,"ngClass"],[1,"toast-icon"],[1,"fas",3,"ngClass"],[1,"toast-content"]],template:function(i,r){1&i&&(w(0,"div",0),te(1,"div",1)(2,"div",2),w(3,"div",3)(4,"header",4)(5,"div",5)(6,"div",6)(7,"div",7),te(8,"i",8),I(),w(9,"h1",9),H(10,"TaskFlow"),I()(),w(11,"div",10)(12,"button",11),K("click",function(){return r.requestNotificationPermission()})("keyup.enter",function(){return r.requestNotificationPermission()}),te(13,"i",12),at(14,Jme,1,0,"span",13),I(),w(15,"button",14),K("click",function(){return r.selectTab("profile")})("keyup.enter",function(){return r.selectTab("profile")}),te(16,"img",15),I()()()(),w(17,"main",16)(18,"div",17),at(19,tge,42,5,"div",18),at(20,oge,14,8,"div",19),at(21,hge,15,4,"div",18),at(22,fge,34,0,"div",18),I()(),w(23,"nav",20)(24,"div",21)(25,"button",22),K("click",function(){return r.selectTab("dashboard")}),te(26,"i",23),w(27,"span"),H(28,"Explore"),I()(),w(29,"button",22),K("click",function(){return r.selectTab("tasks")}),te(30,"i",24),w(31,"span"),H(32,"Tasks"),I()(),te(33,"div",25),w(34,"button",22),K("click",function(){return r.selectTab("calendar")}),te(35,"i",26),w(36,"span"),H(37,"Plan"),I()(),w(38,"button",22),K("click",function(){return r.selectTab("profile")}),te(39,"i",27),w(40,"span"),H(41,"Me"),I()()()(),w(42,"button",28),K("click",function(){return r.openTaskModal()}),te(43,"i",29),I(),at(44,mge,48,17,"div",30),I(),at(45,_ge,7,8,"div",31),I()),2&i&&(P(14),ee("ngIf",r.getTaskCountByStatus("pending")>0),P(4),ee("ngSwitch",r.activeTab),P(1),ee("ngSwitchCase","dashboard"),P(1),ee("ngSwitchCase","tasks"),P(1),ee("ngSwitchCase","calendar"),P(1),ee("ngSwitchCase","profile"),P(3),ct("active","dashboard"===r.activeTab),P(4),ct("active","tasks"===r.activeTab),P(5),ct("active","calendar"===r.activeTab),P(4),ct("active","profile"===r.activeTab),P(6),ee("ngIf",r.showTaskModal),P(1),ee("ngIf",r.toast.show))},dependencies:[WN,Vb,Bb,pp,XN,KL,Op,k0,PL,NL,$p,H0,zp,Zme,JN],styles:['.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:transparent;position:relative;overflow:hidden;z-index:2}.app-header[_ngcontent-%COMP%]{height:90px;position:fixed;top:0;left:0;right:0;z-index:1000;border-radius:0 0 2.5rem 2.5rem;box-shadow:0 10px 40px #0003;border-bottom:1px solid var(--pwa-border);background:rgba(15,23,42,.8)!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}@media (max-width: 450px){.app-header[_ngcontent-%COMP%]{border-radius:0}}.app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-between;padding-top:1rem}.app-header[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.app-header[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]   .logo-icon-wrapper[_ngcontent-%COMP%]{width:44px;height:44px;background:var(--pwa-primary-gradient);border-radius:14px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px #6366f166}.app-header[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]   .logo-icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.3rem}.app-header[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:800;letter-spacing:-1px}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.icon-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;background:rgba(255,255,255,.05);border:1px solid var(--pwa-border);color:var(--pwa-text);display:flex;align-items:center;justify-content:center;font-size:1.2rem;transition:all .3s}.icon-btn[_ngcontent-%COMP%]:active{transform:scale(.9);background:rgba(255,255,255,.1)}.user-avatar-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;border:2px solid var(--pwa-primary);padding:2px;overflow:hidden;background:rgba(255,255,255,.1);box-shadow:0 4px 12px #6366f133}.user-avatar-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.app-content[_ngcontent-%COMP%]{flex:1;margin-top:90px;margin-bottom:84px;overflow-y:auto;scrollbar-width:none;padding-bottom:3rem}.app-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tab-content[_ngcontent-%COMP%]{padding-top:2rem}.welcome-section[_ngcontent-%COMP%]{margin-bottom:2.5rem}.welcome-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;font-weight:800;margin-bottom:.5rem;letter-spacing:-1px}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--pwa-text-muted);font-size:1.15rem;font-weight:500}.stats-scroll-x[_ngcontent-%COMP%]{margin-bottom:3rem;overflow-x:auto;scrollbar-width:none}.stats-scroll-x[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.stats-scroll-x[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding-bottom:1rem}.stat-card[_ngcontent-%COMP%]{min-width:160px;flex:1;padding:1.75rem;border-radius:2.5rem;display:flex;flex-direction:column;gap:1.5rem;transition:all .3s cubic-bezier(.175,.885,.32,1.275)}.stat-card[_ngcontent-%COMP%]:active{transform:scale(.96)}.stat-card[_ngcontent-%COMP%]   .stat-icon-bg[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-icon-bg.pending[_ngcontent-%COMP%]{background:#f59e0b;box-shadow:0 8px 20px #f59e0b4d}.stat-card[_ngcontent-%COMP%]   .stat-icon-bg.progress[_ngcontent-%COMP%]{background:#38bdf8;box-shadow:0 8px 20px #38bdf84d}.stat-card[_ngcontent-%COMP%]   .stat-icon-bg.done[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 8px 20px #10b9814d}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;display:block;margin-bottom:.2rem}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .lbl[_ngcontent-%COMP%]{font-size:.85rem;color:var(--pwa-text-muted);font-weight:700;text-transform:uppercase;letter-spacing:1px}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.75rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;letter-spacing:-.5px}.section-header[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]{background:rgba(99,102,241,.1);border:1px solid rgba(99,102,241,.1);color:var(--pwa-primary);font-weight:800;border-radius:2rem;padding:.5rem 1.25rem;font-size:.9rem;transition:all .3s}.section-header[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]:active{transform:scale(.95);background:rgba(99,102,241,.2)}.tasks-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.tasks-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;margin-bottom:1.5rem;letter-spacing:-1px}.tasks-header[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]{display:flex;gap:.85rem;padding:2px}.tasks-header[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]{padding:.75rem 1.75rem;border-radius:1.5rem;background:rgba(255,255,255,.04);border:1px solid var(--pwa-border);color:var(--pwa-text-muted);font-weight:800;font-size:.95rem;transition:all .4s cubic-bezier(.175,.885,.32,1.275);cursor:pointer}.tasks-header[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .filter-chip.active[_ngcontent-%COMP%]{background:var(--pwa-primary-gradient);color:#fff;border-color:transparent;box-shadow:0 10px 25px #6366f14d;transform:translateY(-2px) scale(1.05)}.tasks-header[_ngcontent-%COMP%]   .filter-bar[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]:active{transform:scale(.95)}.focus-card[_ngcontent-%COMP%], .task-card-full[_ngcontent-%COMP%]{background:var(--pwa-card);-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);border:1px solid var(--pwa-border);padding:1.5rem;border-radius:2.25rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:1.75rem;transition:all .4s cubic-bezier(.175,.885,.32,1.275);box-shadow:0 8px 24px #0000001a}.focus-card[_ngcontent-%COMP%]:hover, .task-card-full[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.04);border-color:#ffffff1f}.focus-card[_ngcontent-%COMP%]:active, .task-card-full[_ngcontent-%COMP%]:active{transform:scale(.97)}.focus-card[_ngcontent-%COMP%]   .priority-indicator[_ngcontent-%COMP%]{width:6px;height:44px;border-radius:3px}.focus-card[_ngcontent-%COMP%]   .priority-indicator.high[_ngcontent-%COMP%]{background:var(--pwa-danger);box-shadow:0 0 12px #ef444466}.focus-card[_ngcontent-%COMP%]   .priority-indicator.medium[_ngcontent-%COMP%]{background:var(--pwa-warning);box-shadow:0 0 12px #f59e0b66}.focus-card[_ngcontent-%COMP%]   .priority-indicator.low[_ngcontent-%COMP%]{background:var(--pwa-success);box-shadow:0 0 12px #10b98166}.focus-card[_ngcontent-%COMP%]   .focus-content[_ngcontent-%COMP%]{flex:1}.focus-card[_ngcontent-%COMP%]   .focus-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin-bottom:.4rem;letter-spacing:-.3px}.focus-card[_ngcontent-%COMP%]   .focus-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:var(--pwa-text-muted);font-weight:600;display:flex;align-items:center;gap:.5rem}.focus-card[_ngcontent-%COMP%]   .quick-check[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:2.5px solid rgba(255,255,255,.08);background:none;color:transparent;display:flex;align-items:center;justify-content:center;transition:all .3s}.focus-card[_ngcontent-%COMP%]   .quick-check.checked[_ngcontent-%COMP%]{background:var(--pwa-success);color:#fff;border-color:transparent;box-shadow:0 0 15px #10b9814d}.task-card-full[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1.75rem}.task-card-full[_ngcontent-%COMP%]   .task-check-column[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]{flex:1}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:700;margin-bottom:.6rem;letter-spacing:-.4px}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;color:var(--pwa-text-muted);margin-bottom:1.25rem;line-height:1.6;font-weight:500}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]   .task-meta-row[_ngcontent-%COMP%]{display:flex;gap:1.25rem;align-items:center}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]   .task-meta-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;font-weight:800;display:flex;align-items:center;gap:.5rem;color:var(--pwa-text-muted)}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]   .task-meta-row[_ngcontent-%COMP%]   .priority-tag[_ngcontent-%COMP%]{text-transform:uppercase;padding:.3rem .75rem;border-radius:.75rem}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]   .task-meta-row[_ngcontent-%COMP%]   .priority-tag.high[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);color:var(--pwa-danger)}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]   .task-meta-row[_ngcontent-%COMP%]   .priority-tag.medium[_ngcontent-%COMP%]{background:rgba(245,158,11,.1);color:var(--pwa-warning)}.task-card-full[_ngcontent-%COMP%]   .task-details-column[_ngcontent-%COMP%]   .task-meta-row[_ngcontent-%COMP%]   .priority-tag.low[_ngcontent-%COMP%]{background:rgba(16,185,129,.1);color:var(--pwa-success)}.task-card-full[_ngcontent-%COMP%]   .main-check[_ngcontent-%COMP%]{background:none;border:none;padding:0;cursor:pointer}.task-card-full[_ngcontent-%COMP%]   .check-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:14px;border:2.5px solid var(--pwa-border);display:flex;align-items:center;justify-content:center;transition:all .3s}.task-card-full[_ngcontent-%COMP%]   .check-circle.active[_ngcontent-%COMP%]{background:var(--pwa-primary-gradient);border-color:transparent;color:#fff;box-shadow:0 8px 20px #6366f14d}.cal-nav-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem}.cal-nav-bar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:800;letter-spacing:-.5px}.cal-nav-bar[_ngcontent-%COMP%]   .cal-nav-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;background:rgba(255,255,255,.05);border:1px solid var(--pwa-border);color:#fff;display:flex;align-items:center;justify-content:center;transition:all .3s}.cal-nav-bar[_ngcontent-%COMP%]   .cal-nav-btn[_ngcontent-%COMP%]:active{transform:scale(.9);background:rgba(255,255,255,.1)}.calendar-wrapper[_ngcontent-%COMP%]{padding:2rem;border-radius:3rem;background:var(--pwa-card);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--pwa-border);box-shadow:0 15px 40px #0003}.weekdays-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;margin-bottom:1.75rem;font-weight:800;color:var(--pwa-text-muted);font-size:.9rem}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:12px}.day-cell[_ngcontent-%COMP%]{aspect-ratio:1;border-radius:16px;border:none;background:transparent;color:#fff;font-weight:800;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:1.15rem;transition:all .3s;position:relative}.day-cell.not-current[_ngcontent-%COMP%]{opacity:.15}.day-cell.is-today[_ngcontent-%COMP%]{color:var(--pwa-primary);background:rgba(99,102,241,.1);box-shadow:inset 0 0 0 2px #6366f14d}.day-cell.is-selected[_ngcontent-%COMP%]{background:var(--pwa-primary-gradient);box-shadow:0 10px 24px #6366f166;transform:scale(1.1);color:#fff}.day-cell[_ngcontent-%COMP%]   .task-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--pwa-primary);position:absolute;bottom:8px;box-shadow:0 0 8px var(--pwa-primary)}.profile-page[_ngcontent-%COMP%]{animation:slideInUp .5s ease-out}.profile-header[_ngcontent-%COMP%]{padding-top:2rem;margin-bottom:3.5rem;text-align:center}.profile-header[_ngcontent-%COMP%]   .p-avatar-ring[_ngcontent-%COMP%]{width:120px;height:120px;padding:6px;background:var(--pwa-primary-gradient);border-radius:50%;margin:0 auto 1.5rem;box-shadow:0 15px 35px #6366f166;position:relative}.profile-header[_ngcontent-%COMP%]   .p-avatar-ring[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background:var(--pwa-bg-dark)}.profile-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;margin-bottom:.5rem;letter-spacing:-.5px}.profile-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.9rem;font-weight:800;color:var(--pwa-primary);background:rgba(99,102,241,.12);padding:.5rem 1.75rem;border-radius:2rem;text-transform:uppercase;letter-spacing:1px}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:3rem}.setting-card[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:2.5rem;display:flex;flex-direction:column;align-items:center;gap:1.25rem;background:var(--pwa-card);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid var(--pwa-border);transition:all .3s cubic-bezier(.175,.885,.32,1.275);cursor:pointer}.setting-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;background:var(--pwa-primary-gradient);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.setting-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:800;font-size:1.05rem;color:var(--pwa-text)}.setting-card[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);transform:translateY(-5px);border-color:#ffffff26}.setting-card[_ngcontent-%COMP%]:active{transform:scale(.95)}.setting-card.danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{-webkit-text-fill-color:var(--pwa-danger)}.setting-card.danger[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.05);border-color:#ef444433}.pwa-nav[_ngcontent-%COMP%]{height:84px;position:fixed;bottom:0;left:0;right:0;z-index:1000;border-radius:2.5rem 2.5rem 0 0;background:var(--pwa-card);-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);border-top:1px solid var(--pwa-border);box-shadow:0 -10px 40px #0003}@media (max-width: 450px){.pwa-nav[_ngcontent-%COMP%]{border-radius:0}}.pwa-nav[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:space-between;padding-bottom:1.25rem}.pwa-nav[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:.5rem;background:none;border:none;color:var(--pwa-text-muted);transition:all .3s}.pwa-nav[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.pwa-nav[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:800;text-transform:uppercase;letter-spacing:.5px}.pwa-nav[_ngcontent-%COMP%]   .nav-btn.active[_ngcontent-%COMP%]{color:var(--pwa-primary)}.pwa-nav[_ngcontent-%COMP%]   .nav-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:translateY(-4px) scale(1.1);text-shadow:0 4px 12px rgba(99,102,241,.3)}.pwa-nav[_ngcontent-%COMP%]   .fab-spacer[_ngcontent-%COMP%]{width:70px}.master-fab[_ngcontent-%COMP%]{position:fixed;bottom:38px;left:50%;transform:translate(-50%);width:72px;height:72px;border-radius:24px;background:var(--pwa-primary-gradient);color:#fff;font-size:2rem;border:none;z-index:1100;display:flex;align-items:center;justify-content:center;box-shadow:0 15px 35px #6366f180;transition:all .4s cubic-bezier(.175,.885,.32,1.275)}.master-fab[_ngcontent-%COMP%]:active{transform:translate(-50%) scale(.9) rotate(90deg)}.sheet-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(2,6,23,.9);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:2000;display:flex;align-items:flex-end;justify-content:center}.bottom-sheet[_ngcontent-%COMP%]{width:100%;max-width:440px;background:#0f172a;border-radius:3.5rem 3.5rem 0 0;position:relative;border:1px solid rgba(255,255,255,.1);border-bottom:none;max-height:85vh;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 -25px 60px #000000b3}.bottom-sheet[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{flex-shrink:0;width:64px;height:6px;background:rgba(255,255,255,.15);border-radius:3px;margin:1.5rem auto 1rem}.bottom-sheet[_ngcontent-%COMP%]   .sheet-top[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem}.bottom-sheet[_ngcontent-%COMP%]   .sheet-top[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;letter-spacing:-.7px;color:#fff}.bottom-sheet[_ngcontent-%COMP%]   .sheet-top[_ngcontent-%COMP%]   .close-sheet[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.05);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.3rem;cursor:pointer;transition:all .3s}.bottom-sheet[_ngcontent-%COMP%]   .sheet-top[_ngcontent-%COMP%]   .close-sheet[_ngcontent-%COMP%]:active{transform:rotate(90deg) scale(.9);background:rgba(255,255,255,.1)}.bottom-sheet[_ngcontent-%COMP%]   .sheet-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding-bottom:4rem;scrollbar-width:none;padding-top:1rem}.bottom-sheet[_ngcontent-%COMP%]   .sheet-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.input-field[_ngcontent-%COMP%]{padding:1.75rem;border-radius:2.25rem;margin-bottom:1.75rem;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);transition:all .3s}.input-field[_ngcontent-%COMP%]:focus-within{background:rgba(255,255,255,.06);border-color:var(--pwa-primary);box-shadow:0 0 0 5px #6366f11a}.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:800;color:var(--pwa-text-muted);text-transform:uppercase;display:block;margin-bottom:.85rem;letter-spacing:.7px}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background:none;border:none!important;color:#fff!important;font-size:1.25rem!important;font-weight:600!important;outline:none!important;font-family:inherit;padding:0!important;margin:0!important}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ffffff26}.field-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.priority-box[_ngcontent-%COMP%]{padding:1.75rem;border-radius:2.25rem;margin-bottom:2.5rem;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08)}.priority-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:800;color:var(--pwa-text-muted);text-transform:uppercase;display:block;margin-bottom:1.5rem;letter-spacing:.7px}.priority-box[_ngcontent-%COMP%]   .priority-options[_ngcontent-%COMP%]{display:flex;gap:1.25rem}.priority-box[_ngcontent-%COMP%]   .priority-options[_ngcontent-%COMP%]   .p-opt[_ngcontent-%COMP%]{flex:1;padding:1.1rem;border-radius:1.75rem;border:2px solid transparent;background:rgba(255,255,255,.06);color:var(--pwa-text-muted);font-weight:800;font-size:1.05rem;transition:all .4s cubic-bezier(.175,.885,.32,1.275);cursor:pointer}.priority-box[_ngcontent-%COMP%]   .priority-options[_ngcontent-%COMP%]   .p-opt.active[_ngcontent-%COMP%]{transform:scale(1.08)}.priority-box[_ngcontent-%COMP%]   .priority-options[_ngcontent-%COMP%]   .p-opt.active.low[_ngcontent-%COMP%]{background:rgba(16,185,129,.25);color:#10b981;border-color:#10b981;box-shadow:0 10px 25px #10b98140}.priority-box[_ngcontent-%COMP%]   .priority-options[_ngcontent-%COMP%]   .p-opt.active.med[_ngcontent-%COMP%]{background:rgba(245,158,11,.25);color:#f59e0b;border-color:#f59e0b;box-shadow:0 10px 25px #f59e0b40}.priority-box[_ngcontent-%COMP%]   .priority-options[_ngcontent-%COMP%]   .p-opt.active.high[_ngcontent-%COMP%]{background:rgba(239,68,68,.25);color:#ef4444;border-color:#ef4444;box-shadow:0 10px 25px #ef444440}.switch-box[_ngcontent-%COMP%]{padding:2rem;border-radius:2.25rem;margin-bottom:3rem;display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08)}.switch-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:800;color:#fff;font-size:1.2rem;letter-spacing:-.3px}.sheet-actions[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.sheet-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{flex:2;padding:1.75rem;border-radius:2.25rem;background:var(--pwa-primary-gradient);border:none;color:#fff;font-weight:800;font-size:1.3rem;box-shadow:0 12px 30px #6366f180;cursor:pointer;transition:all .3s}.sheet-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{transform:scale(.96)}.sheet-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.sheet-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex:1;padding:1.75rem;border-radius:2.25rem;background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.2);color:#ef4444;font-weight:800;cursor:pointer;transition:all .3s}.sheet-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:active{transform:scale(.96)}.pwa-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:64px;height:36px}.pwa-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.pwa-switch[_ngcontent-%COMP%]   .pwa-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ffffff1f;transition:.4s;border-radius:34px}.pwa-switch[_ngcontent-%COMP%]   .pwa-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:28px;width:28px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;box-shadow:0 2px 8px #0000004d}.pwa-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .pwa-slider[_ngcontent-%COMP%]{background:var(--pwa-primary-gradient)}.pwa-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .pwa-slider[_ngcontent-%COMP%]:before{transform:translate(28px)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:8rem 3rem;color:var(--pwa-text-muted)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:2.5rem;background:var(--pwa-primary-gradient);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;opacity:.4}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;font-size:1.35rem;letter-spacing:-.4px}.toast-container[_ngcontent-%COMP%]{position:fixed;top:110px;left:50%;transform:translate(-50%);z-index:3000;width:90%;max-width:380px;pointer-events:none}.toast-card[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-radius:1.75rem;display:flex;align-items:center;gap:1rem;box-shadow:0 20px 40px #0006;background:rgba(15,23,42,.9)!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);animation:_ngcontent-%COMP%_toastBounce .4s cubic-bezier(.175,.885,.32,1.275)}.toast-card[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{font-size:1.5rem;display:flex;align-items:center;justify-content:center}.toast-card[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:1.05rem;color:#fff;margin:0}.toast-card.success[_ngcontent-%COMP%]{border-left:4px solid var(--pwa-success)}.toast-card.success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:var(--pwa-success)}.toast-card.error[_ngcontent-%COMP%]{border-left:4px solid var(--pwa-danger)}.toast-card.error[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:var(--pwa-danger)}.toast-card.info[_ngcontent-%COMP%]{border-left:4px solid var(--pwa-primary)}.toast-card.info[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:var(--pwa-primary)}@keyframes _ngcontent-%COMP%_toastBounce{0%{transform:translateY(-20px) scale(.9);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}'],data:{animation:[cc("cardHover",[bd("default",Ft({transform:"translateY(0)"})),bd("hover",Ft({transform:"translateY(-5px)"})),ir("default <=> hover",nr("200ms ease-in-out"))]),cc("fadeIn",[ir(":enter",[Ft({opacity:0}),nr("200ms ease-out",Ft({opacity:1}))]),ir(":leave",[nr("200ms ease-in",Ft({opacity:0}))])]),cc("slideUp",[ir(":enter",[Ft({transform:"translateY(100%)"}),nr("300ms cubic-bezier(0.4, 0, 0.2, 1)",Ft({transform:"translateY(0)"}))]),ir(":leave",[nr("300ms cubic-bezier(0.4, 0, 0.2, 1)",Ft({transform:"translateY(100%)"}))])])]}})}}return n})(),vge=(()=>{class n{constructor(){this.title="task-app"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=io({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&te(0,"app-daily-task-reminder")},dependencies:[yge]})}}return n})();const bge_firebase={apiKey:"AIzaSyC9sGT1ap0mqTYmlCUPzPbenLrvuTrBRJs",authDomain:"pwa-app-1000e.firebaseapp.com",projectId:"pwa-app-1000e",storageBucket:"pwa-app-1000e.firebasestorage.app",messagingSenderId:"447048209140",appId:"1:447048209140:web:e05a2f75bdd659507b44a1",measurementId:"G-S3DSSKZF1S"};let Qk;try{Qk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Qk=!1}let lh,ra,Jr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?zb(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(D(ki))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wo(n){return function xge(){if(null==lh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lh=!0}))}finally{lh=lh||!1}return lh}()?n:!!n.capture}function wge(){if(null==ra){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ra=!1,ra;if("scrollBehavior"in document.documentElement.style)ra=!0;else{const n=Element.prototype.scrollTo;ra=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ra}function Zk(n){return n.composedPath?n.composedPath()[0]:n.target}function Jk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let Uge=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({providers:[Uge]})}}return n})();function a_(n){return Array.isArray(n)?n:[n]}function Mt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function tM(n){return n instanceof Bt?n.nativeElement:n}function _H(n,e,t){n?br(t,n,e):e()}function Wge(...n){const e=dl(n);return At((t,i)=>{(e?Rd(n,t,e):Rd(n,t)).subscribe(i)})}function yH(n){return At((e,t)=>{Xt(n).subscribe(Ct(t,()=>t.complete(),cl)),!t.closed&&e.subscribe(t)})}const vH=new Set;let sa,Kge=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qge}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Yge(n,e){if(!vH.has(n))try{sa||(sa=document.createElement("style"),e&&(sa.nonce=e),sa.setAttribute("type","text/css"),document.head.appendChild(sa)),sa.sheet&&(sa.sheet.insertRule(`@media ${n} {body{ }}`,0),vH.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(D(Jr),D(Zy,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Qge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Xge=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new et}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return bH(a_(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=function $ge(...n){const e=dl(n),t=GM(n),{args:i,keys:r}=aL(n);if(0===i.length)return ma([],e);const o=new Ve(function Gge(n,e,t=fa){return i=>{_H(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)_H(e,()=>{const l=ma(n[c],e);let d=!1;l.subscribe(Ct(i,u=>{o[c]=u,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>cL(r,s):fa));return t?o.pipe(T0(t)):o}(bH(a_(t)).map(s=>this._registerQuery(s).observable));return o=Rd(o.pipe(Fi(1)),o.pipe(function qge(n){return Ni((e,t)=>n<=t)}(1),function mH(n,e=Pd){return At((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=e.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}t.subscribe(Ct(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(We(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ve(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Wge(i),We(({matches:s})=>({query:t,matches:s})),yH(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(D(Kge),D(he))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const EH="cdk-high-contrast-black-on-white",DH="cdk-high-contrast-white-on-black",nM="cdk-high-contrast-active";let IH=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=pe(Xge).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(nM,EH,DH),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(nM,EH):2===i&&t.add(nM,DH)}}static{this.\u0275fac=function(i){return new(i||n)(D(Jr),D(Ne))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),d_e=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(D(IH))}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[gH]})}}return n})();const u_e=new A("cdk-dir-doc",{providedIn:"root",factory:function h_e(){return pe(Ne)}}),f_e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let m_e=(()=>{class n{constructor(t){this.value="ltr",this.change=new st,t&&(this.value=function p_e(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?f_e.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(D(u_e,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dh=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({})}}return n})();const __e=new A("mat-sanity-checks",{providedIn:"root",factory:function g_e(){return!0}});let Yt=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Jk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(i){return new(i||n)(D(IH),D(__e,8),D(Ne))}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[dh,dh]})}}return n})();const w_e=new A("MAT_DATE_LOCALE",{providedIn:"root",factory:function C_e(){return pe(tr)}});class yr{constructor(){this._localeChanges=new et,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const iM=new A("mat-date-formats"),E_e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function rM(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let D_e=(()=>{class n extends yr{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return rM(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return rM(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return rM(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(E_e.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}static{this.\u0275fac=function(i){return new(i||n)(D(w_e,8),D(Jr))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();const I_e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let T_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({providers:[{provide:yr,useClass:D_e}]})}}return n})(),k_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({providers:[{provide:iM,useValue:I_e}],imports:[T_e]})}}return n})();const MH=Wo({passive:!0,capture:!0});class S_e{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Zk(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,MH)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,MH)))}}class c_{static{this._eventManager=new S_e}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=tM(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...SH,...i.animation},s=i.radius||function R_e(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),f=u.transitionDuration,p="none"===u.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,m=new M_e(this,d,i,p);d.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(m),y=()=>this._destroyRipple(m);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",y)}),this._activeRipples.set(m,null),(p||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...SH,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=tM(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,RH.forEach(i=>{c_._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{OH.forEach(t=>{this._triggerElement.addEventListener(t,this,AH)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function a_e(n){return 0===n.buttons||0===n.detail}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function c_e(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(RH.forEach(t=>c_._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&OH.forEach(t=>e.removeEventListener(t,this,AH)))}}let NH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt,Yt]})}}return n})(),P_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt,Yt]})}}return n})(),U_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt,mp,Yt]})}}return n})(),VH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({})}}return n})(),eye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt,NH,VH,Yt,VH]})}}return n})(),BH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt,NH,Yt]})}}return n})(),oM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt,mp,gH,Yt]})}}return n})(),dye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({})}}return n})(),hye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt,oM,oM,dye,Yt]})}}return n})();const hh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=hh;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new wt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=hh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=hh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class pye extends Wp{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class fye extends qp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=hh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&t===e._scheduled&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(hh.cancelAnimationFrame(t),e._scheduled=void 0)}});let sM,gye=1;const l_={};function jH(n){return n in l_&&(delete l_[n],!0)}const _ye={setImmediate(n){const e=gye++;return l_[e]=!0,sM||(sM=Promise.resolve()),sM.then(()=>jH(e)&&n()),e},clearImmediate(n){jH(n)}},{setImmediate:yye,clearImmediate:vye}=_ye,d_={setImmediate(...n){const{delegate:e}=d_;return(e?.setImmediate||yye)(...n)},clearImmediate(n){const{delegate:e}=d_;return(e?.clearImmediate||vye)(n)},delegate:void 0};new class xye extends Wp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class bye extends qp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=d_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(d_.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function UH(n,e=Pd){return function Cye(n){return At((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(Ct(t,l=>{i=!0,r=l,o||Xt(n(l)).subscribe(o=Ct(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>b2(n,e))}let Dye=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new et,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ve(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(UH(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ei()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ni(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=tM(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ad(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(D(he),D(Jr),D(Ne,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HH=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new et,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(UH(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(D(Jr),D(he),D(Ne,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({})}}return n})(),zH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[dh,aM,dh,aM]})}}return n})();class cM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Tye extends cM{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class kye extends cM{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Mye extends cM{constructor(e){super(),this.element=e instanceof Bt?e.nativeElement:e}}class Sye{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Tye?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof kye?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Mye?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Aye extends Sye{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||on.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let $H=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({})}}return n})();const GH=wge();class Rye{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Mt(-this._previousScrollPosition.left),e.style.top=Mt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),GH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),GH&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Oye{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ni(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class qH{enable(){}disable(){}attach(){}}function lM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function WH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Pye{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();lM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Nye=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new qH,this.close=s=>new Oye(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Rye(this._viewportRuler,this._document),this.reposition=s=>new Pye(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(D(Dye),D(HH),D(he),D(Ne))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Fye{constructor(e){if(this.scrollStrategy=new qH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Lye{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let KH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(D(Ne))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vye=(()=>{class n extends KH{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(D(Ne),D(he,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bye=(()=>{class n extends KH{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Zk(o)},this._clickListener=o=>{const s=Zk(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(D(Ne),D(Jr),D(he,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YH=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Jk()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),Jk()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(D(Ne),D(Jr))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class jye{constructor(e,t,i,r,o,s,a,c,l,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new et,this._attachments=new et,this._detachments=new et,this._locationChanges=wt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new et,this._outsidePointerEvents=new et,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Fi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Mt(this._config.width),e.height=Mt(this._config.height),e.minWidth=Mt(this._config.minWidth),e.minHeight=Mt(this._config.minHeight),e.maxWidth=Mt(this._config.maxWidth),e.maxHeight=Mt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=a_(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(yH(Ih(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const QH="cdk-overlay-connected-position-bounding-box",Uye=/([A-Za-z%]+)$/;class Hye{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new et,this._resizeSubscription=wt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(QH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&aa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=ZH(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let h=0-a,f=a+o.height-i.height,p=this._subtractOverflows(o.width,0-s,s+o.width-i.width),m=this._subtractOverflows(o.height,h,f),_=p*m;return{visibleArea:_,isCompletelyWithinViewport:o.width*o.height===_,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=XH(this._overlayRef.getConfig().minHeight),a=XH(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=ZH(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let d=0,u=0;return d=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,u=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Lye(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,u,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)u=e.x,d=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;d=2*f,u=e.x-f,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-p/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Mt(i.height),r.top=Mt(i.top),r.bottom=Mt(i.bottom),r.width=Mt(i.width),r.left=Mt(i.left),r.right=Mt(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Mt(o)),s&&(r.maxWidth=Mt(s))}this._lastBoundingBoxSize=i,aa(this._boundingBox.style,r)}_resetBoundingBoxStyles(){aa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){aa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();aa(i,this._getExactOverlayY(t,e,d)),aa(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Mt(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Mt(s.maxWidth):o&&(i.maxWidth="")),aa(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Mt(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Mt(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:WH(e,i),isOriginOutsideView:lM(e,i),isOverlayClipped:WH(t,i),isOverlayOutsideView:lM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&a_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function aa(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function XH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Uye);return t&&"px"!==t?null:parseFloat(e)}return n||null}function ZH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const JH="cdk-global-overlay-wrapper";class zye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(JH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";c?m="flex-start":"center"===d?(m="center",h?p=u:f=u):h?"left"===d||"end"===d?(m="flex-end",f=u):("right"===d||"start"===d)&&(m="flex-start",p=u):"left"===d||"start"===d?(m="flex-start",f=u):("right"===d||"end"===d)&&(m="flex-end",p=u),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,t.justifyContent=m,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(JH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let $ye=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new zye}flexibleConnectedTo(t){return new Hye(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(D(HH),D(Ne),D(Jr),D(YH))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gye=0,dM=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,u,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=u,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Fye(t);return s.direction=s.direction||this._directionality.value,new jye(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Gye++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(fo)),new Aye(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(D(Nye),D(YH),D(Hl),D($ye),D(Vye),D(on),D(he),D(Ne),D(m_e),D(FN),D(Bye),D(Bl,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Kye={provide:new A("cdk-connected-overlay-scroll-strategy"),deps:[dM],useFactory:function Wye(n){return()=>n.scrollStrategies.reposition()}};let Yye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({providers:[dM,Kye],imports:[dh,$H,zH,zH]})}}return n})(),Zye=(()=>{class n{constructor(){this.changes=new et,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const cve={provide:new A("mat-datepicker-scroll-strategy"),deps:[dM],useFactory:function ave(n){return()=>n.scrollStrategies.reposition()}};let mve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({providers:[Zye,cve],imports:[mp,BH,Yye,d_e,$H,Yt,aM]})}}return n})(),_ve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt]})}}return n})(),Xve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n})}static{this.\u0275inj=fe({imports:[Yt,Yt]})}}return n})(),Zve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ye({type:n,bootstrap:[vge]})}static{this.\u0275inj=fe({imports:[vF,$ee,Wte,Kte,P_e,U_e,eye,BH,oM,hye,mve,k_e,_ve,Xve,yne.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),pae(()=>mae(bge_firebase)),Lme(()=>Ume())]})}}return n})();UZ().bootstrapModule(Zve).catch(n=>console.error(n))}},ge=>{ge(ge.s=757)}]);